{"version":3,"sources":["webpack:///./node_modules/classnames/index.js","webpack:///./src/panel/containers/Filter.less","webpack:///./src/panel/containers/Instances.less","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/i18n/index.ts","webpack:///./src/panel/ChartsComponents.tsx","webpack:///./src/panel/components/FilterTableChart.tsx","webpack:///./src/panel/components/InstanceList.tsx","webpack:///./src/panel/components/MetricCharts.tsx","webpack:///./src/panel/components/PureChart.tsx","webpack:///./src/panel/components/Toolbar.tsx","webpack:///./src/panel/constants.ts","webpack:///./src/panel/containers/Filter.less?2df1","webpack:///./src/panel/containers/Filter.tsx","webpack:///./src/panel/containers/Instances.less?b74e","webpack:///./src/panel/containers/Instances.tsx","webpack:///./src/panel/containers/Pure.tsx","webpack:///./src/panel/core.ts","webpack:///./src/tea-components/bubble/Bubble.tsx","webpack:///./src/tea-components/bubble/BubbleWrapper.tsx","webpack:///./src/tea-components/bubble/index.ts","webpack:///./src/tea-components/datetimepicker/DateTimePicker.tsx","webpack:///./src/tea-components/datetimepicker/SingleDatePicker.tsx","webpack:///./src/tea-components/datetimepicker/index.ts","webpack:///./src/tea-components/libs/decorators/OnOuterClick.ts","webpack:///./src/tea-components/libs/helpers/AppendFunction.ts","webpack:///./src/tea-components/tagsearchbox/AttributeSelect.tsx","webpack:///./src/tea-components/tagsearchbox/Input.tsx","webpack:///./src/tea-components/tagsearchbox/Tag.tsx","webpack:///./src/tea-components/tagsearchbox/TagSearchBox.tsx","webpack:///./src/tea-components/tagsearchbox/index.ts","webpack:///./src/tea-components/tagsearchbox/valueselect/Loading.tsx","webpack:///./src/tea-components/tagsearchbox/valueselect/MultipleValueSelect.tsx","webpack:///./src/tea-components/tagsearchbox/valueselect/PureInput.tsx","webpack:///./src/tea-components/tagsearchbox/valueselect/SingleValueSelect.tsx","webpack:///./src/tea-components/tagsearchbox/valueselect/index.tsx","webpack:///./src/tea-components/timepicker/Select.tsx","webpack:///./src/tea-components/timepicker/TimePicker.tsx","webpack:///./src/tea-components/timepicker/index.ts","webpack:///./webpack/alias/react-dom.js"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK,KAA6B;AAClC;AACA;AACA,EAAE,UAAU,IAA4E;AACxF;AACA,EAAE,iCAAqB,EAAE,mCAAE;AAC3B;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAEN;AACF,CAAC;;;;;;;;;;;;ACnDD,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,uBAAuB,kBAAkB,GAAG,qBAAqB,kBAAkB,gBAAgB,sEAAsE,GAAG,wBAAwB,gBAAgB,gCAAgC,uBAAuB,wBAAwB,kGAAkG,6CAA6C;;;;;;;;;;;;;ACFzc,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,+CAA+C,uBAAuB,mBAAmB,gBAAgB,gBAAgB,oBAAoB,oBAAoB,kCAAkC,GAAG,wBAAwB,kBAAkB,wBAAwB,gBAAgB,GAAG,2BAA2B,uBAAuB,uBAAuB,wBAAwB,qBAAqB,2BAA2B,GAAG,sCAAsC,YAAY,qBAAqB,GAAG,iCAAiC,uBAAuB,0BAA0B,eAAe,iBAAiB,sBAAsB,gBAAgB,gBAAgB,2BAA2B,2BAA2B,0BAA0B,GAAG,2BAA2B,mBAAmB,gBAAgB,qBAAqB,oBAAoB,qCAAqC,GAAG,2BAA2B,mBAAmB,uBAAuB,qBAAqB,oCAAoC,kBAAkB,qBAAqB,GAAG,oCAAoC,8BAA8B,GAAG,oCAAoC,iBAAiB,sBAAsB,gBAAgB,gBAAgB,wBAAwB,qBAAqB,4BAA4B,GAAG,sCAAsC,iBAAiB,sBAAsB,gBAAgB,qBAAqB,4BAA4B,wBAAwB,GAAG,iDAAiD,2BAA2B,oBAAoB,GAAG,+CAA+C,iBAAiB,sBAAsB,2BAA2B,GAAG;;;;;;;;;;;;;;ACFjrD;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,uCAAuC,gBAAgB;AACvD,OAAO;AACP;AACA;AACA,KAAK;AACL,IAAI;;;AAGJ;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,oBAAoB;AACnC,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;ACpFA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,uDAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA,KAAK,KAAwC,EAAE,EAE7C;;AAEF,QAAQ,sBAAiB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;;;;;;AC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","file":"ChartsComponents.js","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".Tchart_filter-row {\\n  display: flex;\\n}\\n.tab-status-panel {\\n  display: flex;\\n  width: 100%;\\n  transition: margin-left 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\\n}\\n.no-tab-status-panel {\\n  width: 100%;\\n  height: calc(100vh - 150px);\\n  overflow-y: scroll;\\n  padding-right: 20px;\\n  /* Increase/decrease this value for cross-browser compatibility */\\n  box-sizing: content-box;\\n  /* So the width will be 100% + 17px */\\n}\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/**\\n InstanceList\\n */\\n.Tchart_table-box {\\n  position: relative;\\n  display: block;\\n  width: 100%;\\n  color: #666;\\n  font-size: 12px;\\n  margin-right: 0;\\n  background-color: transparent;\\n}\\n.Tchart_table-box tr {\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n}\\n.Tchart_table-box tr th {\\n  position: relative;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  text-align: left;\\n  vertical-align: middle;\\n}\\n.Tchart_table-box tr th:last-child {\\n  flex: 1;\\n  overflow: hidden;\\n}\\n.Tchart_table-box tr th > div {\\n  position: relative;\\n  display: inline-block;\\n  padding: 0;\\n  height: 40px;\\n  line-height: 40px;\\n  width: 100%;\\n  color: #888;\\n  vertical-align: middle;\\n  box-sizing: border-box;\\n  word-wrap: break-word;\\n}\\n.Tchart_table-box thead {\\n  display: block;\\n  width: 100%;\\n  font-weight: 700;\\n  font-size: 14px;\\n  border-bottom: 1px solid #d1d5de;\\n}\\n.Tchart_table-box tbody {\\n  display: block;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  max-height: calc(100vh - 243px);\\n  height: 623px;\\n  font-weight: 500;\\n}\\n.Tchart_table-box tbody tr:hover {\\n  background-color: #F7F7F7;\\n}\\n.Tchart_table-box tbody th > div {\\n  height: 45px;\\n  line-height: 45px;\\n  color: #444;\\n  width: 100%;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.Tchart_table-box tbody th > div p {\\n  height: 20px;\\n  line-height: 20px;\\n  width: 100%;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n.Tchart_table-box tbody th > div p:last-child {\\n  color: #888 !important;\\n  font-size: 10px;\\n}\\n.Tchart_table-box tbody th:last-child > div {\\n  padding: 5px;\\n  line-height: 35px;\\n  box-sizing: border-box;\\n}\\n\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","import * as zh from './zh.json';\r\nimport * as en from './en.json';\r\n\r\nexport {\r\n  zh,\r\n  en\r\n}\r\n\r\n","import * as React from \"react\";\r\nimport { ChartPanel } from \"./containers/Pure\";\r\nimport { ChartFilterPanel } from \"./containers/Filter\";\r\nimport { ChartInstancesPanel } from \"./containers/Instances\";\r\n\r\nconst components = { ChartPanel, ChartFilterPanel, ChartInstancesPanel };\r\nexport default function(props: { componentName: keyof typeof components }) {\r\n  return React.createElement(components[props.componentName], props);\r\n}\r\n","import * as React from \"react\";\r\nimport { Icon, Table, StatusTip, TableAddon, Button, Form, Select, TagSearchBox } from \"@tencent/tea-component\";\r\nimport { TagSearchBox as SingleTagSearchBox } from \"tea-components/tagsearchbox/index\";\r\nimport Chart from \"charts/index\";\r\nimport { ModelType } from \"core/model\";\r\nimport * as utils from \"core/utils\";\r\nimport PureChart from \"./PureChart\";\r\nimport { STORE } from \"../helper\";\r\nimport { Kilobyte, QUERY } from \"../constants\";\r\nimport { CHART_PANEL, NameValueType } from \"../core\";\r\nimport * as languages from \"../../i18n\";\r\n\r\nconst version = (window as any).VERSION || \"zh\";\r\nconst language = languages[version];\r\n\r\nconst { scrollable } = Table.addons;\r\n\r\n/**\r\n * 生成系统聚合方式选项\r\n */\r\nconst AggregationOptions = Object.keys(QUERY.Aggregation).map(key => {\r\n  return {\r\n    value: key,\r\n    text: QUERY.Aggregation[key]\r\n  };\r\n});\r\n\r\nfunction FormatTagsParam(tagDimensions, conditions, tagConditions) {\r\n  // 参考 TagSearchBox 返回的参数\r\n  const dimensionItems = tagDimensions.map(item => item.attr.value);\r\n  // condition 支持多条件查询\r\n  const conditionItems = [].concat(\r\n    conditions,\r\n    tagConditions.map(item => [item.attr.value, \"in\", item.values.map(value => value.name)])\r\n  );\r\n  return { dimensionItems, conditionItems };\r\n}\r\n\r\ninterface FilterTableChartProps {\r\n  chartId: string;\r\n  width?: number;\r\n  height?: number;\r\n  table: string;\r\n  startTime: Date;\r\n  endTime: Date;\r\n  metric: CHART_PANEL.MetricType;\r\n  tooltipLabels: (value, from) => string;\r\n  dimensions: Array<NameValueType>;\r\n  conditions: Array<Array<any>>;\r\n  periodOptions: Array<{ value: string; text: string }>;\r\n}\r\n\r\ninterface FilterTableChartState {\r\n  loading: boolean;\r\n  aggregation: string;\r\n  tagDimensions: Array<any>;\r\n  tagConditions: Array<any>;\r\n  period: string;\r\n  labels: Array<string>;\r\n  lines: Array<ModelType>;\r\n}\r\n\r\nexport class FilterTableChart extends React.Component<FilterTableChartProps, FilterTableChartState> {\r\n  constructor(props) {\r\n    super(props);\r\n    let tagDimensions = [];\r\n    let tagConditions = [];\r\n    // 判断 metric 是否有 storeKey，\r\n    // 处理 defaultGroupBy, defaultConditions 搜索条件初始化 default* 的数据结构：\r\n    if (props.metric.storeKey) {\r\n      const { defaultGroupBy, defaultConditions } = STORE.Get(props.metric.storeKey, {\r\n        defaultGroupBy: [],\r\n        defaultConditions: []\r\n      });\r\n      tagDimensions = defaultGroupBy.map(item => {\r\n        const { groupBy, values } = item;\r\n        return {\r\n          attr: {\r\n            type: \"onlyKey\",\r\n            key: groupBy.value,\r\n            name: groupBy.name,\r\n            value: groupBy.value\r\n          },\r\n          values\r\n        };\r\n      });\r\n      tagConditions = defaultConditions.map(item => {\r\n        const { groupBy, values } = item;\r\n        return {\r\n          attr: {\r\n            type: \"input\",\r\n            key: groupBy.value,\r\n            name: groupBy.name,\r\n            value: groupBy.value\r\n          },\r\n          values\r\n        };\r\n      });\r\n    }\r\n    this.state = {\r\n      loading: false,\r\n      tagDimensions: tagDimensions,\r\n      tagConditions: tagConditions,\r\n      aggregation: AggregationOptions[0].value,\r\n      period: props.periodOptions[0].value,\r\n      labels: [],\r\n      lines: []\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    // 加载数据\r\n    this.fetchChartData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    let hasUpdate = false;\r\n    let hasFetch = false;\r\n    const { table, startTime, endTime, metric, conditions, periodOptions } = this.props;\r\n    if (\r\n      JSON.stringify(startTime) !== JSON.stringify(prevProps.startTime) ||\r\n      JSON.stringify(endTime) !== JSON.stringify(prevProps.endTime) ||\r\n      JSON.stringify(metric) !== JSON.stringify(prevProps.metric) ||\r\n      JSON.stringify(conditions) !== JSON.stringify(prevProps.conditions)\r\n    ) {\r\n      hasFetch = true;\r\n    }\r\n\r\n    // 更新 period 选项\r\n    let period = this.state.period;\r\n    if (JSON.stringify(periodOptions) !== JSON.stringify(prevProps.periodOptions)) {\r\n      period = periodOptions[0].value;\r\n      this.setState({ period });\r\n      hasUpdate = true;\r\n    }\r\n\r\n    const { dimensionItems, conditionItems } = FormatTagsParam(\r\n      this.state.tagDimensions,\r\n      conditions,\r\n      this.state.tagConditions\r\n    );\r\n    if (JSON.stringify(prevState) !== JSON.stringify(this.state)) {\r\n      hasUpdate = true;\r\n    }\r\n\r\n    if (hasFetch) {\r\n      this.requestChartData(table, startTime, endTime, metric, dimensionItems, conditionItems, period);\r\n    }\r\n\r\n    return hasUpdate || hasFetch;\r\n  }\r\n\r\n  fetchChartData() {\r\n    const { table, startTime, endTime, metric, conditions } = this.props;\r\n    const { tagDimensions, tagConditions, period } = this.state;\r\n    const { dimensionItems, conditionItems } = FormatTagsParam(tagDimensions, conditions, tagConditions);\r\n    this.requestChartData(table, startTime, endTime, metric, dimensionItems, conditionItems, period);\r\n  }\r\n\r\n  requestChartData(table, startTime, endTime, metric, dimensions, conditions, period) {\r\n    this.setState({ loading: true, labels: [], lines: [] });\r\n    // 生成请求字段\r\n    const aggregationFields = [{ ...metric, expr: `${this.state.aggregation}(${metric.expr})` }];\r\n    CHART_PANEL.RequestData({\r\n      table,\r\n      startTime,\r\n      endTime,\r\n      fields: aggregationFields,\r\n      dimensions: dimensions,\r\n      conditions: conditions,\r\n      period: period\r\n    })\r\n      .then(res => {\r\n        const { columns, data } = res;\r\n        // 根据维度聚合返回数据\r\n        const dimensionsData = CHART_PANEL.AggregateDataByDimensions(dimensions, columns, data);\r\n        /**\r\n         * 生成 labels\r\n         */\r\n        const timestampIndex = columns.indexOf(`timestamp(${period}s)`);\r\n        // 默认表格第一列为时间序列, 返回的时间列表可能不是startTime开始，以endTime结束，需要补帧\r\n        let labels = (Object.values(dimensionsData)[0] || ([] as any)).map(item => item[timestampIndex]);\r\n        labels = CHART_PANEL.OffsetTimeSeries(startTime, endTime, parseInt(period), labels);\r\n        /**\r\n         * 生成 lines\r\n         */\r\n        const metricIndex = CHART_PANEL.FindMetricIndex(columns, `${metric.expr}_${this.state.aggregation}`); // 数据列下标\r\n        const valueTransform = metric.valueTransform || (value => value);\r\n        // 每个图表中显示groupBy类别一个field -> chart\r\n        let lines = [];\r\n        Object.keys(dimensionsData).forEach(dimensionKey => {\r\n          // 每个dimension的数据集， fieldsIndex获取该dimension列下标的值\r\n          const sourceValue = dimensionsData[dimensionKey];\r\n          const data = {};\r\n          sourceValue.forEach(row => {\r\n            let value = row[metricIndex];\r\n            // data 记录 时间戳row[timestampIndex] 对应 value\r\n            data[row[timestampIndex]] = valueTransform(value);\r\n          });\r\n\r\n          let line = CHART_PANEL.GenerateLine(dimensionKey, data);\r\n          lines.push(line);\r\n        });\r\n\r\n        this.setState({ loading: false, labels, lines });\r\n      })\r\n      .catch(e => {\r\n        this.setState({ loading: false });\r\n      });\r\n  }\r\n\r\n  updateState(options) {\r\n    this.setState({ ...options }, () => {\r\n      this.fetchChartData();\r\n    });\r\n  }\r\n\r\n  saveTagsByStoreKey(saveKey: \"defaultGroupBy\" | \"defaultConditions\", tags) {\r\n    if (this.props.metric.storeKey) {\r\n      let defaultValues = STORE.Get(this.props.metric.storeKey, { defaultGroupBy: [], defaultConditions: [] });\r\n      defaultValues[saveKey] = tags.map(item => {\r\n        return {\r\n          groupBy: item.attr,\r\n          values: item.values\r\n        };\r\n      });\r\n      STORE.Set(this.props.metric.storeKey, defaultValues);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loading, tagDimensions, tagConditions, period, aggregation, labels, lines } = this.state;\r\n    const { dimensions, periodOptions, chartId, width, height, metric, startTime, endTime } = this.props;\r\n    // 生成维度和筛选条件选项\r\n    const dimensionOptions = dimensions.map(item => {\r\n      return {\r\n        type: \"onlyKey\",\r\n        key: item.value,\r\n        name: item.name,\r\n        value: item.value\r\n      };\r\n    });\r\n    const conditionOptions = dimensions.map(item => {\r\n      return {\r\n        type: \"input\",\r\n        key: item.value,\r\n        name: item.name,\r\n        value: item.value\r\n      };\r\n    });\r\n\r\n    return (\r\n      <div style={{ width: \"100%\" }}>\r\n        <Form className=\"tea-form--vertical tea-form--inline tea-mt-2n\">\r\n          <Form.Item label=\"维度\" style={{ width: \"calc(100% - 300px)\" }}>\r\n            <SingleTagSearchBox\r\n              minWidth={\"100%\"}\r\n              attributes={dimensionOptions}\r\n              tipZh={\"请选择维度\"}\r\n              value={tagDimensions}\r\n              onChange={tags => {\r\n                if (dimensionOptions.length === 0) {\r\n                  return;\r\n                }\r\n                const tagDimensions = tags.map(item => {\r\n                  return {\r\n                    attr: item.attr,\r\n                    values: item.values\r\n                  };\r\n                });\r\n                // 如果指标传递了storeKey，则缓存用户维度的选项，方便用户下次操作\r\n                this.saveTagsByStoreKey(\"defaultGroupBy\", tags);\r\n                this.updateState({ tagDimensions });\r\n              }}\r\n            />\r\n            />\r\n          </Form.Item>\r\n          <Form.Item label=\"统计粒度\">\r\n            <Select\r\n              style={{ paddingTop: 6 }}\r\n              type=\"simulate\"\r\n              appearence=\"button\"\r\n              options={periodOptions}\r\n              value={period}\r\n              onChange={value => {\r\n                this.updateState({ period: value });\r\n              }}\r\n              placeholder=\"请选择\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item label=\"统计方式\">\r\n            <Select\r\n              style={{ paddingTop: 6 }}\r\n              type=\"simulate\"\r\n              appearence=\"button\"\r\n              options={AggregationOptions}\r\n              value={aggregation}\r\n              onChange={value => {\r\n                this.updateState({ aggregation: value });\r\n              }}\r\n              placeholder=\"请选择\"\r\n            />\r\n          </Form.Item>\r\n        </Form>\r\n        <Form className=\"tea-form--vertical tea-form--inline tea-mt-2n\">\r\n          <Form.Item label=\"筛选条件\" style={{ width: \"100%\" }}>\r\n            <TagSearchBox\r\n              minWidth={\"100%\"}\r\n              attributes={conditionOptions}\r\n              value={tagConditions}\r\n              onChange={tags => {\r\n                if (conditionOptions.length === 0) {\r\n                  return;\r\n                }\r\n                const tagConditions = tags.map(item => {\r\n                  return {\r\n                    attr: item.attr,\r\n                    values: item.values\r\n                  };\r\n                });\r\n                this.saveTagsByStoreKey(\"defaultConditions\", tags);\r\n                this.updateState({ tagConditions });\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </Form>\r\n\r\n        <TableChart\r\n          id={chartId}\r\n          loading={loading}\r\n          min={typeof startTime === \"string\" ? 0 : startTime.getTime()}\r\n          max={typeof endTime === \"string\" ? 0 : endTime.getTime()}\r\n          width={width}\r\n          height={height}\r\n          title={metric.alias}\r\n          field={metric}\r\n          labels={labels}\r\n          unit={metric.unit}\r\n          tooltipLabels={metric.tooltipLabels}\r\n          lines={lines}\r\n          reload={this.fetchChartData.bind(this)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\ninterface TableChartProps extends CHART_PANEL.ChartDataType {\r\n  id: string;\r\n  width?: number;\r\n  height?: number;\r\n  loading: boolean;\r\n  reload: Function;\r\n}\r\n\r\ninterface TableChartState {\r\n  selectedLabel: number;\r\n  selectedRowKeys: Array<string>;\r\n}\r\n\r\n/**\r\n * 表格型图表\r\n * hover 图表时数据通过 table 显示，隐藏 tooltip\r\n */\r\nclass TableChart extends PureChart<TableChartProps, TableChartState> {\r\n  _scrollAnchorRefs = {};\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedLabel: 0,\r\n      selectedRowKeys: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { loading, min, max, title, reload, labels, lines, field, tooltipLabels } = this.props;\r\n    this._chartEntry = new Chart(\r\n      this.props.id,\r\n      {\r\n        width: this.chartWidth,\r\n        height: this.chartHeight,\r\n        paddingHorizontal: 15, // 水平空白间隔\r\n        paddingVertical: 30, // 垂直空白间隔\r\n        isSeriesTime: true,\r\n        showLegend: false,\r\n        showTooltip: false,\r\n        hoverPointData: this.mouseOverChart.bind(this),\r\n        loading,\r\n        min,\r\n        max,\r\n        title,\r\n        labels,\r\n        reload,\r\n        tooltipLabels,\r\n        colorTheme: field.colorTheme,\r\n        colors: field.colors,\r\n        yAxis: field.scale || [],\r\n        series: lines,\r\n        isKilobyteFormat: field.thousands === Kilobyte,\r\n        unit: field.unit\r\n      },\r\n      field.chartType\r\n    );\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (JSON.stringify(nextProps) !== JSON.stringify(this.props)) {\r\n      const { loading, min, max, title, reload, labels, lines, field, tooltipLabels } = nextProps;\r\n      this._chartEntry &&\r\n        this._chartEntry.setType(field.chartType, {\r\n          width: this.chartWidth,\r\n          height: this.chartHeight,\r\n          loading,\r\n          min,\r\n          max,\r\n          title,\r\n          labels,\r\n          reload,\r\n          tooltipLabels,\r\n          colorTheme: field.colorTheme,\r\n          colors: field.colors,\r\n          yAxis: field.scale || [],\r\n          series: lines,\r\n          isKilobyteFormat: field.thousands === Kilobyte,\r\n          unit: field.unit\r\n        });\r\n      return true;\r\n    }\r\n    if (JSON.stringify(nextState) !== JSON.stringify(this.state)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  // 图表鼠标悬浮时回调函数\r\n  mouseOverChart(params) {\r\n    const { xAxisTickMarkIndex, mousePosition, content } = params;\r\n    // 筛选出被hover的折线\r\n    const selectedRowKeys = content.filter(item => item.hover).map(item => item.legend);\r\n    // table 中对应数据进行滚动显示\r\n    if (selectedRowKeys.length > 0) {\r\n      const element = this._scrollAnchorRefs[selectedRowKeys[selectedRowKeys.length - 1]].current;\r\n      // firefox,IE 不支持 scrollIntoViewIfNeeded\r\n      if (element.scrollIntoViewIfNeeded) {\r\n        element.scrollIntoViewIfNeeded(false);\r\n      } else {\r\n        element.scrollIntoView({ block: \"end\", behavior: \"smooth\" });\r\n      }\r\n    }\r\n    this.setState({ selectedLabel: xAxisTickMarkIndex, selectedRowKeys });\r\n  }\r\n\r\n  // 根据鼠标选中的label，获取各折线对应的点，显示在表格中\r\n  getTableRecords(label: string, lines: Array<any>) {\r\n    const tableRecords = lines.map(line => {\r\n      return {\r\n        key: utils.FormatStringNoHTMLSharp(line.legend),\r\n        value: line.data[label]\r\n      };\r\n    });\r\n    tableRecords.sort((a, b) => b.value - a.value);\r\n    return tableRecords;\r\n  }\r\n\r\n  // hover 在表格的事件\r\n  hoverTableEvent(legend: string) {\r\n    this._chartEntry && this._chartEntry.highlightLine(legend);\r\n  }\r\n\r\n  render() {\r\n    const { loading, labels, lines } = this.props;\r\n    const tableRecords = this.getTableRecords(labels[this.state.selectedLabel], lines);\r\n\r\n    return (\r\n      <div style={{ width: \"100%\" }}>\r\n        {/* 图表div，id为图表容器标识 */}\r\n        <div style={{ width: \"100%\" }} id={this.props.id} />\r\n\r\n        <div className=\"tea-justify-grid tea-mt-2n\">\r\n          <div className=\"tea-justify-grid__col tea-justify-grid__col--left\">\r\n            <h3 className=\"tea-h3\" style={{ fontSize: 14 }}>\r\n              {language.DataDetail} &nbsp;&nbsp;\r\n              {labels[this.state.selectedLabel] &&\r\n                utils.TIME.Format(labels[this.state.selectedLabel] as any, utils.TIME.DateFormat.fullDateTime)}\r\n            </h3>\r\n          </div>\r\n        </div>\r\n        <div style={{ width: \"calc(100% - 40px)\", margin: \"0 auto\" }}>\r\n          <Table\r\n            columns={[\r\n              {\r\n                key: \"key\",\r\n                header: \"Source\",\r\n                render: record => {\r\n                  this._scrollAnchorRefs[record.key] = React.createRef();\r\n                  return <span ref={this._scrollAnchorRefs[record.key]}>{record.key}</span>;\r\n                }\r\n              },\r\n              {\r\n                key: \"value\",\r\n                header: \"Value\"\r\n              }\r\n            ]}\r\n            records={tableRecords}\r\n            recordKey={\"key\"}\r\n            rowClassName={record => (this.state.selectedRowKeys.indexOf(record.key) !== -1 ? \"is-selected\" : \"\")}\r\n            topTip={\r\n              loading && (\r\n                <StatusTip\r\n                  // @ts-ignore\r\n                  status={loading ? \"loading\" : \"none\"}\r\n                />\r\n              )\r\n            }\r\n            addons={[\r\n              // 支持表格滚动，高度超过 180 开始显示滚动条\r\n              scrollable({\r\n                maxHeight: 180,\r\n                onScrollBottom: () => {}\r\n              }),\r\n              hoverRowEvent({ event: this.hoverTableEvent.bind(this) })\r\n            ]}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * 注册 table hover 事件\r\n */\r\nfunction hoverRowEvent(options: any): TableAddon {\r\n  return {\r\n    onInjectRow: next => (...args) => {\r\n      const result = next(...args);\r\n      const [record, rowKey] = args;\r\n      return {\r\n        ...result,\r\n        row: React.cloneElement(result.row, {\r\n          onMouseOver: e => {\r\n            options.event(rowKey);\r\n          },\r\n          onMouseLeave: e => {\r\n            options.event(\"\");\r\n          }\r\n        })\r\n      };\r\n    }\r\n  };\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport interface ColumnType {\r\n  key: string,\r\n  name: string,\r\n  render?: any,\r\n}\r\n\r\ninterface Props {\r\n  className: string,\r\n  style: object,\r\n  columns: Array<ColumnType>,\r\n  list: Array<any>,\r\n  update: Function,\r\n}\r\n\r\ninterface State {\r\n  checkedAll: boolean\r\n}\r\n\r\nexport default class InstanceList extends React.Component<Props, State> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      checkedAll: props.list.every((item) => item.isChecked),\r\n    };\r\n  }\r\n\r\n  onCheck(instance, event) {\r\n    const list = [].concat(this.props.list.map(item => {\r\n      if (item === instance) {\r\n        item.isChecked = event.target.checked;\r\n      }\r\n      return item;\r\n    }));\r\n    const checkedAll = list.every((item) => item.isChecked);\r\n    this.setState({checkedAll}, () => {\r\n      this.props.update(list);\r\n    });\r\n  };\r\n\r\n  onCheckAll(event) {\r\n    const list = [].concat(this.props.list.map(item => {\r\n      item.isChecked = event.target.checked;\r\n      return item;\r\n    }));\r\n    this.setState({checkedAll: event.target.checked}, () => {\r\n      this.props.update(list);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { className, style } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={ className }\r\n        style={ style }\r\n      >\r\n        <div>\r\n          <table className=\"Tchart_table-box\">\r\n            <thead>\r\n            <tr>\r\n              <th className=\"\">\r\n                <div className=\"tc-15-first-checkbox\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"tc-15-checkbox\"\r\n                    checked={this.state.checkedAll}\r\n                    onChange={this.onCheckAll.bind(this)}\r\n                  />\r\n                </div>\r\n              </th>\r\n              {\r\n                this.props.columns.map(item => {\r\n                  return (\r\n                    <th className=\"\" key={item.key}>\r\n                      <div>\r\n                        <span className=\"text-overflow\">\r\n                          { item.name }\r\n                        </span>\r\n                      </div>\r\n                    </th>\r\n                  )\r\n                })\r\n              }\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {\r\n              this.props.list.map((item, index) => {\r\n                return (\r\n                  <tr key={ index }>\r\n                    <th className=\"\">\r\n                      <div className=\"tc-15-first-checkbox\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          className=\"tc-15-checkbox\"\r\n                          checked={item.isChecked}\r\n                          onChange={this.onCheck.bind(this, item)}\r\n                        />\r\n                      </div>\r\n                    </th>\r\n                    {\r\n                      this.props.columns.map(column => {\r\n                        return (\r\n                          <th className=\"\" key={column.key}>\r\n                              <div>\r\n                                {\r\n                                  column.render? column.render(item) : item[column.key]\r\n                                }\r\n                              </div>\r\n                          </th>\r\n                        )\r\n                      })\r\n                    }\r\n                  </tr>\r\n                );\r\n              })\r\n            }\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import * as React from \"react\";\r\nimport Chart from \"charts/index\";\r\nimport { Kilobyte } from \"../constants\";\r\nimport { CHART_PANEL } from \"../core\";\r\n\r\n\r\ninterface MetricChartsProps {\r\n  className: string;\r\n  style: React.CSSProperties;\r\n  loading: boolean;\r\n  min: number;\r\n  max: number;\r\n  seriesGroup: Array<CHART_PANEL.ChartDataType>;\r\n  reload?: Function;\r\n}\r\n\r\ninterface MetricChartsState {\r\n  chartEndIndex: number;\r\n}\r\n\r\nexport default class MetricCharts extends React.Component<MetricChartsProps, MetricChartsState> {\r\n  ChartPageSize = 3; // panel 为 list 状态时每次滚动加载 chart 数目\r\n  private _id: string = \"MetricCharts\";\r\n  private _charts = [];\r\n  private _chartHeight = 388;\r\n  private _chartWidth = 726;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      chartEndIndex: this.ChartPageSize\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scrollUpdateCharts(this.props, this.state.chartEndIndex);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextProps.seriesGroup.length !== this.props.seriesGroup.length\r\n      || nextState.chartEndIndex !== this.state.chartEndIndex) {\r\n      this.scrollUpdateCharts(nextProps, nextState.chartEndIndex);\r\n      return true;\r\n    }\r\n    if (JSON.stringify(nextProps.seriesGroup) !== JSON.stringify(this.props.seriesGroup)\r\n      || nextProps.min !== this.props.min\r\n      || nextProps.max !== this.props.max\r\n      || nextProps.loading !== this.props.loading) {\r\n      this.updateCharts(nextProps, nextState.chartEndIndex);\r\n      return true\r\n    }\r\n    return false;\r\n  }\r\n\r\n  updateCharts(props, chartEndIndex) {\r\n    const {loading, min, max, seriesGroup, reload} = props;\r\n    const length = Math.min(seriesGroup.length, chartEndIndex);\r\n    for (let i = 0; i < length; i++) {\r\n      const series = seriesGroup[i].lines;\r\n      const title = seriesGroup[i].title;\r\n      const labels = seriesGroup[i].labels;\r\n      const field = seriesGroup[i].field;\r\n      const tooltipLabels = seriesGroup[i].tooltipLabels;\r\n      if (this._charts[i]) {\r\n        this._charts[i].setType(field.chartType, {\r\n          loading,\r\n          min,\r\n          max,\r\n          title,\r\n          labels,\r\n          series,\r\n          reload,\r\n          tooltipLabels,\r\n          colorTheme: field.colorTheme,\r\n          colors: field.colors,\r\n          yAxis: field.scale || [],\r\n          isKilobyteFormat: field.thousands === Kilobyte,\r\n          unit: field.unit\r\n        });\r\n      } else {\r\n        this._charts.push(\r\n          new Chart(\r\n            `${this._id}_${i}`,\r\n            {\r\n              width: this._chartWidth,\r\n              height: this._chartHeight,\r\n              paddingHorizontal: 15, // 水平空白间隔\r\n              paddingVertical: 30, // 垂直空白间隔\r\n              isSeriesTime: true,\r\n              showLegend: false,\r\n              isKilobyteFormat: field.thousands === Kilobyte,\r\n              title,\r\n              min,\r\n              max,\r\n              tooltipLabels,\r\n              colorTheme: field.colorTheme,\r\n              colors: field.colors,\r\n              yAxis: field.scale || [],\r\n              unit: field.unit,\r\n              loading,\r\n              labels,\r\n              series,\r\n              reload\r\n            },\r\n            field.chartType\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  scrollUpdateCharts(props, chartEndIndex) {\r\n    const {loading, min, max, seriesGroup, reload} = props;\r\n    const startIndex = this._charts.length;\r\n    const length = Math.min(seriesGroup.length, chartEndIndex);\r\n    for (let i = startIndex; i < length; i++) {\r\n      const series = seriesGroup[i].lines;\r\n      const title = seriesGroup[i].title;\r\n      const labels = seriesGroup[i].labels;\r\n      const field = seriesGroup[i].field;\r\n      const tooltipLabels = seriesGroup[i].tooltipLabels;\r\n      this._charts.push(\r\n        new Chart(\r\n          `${this._id}_${i}`,\r\n          {\r\n            width: this._chartWidth,\r\n            height: this._chartHeight,\r\n            paddingHorizontal: 15, // 水平空白间隔\r\n            paddingVertical: 30, // 垂直空白间隔\r\n            isSeriesTime: true,\r\n            showLegend: false,\r\n            isKilobyteFormat: field.thousands === Kilobyte,\r\n            title,\r\n            min,\r\n            max,\r\n            tooltipLabels,\r\n            yAxis: field.scale || [],\r\n            unit: field.unit,\r\n            loading,\r\n            labels,\r\n            series,\r\n            reload\r\n          },\r\n          field.chartType\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {className, style} = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={className}\r\n        style={{...style}}\r\n        onScroll={(e) => {\r\n          // 图表滚动加载\r\n          let element = e.target as any;\r\n          // 向下滚动加载\r\n          // 提前加载\r\n          const index = this.state.chartEndIndex - 1;\r\n          if (Math.floor(this._chartHeight * index - element.scrollTop) <= element.clientHeight) {\r\n            if (this.state.chartEndIndex < this.props.seriesGroup.length) {\r\n              const nextChartEndIndex = this.state.chartEndIndex + this.ChartPageSize;\r\n              this.setState({chartEndIndex: nextChartEndIndex});\r\n            }\r\n          }\r\n        }}\r\n      >\r\n        {\r\n          this.props.seriesGroup.map((item, index) => {\r\n            const id = `${this._id}_${index}`;\r\n            return (\r\n              <div\r\n                key={id}\r\n                style={{width: \"100%\", height: this._chartHeight}}\r\n              >\r\n                <div id={id}></div>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}","import { CHART_PANEL } from 'panel/core';\r\nimport * as React from 'react';\r\nimport Chart from \"charts/index\";\r\nimport { Kilobyte, CHART } from '../constants';\r\n\r\n\r\nexport interface PureChartProps extends CHART_PANEL.ChartDataType {\r\n  id: string;\r\n  width?: number;\r\n  height?: number;\r\n  style?: React.CSSProperties;\r\n  loading: boolean;\r\n  reload?: Function;\r\n}\r\n\r\n/**\r\n * 基础图表组件，支持缩放\r\n */\r\nexport default class PureChart<P extends PureChartProps, S> extends React.Component<P, S> {\r\n  _width = 0;\r\n  _height = 0;\r\n  _chartEntry = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  get chartWidth() {\r\n    if (this.props.width) {\r\n      return this.props.width;\r\n    }\r\n    if (!document.getElementById(this.props.id)) {\r\n      this._width = CHART.DefaultSize.width;\r\n    } else {\r\n      const width = document.getElementById(this.props.id).clientWidth;\r\n      this._width = width > 0 ? width : CHART.DefaultSize.width;\r\n    }\r\n    return this._width;\r\n  }\r\n\r\n  get chartHeight() {\r\n    if (this.props.height) {\r\n      return this.props.height;\r\n    }\r\n    if (this._width < CHART.DefaultSize.width) {\r\n      this._height = CHART.DefaultSize.height * this._width / CHART.DefaultSize.width;\r\n    } else {\r\n      this._height = CHART.DefaultSize.height;\r\n    }\r\n    return this._height;\r\n  }\r\n\r\n  componentWillMount() {\r\n    window.addEventListener('resize', this.onResize);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {loading, title, min, max, reload, labels, lines, field, tooltipLabels} = this.props;\r\n    this._chartEntry = new Chart(this.props.id,\r\n      {\r\n        width: this.chartWidth,\r\n        height: this.chartHeight,\r\n        paddingHorizontal: 15, // 水平空白间隔\r\n        paddingVertical: 30, // 垂直空白间隔\r\n        isSeriesTime: true,\r\n        showLegend: false,\r\n        loading,\r\n        min,\r\n        max,\r\n        title,\r\n        labels,\r\n        reload,\r\n        tooltipLabels,\r\n        colorTheme: field.colorTheme,\r\n        colors: field.colors,\r\n        yAxis: field.scale || [],\r\n        series: lines,\r\n        isKilobyteFormat: field.thousands === Kilobyte,\r\n        unit: field.unit\r\n      },\r\n      field.chartType);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (JSON.stringify(nextProps) !== JSON.stringify(this.props)) {\r\n      const {loading, title, min, max, reload, labels, lines, field, tooltipLabels} = nextProps;\r\n      this._chartEntry && this._chartEntry.setType(field.chartType, {\r\n        width: this.chartWidth,\r\n        height: this.chartHeight,\r\n        loading,\r\n        min,\r\n        max,\r\n        title,\r\n        labels,\r\n        reload,\r\n        tooltipLabels,\r\n        colorTheme: field.colorTheme,\r\n        colors: field.colors,\r\n        yAxis: field.scale || [],\r\n        series: lines,\r\n        isKilobyteFormat: field.thousands === Kilobyte,\r\n        unit: field.unit\r\n      });\r\n      return true;\r\n    }\r\n    if (JSON.stringify(nextState) !== JSON.stringify(this.state)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.onResize);\r\n  }\r\n\r\n  onResize = () => {\r\n    this._chartEntry && this._chartEntry.setSize(this.chartWidth, this.chartHeight);\r\n  };\r\n\r\n  render() {\r\n    const {style = {}} = this.props;\r\n    return (\r\n      <div style={{width: '100%', height: CHART.DefaultSize.height, ...style}} id={this.props.id}>\r\n      </div>\r\n    )\r\n  }\r\n}","import * as React from 'react';\r\nimport { DateTimePicker } from 'tea-components/datetimepicker/index';\r\nimport { TIME_PICKER } from '../constants';\r\n\r\n\r\ninterface TimeTab {\r\n  label: string;\r\n  fromBefore: number;\r\n  from?: Date;\r\n  to?: Date;\r\n}\r\n\r\nconst DurationsByPeriod = {\r\n  // [period(s)] : day\r\n  60: 15,\r\n  300: 31,\r\n  3600: 62,\r\n  86400: 186\r\n};\r\n\r\nexport interface ToolbarProps {\r\n  style?: React.CSSProperties;\r\n  duration: {from: Date | string; to: Date | string};\r\n  onChangeTime: Function;\r\n}\r\n\r\nexport class Toolbar extends React.Component<ToolbarProps> {\r\n  nowDay = new Date();\r\n\r\n  // 可选择日期最大间隔\r\n  range = {\r\n    min: new Date(+ this.nowDay - 864e5 * DurationsByPeriod[300]),\r\n    max: new Date(this.nowDay),\r\n    maxLength: DurationsByPeriod[300] * 86400\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  onTimePickerChange = (dateTime, label) => {\r\n    this.props.onChangeTime(new Date(dateTime.from), new Date(dateTime.to));\r\n  };\r\n\r\n  render() {\r\n    const {duration, style} = this.props;\r\n\r\n    return (\r\n      <div className=\"tc-action-grid\" style={{...style}}>\r\n        <div className=\"justify-grid\">\r\n          <div className=\"col\">\r\n            <div className=\"tc-15-calendar-select-wrap tc-15-calendar2-hook\">\r\n              <span className=\"dateTimePickerVS\" onClick={ e => e.stopPropagation() }>\r\n                <DateTimePicker\r\n                  tabs={ TIME_PICKER.Tabs as any }\r\n                  defaultSelectedTabIndex={ 0 }\r\n                  defaultValue={ duration }\r\n                  onChange={ this.onTimePickerChange }\r\n                  range={ this.range }\r\n                />\r\n              </span>\r\n            </div>\r\n            <div className=\"monitor-dialog-bd-right\" style={ {display: \"inline-block\", marginLeft: 15} }>\r\n              { this.props.children }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as languages from '../i18n';\r\n\r\nconst version = (window as any).VERSION || \"zh\";\r\nconst language = languages[version];\r\n\r\nexport namespace TIME_PICKER {\r\n  export const Tabs = [\r\n      {from: \"%NOW-1h\", to: \"%NOW\", label: language.OneHour},\r\n      {from: \"%NOW-24h\", to: \"%NOW\", label: language.OneDay},\r\n      {from: \"%NOW-168h\", to: \"%NOW\", label: language.SevenDays},\r\n//      {from: \"%NOW-720h\", to: \"%NOW\", label: \"近30天\"},\r\n    ];\r\n};\r\n\r\nexport namespace QUERY {\r\n  export const Aggregation = {\r\n    'sum': '总和',\r\n    'count': '统计个数',\r\n    'max': '最大值',\r\n    'min': '最小值',\r\n    'avg': '平均值',\r\n  };\r\n\r\n  export const Limit = 65535;\r\n}\r\n\r\nexport namespace CHART {\r\n  export const DefaultSize = {\r\n    width: 726,\r\n    height: 388,\r\n  }\r\n}\r\n\r\nexport const Kilobyte = 1024;\r\n\r\nexport const OneDayMillisecond = 86400000;","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./Filter.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./Filter.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./Filter.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import * as React from \"react\";\r\nimport { Icon, Card, TagSearchBox, Select, Form, Button } from \"@tencent/tea-component\";\r\nimport { Toolbar } from \"../components/Toolbar\";\r\nimport { FilterTableChart } from \"../components/FilterTableChart\";\r\nimport { CHART_PANEL, NameValueType } from \"../core\";\r\nimport { CHART } from \"../constants\";\r\nimport { TransformField } from \"../helper\";\r\n\r\nrequire(\"./Filter.less\");\r\n\r\nexport interface ChartFilterPanelProps {\r\n  width?: number;\r\n  height?: number;\r\n  tables: Array<CHART_PANEL.TableType>;\r\n  groupBy: Array<NameValueType>;\r\n}\r\n\r\ninterface ChartFilterPanelState {\r\n  tabStatus: boolean;\r\n  activeId: string;\r\n  chartEndIndex: number;\r\n  startTime: Date | string;\r\n  endTime: Date | string;\r\n  chartList: Array<{\r\n    id: string;\r\n    table: string;\r\n    field: CHART_PANEL.MetricType;\r\n    groupBy: Array<NameValueType>;\r\n    conditions: Array<Array<string>>;\r\n    tooltipLabels: (value, from) => string;\r\n  }>;\r\n}\r\n\r\n/**\r\n * 可过滤图表\r\n * 每个指标单独的 维度与条件查询，有tab或list展现形式\r\n */\r\nexport class ChartFilterPanel extends React.Component<ChartFilterPanelProps, ChartFilterPanelState> {\r\n  ChartPageSize = 3; // panel 为 list 状态时每次滚动加载 chart 数目\r\n  ShowDivStyle = { flexShrink: 0, width: \"100%\", opacity: 1, transition: \"opacity .45s\" };\r\n  HiddenDivStyle = {\r\n    height: 0,\r\n    overflow: \"hidden\",\r\n    opacity: 0,\r\n    flexShrink: 0,\r\n    width: \"100%\",\r\n    transition: \"opacity .45s\"\r\n  };\r\n  // 缓存每次选择不同时间段的时间粒度选项\r\n  private periodOptions = [];\r\n  private tabs = [];\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    // 默认获取一天的数据\r\n    const endTime = new Date();\r\n    const startTime = new Date(endTime.getTime() - 1000 * 60 * 60);\r\n    this.periodOptions = CHART_PANEL.GeneratePeriodOptions(startTime, endTime);\r\n\r\n    let chartList = [];\r\n    props.tables.forEach((tableInfo, i) => {\r\n      // 一般一个table都是相同维度\r\n      let { groupBy = [], conditions = [] } = tableInfo;\r\n      // this.props.groupBy 为统一的维度值，tables中每个table可以自定义维度查询值\r\n      groupBy = this.props.groupBy.concat(groupBy);\r\n\r\n      tableInfo.fields.forEach((field, j) => {\r\n        const id = `${field.expr}_${i}_${j}`;\r\n        const tooltipLabels = (value, from) => {\r\n          return field.valueLabels ? field.valueLabels(value, from) : `${TransformField(value || 0, field.thousands, 3)}`;\r\n        };\r\n        this.tabs.push({ id, label: field.alias });\r\n        chartList.push({ id, table: tableInfo.table, field, groupBy, conditions, tooltipLabels });\r\n      });\r\n    });\r\n    this.state = {\r\n      tabStatus: true,\r\n      activeId: this.tabs.length > 0 ? this.tabs[0].id : \"\",\r\n      chartEndIndex: this.ChartPageSize,\r\n      startTime,\r\n      endTime,\r\n      chartList\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (JSON.stringify(this.props.tables) !== JSON.stringify(nextProps.tables)) {\r\n      let chartList = [];\r\n      nextProps.tables.forEach((tableInfo, i) => {\r\n        // 一般一个table都是相同维度\r\n        let { groupBy = [], conditions = [] } = tableInfo;\r\n        groupBy = nextProps.groupBy.concat(groupBy);\r\n\r\n        tableInfo.fields.forEach((field, j) => {\r\n          const id = `${field.expr}_${i}_${j}`;\r\n          const tooltipLabels = value => {\r\n            return field.valueLabels ? field.valueLabels(value) : `${TransformField(value || 0, field.thousands, 3)}`;\r\n          };\r\n          this.tabs.push({ id, label: field.alias });\r\n          chartList.push({ id, table: tableInfo.table, field, groupBy, conditions, tooltipLabels });\r\n        });\r\n      });\r\n      this.setState({ chartList });\r\n    }\r\n  }\r\n\r\n  // 时间选择器，在初始化时会触发\r\n  onChangeQueryTime(startTime, endTime) {\r\n    this.periodOptions = CHART_PANEL.GeneratePeriodOptions(startTime, endTime);\r\n    this.setState({ startTime, endTime });\r\n  }\r\n\r\n  onActiveTab(tab) {\r\n    this.setState({ activeId: tab.id });\r\n  }\r\n\r\n  onChangeTabStatus() {\r\n    this.setState({ tabStatus: !this.state.tabStatus });\r\n  }\r\n\r\n  onScrollTabPanels(e) {\r\n    // 图表滚动加载\r\n    let element = e.target as any;\r\n    // 向下滚动加载\r\n    if (Math.floor(this.state.chartEndIndex * CHART.DefaultSize.height - element.scrollTop) <= element.clientHeight) {\r\n      if (this.state.chartEndIndex < this.state.chartList.length) {\r\n        this.setState({ chartEndIndex: this.state.chartEndIndex + this.ChartPageSize });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { activeId, tabStatus } = this.state;\r\n\r\n    return (\r\n      <div className=\"tea-tabs__tabpanel\">\r\n        <Toolbar\r\n          style={{ marginLeft: 20 }}\r\n          duration={{ from: this.state.startTime, to: this.state.endTime }}\r\n          onChangeTime={this.onChangeQueryTime.bind(this)}\r\n        >\r\n          {this.props.children}\r\n        </Toolbar>\r\n\r\n        <Card>\r\n          <Card.Body>\r\n            <Tabs\r\n              tabStatus={tabStatus}\r\n              activeId={activeId}\r\n              tabs={this.tabs}\r\n              onActiveTab={this.onActiveTab.bind(this)}\r\n              onChangeTabStatus={this.onChangeTabStatus.bind(this)}\r\n              onScroll={this.onScrollTabPanels.bind(this)}\r\n            >\r\n              {this.state.chartList.map((chartInfo, index) => {\r\n                // tab 状态时判断是否为相同 activeId，非tab状态即list显示时判断是否小于chartEndIndex的下标，小于才显示\r\n                const isActive = tabStatus ? chartInfo.id === activeId : this.state.chartEndIndex >= index;\r\n                const style = tabStatus\r\n                  ? chartInfo.id === activeId\r\n                    ? this.ShowDivStyle\r\n                    : this.HiddenDivStyle\r\n                  : { width: \"100%\" };\r\n\r\n                return (\r\n                  <TabPanel key={`viewgrid_${index}`} isActive={isActive} tabStatus={tabStatus} style={style}>\r\n                    <FilterTableChart\r\n                      chartId={chartInfo.id}\r\n                      table={chartInfo.table}\r\n                      startTime={this.state.startTime as any}\r\n                      endTime={this.state.endTime as any}\r\n                      metric={chartInfo.field}\r\n                      tooltipLabels={chartInfo.tooltipLabels}\r\n                      dimensions={chartInfo.groupBy}\r\n                      conditions={chartInfo.conditions}\r\n                      periodOptions={this.periodOptions}\r\n                    />\r\n                  </TabPanel>\r\n                );\r\n              })}\r\n            </Tabs>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * 实现 TAB 组件，实现 tab 状态显示和 list 状态显示\r\n */\r\n\r\ninterface TabsProps {\r\n  activeId: string;\r\n  tabStatus: boolean;\r\n  tabs: Array<{ id: string; label: string }>;\r\n  onActiveTab: (tab) => void;\r\n  onChangeTabStatus: () => void;\r\n  onScroll: (e) => void;\r\n}\r\n\r\ninterface TabsState {\r\n  offset: number;\r\n  scrolling: boolean;\r\n}\r\n\r\nclass Tabs extends React.Component<TabsProps, TabsState> {\r\n  tabBarStyle = { marginRight: 0, height: 30, lineHeight: 30 };\r\n  scrollAreaRef = null;\r\n  buttonRef = null;\r\n  tabListRef = null;\r\n  activeItemRef = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.scrollAreaRef = React.createRef();\r\n    this.buttonRef = React.createRef();\r\n    this.tabListRef = React.createRef();\r\n    this.activeItemRef = React.createRef();\r\n    this.state = {\r\n      offset: 0,\r\n      scrolling: false\r\n    };\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleScroll();\r\n    window.addEventListener(\"resize\", this.handleScroll);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.handleScroll);\r\n  }\r\n\r\n  handleScroll() {\r\n    const scrolling = this.getMaxOffset() > 0;\r\n    this.setState({ scrolling });\r\n    // 无需滚动时重置位置\r\n    if (!scrolling) {\r\n      this.setState({ offset: 0 });\r\n    } else {\r\n      this.handleActiveItemIntoView();\r\n    }\r\n  }\r\n\r\n  handleActiveItemIntoView() {\r\n    requestAnimationFrame(() => {\r\n      if (!this.scrollAreaRef.current || !this.activeItemRef.current) {\r\n        return;\r\n      }\r\n      const scrollAreaRect = this.scrollAreaRef.current.getBoundingClientRect();\r\n      const activeItemRect = this.activeItemRef.current.getBoundingClientRect();\r\n\r\n      const startDelta = scrollAreaRect.left - activeItemRect.left + this.buttonRef.current.clientWidth;\r\n      const endDelta = activeItemRect.right - scrollAreaRect.right + this.buttonRef.current.clientWidth;\r\n      if (startDelta > 0) {\r\n        this.setState({ offset: Math.min(0, this.state.offset + startDelta) });\r\n      } else if (endDelta > 0) {\r\n        this.setState({ offset: Math.max(0 - this.getMaxOffset(), this.state.offset - endDelta) });\r\n      }\r\n    });\r\n  }\r\n\r\n  getStep() {\r\n    return this.scrollAreaRef.current.clientWidth - this.buttonRef.current.clientWidth * 2;\r\n  }\r\n\r\n  getMaxOffset() {\r\n    if (!this.scrollAreaRef.current || !this.tabListRef.current) {\r\n      return 0;\r\n    }\r\n    if (this.scrollAreaRef.current.clientWidth >= this.tabListRef.current.clientWidth) {\r\n      return 0;\r\n    }\r\n    return (\r\n      this.tabListRef.current.clientWidth -\r\n      (this.scrollAreaRef.current.clientWidth - this.buttonRef.current.clientWidth * 2)\r\n    );\r\n  }\r\n\r\n  handleBackward() {\r\n    this.setState({ offset: Math.min(0, this.state.offset + this.getStep()) });\r\n  }\r\n\r\n  handleForward() {\r\n    this.setState({ offset: Math.max(0 - this.getMaxOffset(), this.state.offset - this.getStep()) });\r\n  }\r\n\r\n  render() {\r\n    const { activeId, tabs, tabStatus } = this.props;\r\n    const scrollAreaStyle = tabStatus ? { marginRight: 0 } : this.tabBarStyle;\r\n\r\n    return (\r\n      <div className=\"tea-tabs\">\r\n        {/* tab bar 显示tab的标签栏*/}\r\n        <div className=\"tea-tabs__tabbar\">\r\n          <div\r\n            ref={this.scrollAreaRef}\r\n            className={`tea-tabs__scroll-area ${this.state.scrolling ? \"is-scrolling\" : \"\"}`}\r\n            style={{ ...scrollAreaStyle, marginRight: 30 }}\r\n          >\r\n            <ul\r\n              ref={this.tabListRef}\r\n              className=\"tea-tabs__tablist\"\r\n              style={{\r\n//                transition: \"transform 0.2s ease-out 0s\",\r\n                transform: `translate3d(${this.state.offset}px, 0px, 0px)`\r\n              }}\r\n            >\r\n              {tabStatus &&\r\n                tabs.map(tab => {\r\n                  return (\r\n                    <li\r\n                      key={tab.id}\r\n                      ref={tab.id === activeId ? this.activeItemRef : undefined}\r\n                      className=\"tea-tabs__tabitem\"\r\n                      onClick={() => this.props.onActiveTab(tab)}\r\n                    >\r\n                      <a className={`tea-tabs__tab ${activeId === tab.id ? \"is-active\" : \"\"}`}>{tab.label}</a>\r\n                    </li>\r\n                  );\r\n                })}\r\n            </ul>\r\n            {tabStatus && (\r\n              <>\r\n                <Button\r\n                  ref={this.buttonRef}\r\n                  className=\"tea-tabs__backward\"\r\n                  type=\"icon\"\r\n                  icon={\"arrowleft\"}\r\n                  disabled={this.state.offset >= 0}\r\n                  onClick={this.handleBackward.bind(this)}\r\n                />\r\n                <Button\r\n                  className=\"tea-tabs__forward\"\r\n                  type=\"icon\"\r\n                  icon={\"arrowright\"}\r\n                  disabled={this.state.offset <= 0 - this.getMaxOffset()}\r\n                  onClick={this.handleForward.bind(this)}\r\n                />\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"tea-tabs__addons\">\r\n            <span>\r\n              <Icon\r\n                type={tabStatus ? \"viewgrid\" : \"viewlist\"}\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={this.props.onChangeTabStatus}\r\n              />\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* tab 内容 */}\r\n        <div\r\n          className={tabStatus ? \"tab-status-panel\" : \"no-tab-status-panel\"}\r\n          style={\r\n            tabStatus\r\n              ? {\r\n                  marginLeft: `${-100 * this.props.tabs.findIndex(chartInfo => chartInfo.id === this.props.activeId)}%`\r\n                }\r\n              : {}\r\n          }\r\n          onScroll={this.props.onScroll}\r\n        >\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\ninterface TabPanelProps {\r\n  style: React.CSSProperties;\r\n  isActive: boolean;\r\n  tabStatus: boolean;\r\n}\r\n\r\ninterface TabPanelState {\r\n  hasActive: boolean;\r\n}\r\n\r\n/**\r\n * hasActive 激活后才会渲染子项组件\r\n */\r\nclass TabPanel extends React.Component<TabPanelProps, TabPanelState> {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hasActive: props.isActive\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.isActive) {\r\n      this.setState({ hasActive: true });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { style = {} } = this.props;\r\n\r\n    return (\r\n      <div style={{ ...style }} className=\"tea-tabs__tabpanel\">\r\n        {this.props.tabStatus ? (\r\n          this.state.hasActive && this.props.children\r\n        ) : this.state.hasActive ? (\r\n          this.props.children\r\n        ) : (\r\n          <div style={{ width: \"100%\", height: CHART.DefaultSize.height }} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./Instances.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./Instances.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./Instances.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import * as React from \"react\";\r\nimport { Toolbar } from \"../components/Toolbar\";\r\nimport MetricCharts from \"../components/MetricCharts\";\r\nimport InstanceList, { ColumnType } from \"../components/InstanceList\";\r\nimport { TIME_PICKER, QUERY } from \"../constants\";\r\nimport { NameValueType, CHART_PANEL } from \"../core\";\r\nimport { Period, TransformField } from \"../helper\";\r\nimport { Select } from \"@tencent/tea-component\";\r\n\r\nrequire(\"./Instances.less\");\r\n\r\nexport interface ChartInstancesPanelProps {\r\n  width?: number;\r\n  height?: number;\r\n  tables: Array<CHART_PANEL.TableType>;\r\n  groupBy: Array<NameValueType>;\r\n  instance: {\r\n    // 类table中column和data\r\n    columns: Array<ColumnType>;\r\n    list: Array<any>;\r\n  };\r\n  projectId: string;\r\n  platformType: \r\n}\r\n\r\ninterface ChartInstancesPanelState {\r\n  loading: boolean;\r\n  startTime: Date;\r\n  endTime: Date;\r\n  seriesGroup: Array<CHART_PANEL.ChartDataType>;\r\n  aggregation: string;\r\n  instanceList?: Array<any>;\r\n  periodOptions: Array<{ value: string; text: string }>;\r\n  period: string;\r\n}\r\n\r\nexport class ChartInstancesPanel extends React.Component<\r\n  ChartInstancesPanelProps,\r\n  ChartInstancesPanelState\r\n> {\r\n  private _instances = {}; // group by 查询返回数据中的不同类别的groupBy的值\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const endTime = new Date();\r\n    const startTime = new Date(endTime.getTime() - 1000 * 60 * 60);\r\n    const periodOptions = CHART_PANEL.GeneratePeriodOptions(startTime, endTime);\r\n    this.state = {\r\n      loading: false,\r\n      startTime: TIME_PICKER.Tabs[0].from as any,\r\n      endTime: TIME_PICKER.Tabs[0].to as any,\r\n      seriesGroup: [],\r\n      instanceList: props.instance.list,\r\n      aggregation: Object.keys(QUERY.Aggregation)[0],\r\n      periodOptions: periodOptions,\r\n      period: periodOptions[0].value,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    let hasUpdate = false;\r\n    let hasFetch = false;\r\n    const { tables, groupBy, instance } = this.props;\r\n    let instanceList = [];\r\n    if (instance) {\r\n      instanceList = this.props.instance.list;\r\n      if (JSON.stringify(instance) !== JSON.stringify(prevProps.instance)) {\r\n        hasUpdate = true;\r\n      }\r\n    }\r\n    if (\r\n      JSON.stringify(groupBy) !== JSON.stringify(prevProps.groupBy) ||\r\n      JSON.stringify(tables) !== JSON.stringify(prevProps.tables)\r\n    ) {\r\n      hasFetch = true;\r\n    }\r\n\r\n    if (hasFetch) {\r\n      this.fetchDataByTables({ instances: instanceList });\r\n    } else if (hasUpdate) {\r\n      instanceList = this.combineInstancesWithGroupBy(instance.list);\r\n      this.setState({ instanceList });\r\n    }\r\n\r\n    if (JSON.stringify(prevState) !== JSON.stringify(this.state)) {\r\n      hasUpdate = true;\r\n    }\r\n\r\n    return hasUpdate || hasFetch;\r\n  }\r\n\r\n  /**\r\n   * 根据key值判断chart折线是否隐藏\r\n   * @param instanceList\r\n   * @param key\r\n   * @returns {boolean}\r\n   */\r\n  checkLineIsDisable(instanceList = [], key = \"\") {\r\n    if (instanceList.length === 0) {\r\n      return false;\r\n    }\r\n    const instance = instanceList.find((instance) => {\r\n      const instanceKey = CHART_PANEL.GenerateRowKey(\r\n        this.props.groupBy.map((groupBy) => instance[groupBy.value])\r\n      );\r\n      return instanceKey.indexOf(key) !== -1;\r\n    });\r\n    if (!instance || !instance.isChecked) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  combineInstancesWithGroupBy(instances) {\r\n    // this.state.instanceList 为用户通过接口传入的值 例如结构 { workload_kind: \"Deployment\", isChecked: true },\r\n    let instanceList = instances || [].concat(this.state.instanceList);\r\n    /**\r\n     * 根据 groupByData 字典中key的值，查找instances中是否匹配\r\n     * 对instances和groupBy做交集\r\n     */\r\n    Object.keys(this._instances).forEach((instanceKey) => {\r\n      let instance = instanceList.find((instance) => {\r\n        // 通过groupBy的key在 this.state.instanceList 的值中获取值列表,\r\n        // 如：this.props.groupBy=[workload_kind], instance={workload_kind: \"Deployment\", isChecked: true}\r\n        // groupByValues 为 [Deployment]\r\n        const groupByValues = this.props.groupBy.map(\r\n          (groupByItem) => instance[groupByItem.value]\r\n        );\r\n        const rowKey = CHART_PANEL.GenerateRowKey(groupByValues);\r\n        return instanceKey === rowKey;\r\n      });\r\n      if (!instance) {\r\n        // 用户配置的instances值通过groupBy查询找不到时，则新增instance\r\n        instanceList.push(this._instances[instanceKey]);\r\n      }\r\n    });\r\n    return instanceList;\r\n  }\r\n\r\n  /**\r\n   * 获取空对象\r\n   */\r\n  getEmptyData(fields = []) {\r\n    let seriesGroup = [];\r\n    const tables = fields.length > 0 ? [{ fields }] : this.props.tables;\r\n    tables.forEach((tableInfo) => {\r\n      tableInfo.fields.forEach((field) => {\r\n        seriesGroup.push({\r\n          field,\r\n          title: field.alias,\r\n          labels: [],\r\n          lines: [],\r\n        });\r\n      });\r\n    });\r\n    return seriesGroup;\r\n  }\r\n\r\n  onChangeQueryTime(startTime, endTime) {\r\n    if (this.state.loading) {\r\n      return;\r\n    }\r\n    const periodOptions = CHART_PANEL.GeneratePeriodOptions(startTime, endTime);\r\n    const period = periodOptions[0].value;\r\n    this.setState({ startTime, endTime, periodOptions, period }, () => {\r\n      // 选择时间段后重新请求数据\r\n      this.fetchDataByTables({ instances: this.state.instanceList });\r\n    });\r\n  }\r\n\r\n  onChangePeriod(period) {\r\n    this.setState({ period }, () => {\r\n      // 选择时间粒度后重新请求数据\r\n      this.fetchDataByTables({ instances: this.state.instanceList });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 勾选instances。更新到state中\r\n   */\r\n  onCheckInstances = (instanceList: Array<any>) => {\r\n    this.setState({ instanceList }, () => {\r\n      const seriesGroupTemp = JSON.parse(\r\n        JSON.stringify(this.state.seriesGroup)\r\n      );\r\n      const seriesGroup = seriesGroupTemp.map(\r\n        (series: CHART_PANEL.ChartDataType) => {\r\n          // series 是每一个图表的数据\r\n          series.lines.forEach((line) => {\r\n            // line 是每个图表中每条线的数据\r\n            line.disable = this.checkLineIsDisable(\r\n              this.state.instanceList,\r\n              line.legend\r\n            );\r\n          });\r\n          return series;\r\n        }\r\n      );\r\n      // 对象深拷贝有问题\r\n      this.setState({ seriesGroup });\r\n    });\r\n  };\r\n\r\n  fetchDataByTables(options: any = {}) {\r\n    this._instances = {}; // 请求时清除原来数据加载的 _instances 对象\r\n    // 初始状态\r\n    this.setState({\r\n      seriesGroup: this.getEmptyData(),\r\n      instanceList: this.props.instance.list,\r\n      loading: true,\r\n    });\r\n\r\n    const { tables } = this.props;\r\n    const requestPromises = tables.map((tableInfo) => {\r\n      return this.requestData(tableInfo);\r\n    });\r\n    Promise.all(requestPromises).then((values) => {\r\n      const seriesGroup = [].concat(...values);\r\n      // combineInstancesWithGroupBy 合并 this._instances 与 instances\r\n      let instanceList = this.combineInstancesWithGroupBy(\r\n        this.props.instance.list\r\n      );\r\n      this.setState({ seriesGroup, instanceList, loading: false });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 发起查询数据请求\r\n   * @param {string} table\r\n   * @param {Array<any>} fields\r\n   * @param {Array<any>} groupBy\r\n   * @param {Array<any>} conditions\r\n   * @param {string} period\r\n   */\r\n  requestData(tableInfo: any = {}) {\r\n    const { fields, conditions, table } = tableInfo;\r\n    const { startTime, endTime, period } = this.state;\r\n\r\n    const groupByItems = this.props.groupBy.map((item) => item.value) || [];\r\n    // 查询的时间粒度\r\n    // const period = Period(startTime, endTime) as any;\r\n\r\n    return CHART_PANEL.RequestData({\r\n      table: table,\r\n      startTime,\r\n      endTime,\r\n      fields: fields,\r\n      dimensions: groupByItems,\r\n      conditions: conditions,\r\n      period: period,\r\n    })\r\n      .then((res) => {\r\n        const { columns, data } = res;\r\n        /**\r\n         * 根据 groupBy 条件对数据做聚合，已 groupBy 为key进行存储\r\n         */\r\n        const dimensionsData = CHART_PANEL.AggregateDataByDimensions(\r\n          groupByItems,\r\n          columns,\r\n          data\r\n        );\r\n\r\n        /**\r\n         * 根据 groupBy 数据生成默认 instances\r\n         */\r\n        const columnsInfo = groupByItems.map((value) => {\r\n          return {\r\n            index: columns.indexOf(value),\r\n            value,\r\n          };\r\n        });\r\n        Object.keys(dimensionsData).forEach((groupByKey) => {\r\n          //从第一行的数据获取group by的值\r\n          const row = dimensionsData[groupByKey][0];\r\n          // 缓存数据中groupBy联合主键的instance list\r\n          if (!this._instances[groupByKey]) {\r\n            let instance = {}; // 初始化 instance 对象\r\n            columnsInfo.forEach((column) => {\r\n              const key = column.value;\r\n              // key 为groupBy的参数，row[column.index]对应groupBy的值 如{workload_kind: \"Deployment\"}\r\n              instance[key] = row[column.index];\r\n            });\r\n            // 如果传入的instance list 为空数组是，数据中的instance对象为勾选状态\r\n            instance[\"isChecked\"] =\r\n              this.props.instance && this.props.instance.list.length > 0\r\n                ? false\r\n                : true;\r\n            this._instances[groupByKey] = instance;\r\n          }\r\n        });\r\n\r\n        /**\r\n         * 生成 labels\r\n         */\r\n        const timestampIndex = columns.indexOf(`timestamp(${period}s)`);\r\n        // 默认表格第一列为时间序列, 返回的时间列表可能不是startTime开始，以endTime结束，需要补帧\r\n        let labels = (Object.values(dimensionsData)[0] || ([] as any)).map(\r\n          (item) => item[timestampIndex]\r\n        );\r\n        labels = CHART_PANEL.OffsetTimeSeries(\r\n          startTime,\r\n          endTime,\r\n          parseInt(period),\r\n          labels\r\n        );\r\n\r\n        /**\r\n         * 生成 series\r\n         */\r\n        let seriesGroup = [];\r\n        // 获取需要显示的field的数据，每个field是一个图表。\r\n        fields.forEach((field) => {\r\n          const fieldIndex = CHART_PANEL.FindMetricIndex(columns, field.expr); // 数据列下标\r\n\r\n          const valueTransform = field.valueTransform || ((value) => value);\r\n          // 每个图表中显示groupBy类别一个field -> chart\r\n          let lines = [];\r\n          Object.keys(dimensionsData).forEach((groupByKey) => {\r\n            // 每个groupBy的数据集， fieldsIndex的index获取groupBy该下标的值\r\n            const sourceValue = dimensionsData[groupByKey];\r\n            const data = {};\r\n            sourceValue.forEach((row) => {\r\n              let value = row[fieldIndex];\r\n              // data 记录 时间戳row[timestampIndex] 对应 value\r\n              data[row[timestampIndex]] = valueTransform(value);\r\n            });\r\n\r\n            let line = CHART_PANEL.GenerateLine(\r\n              groupByKey,\r\n              data,\r\n              this.checkLineIsDisable(this.props.instance.list, groupByKey)\r\n            );\r\n            lines.push(line);\r\n          });\r\n\r\n          // 每个chart 的数据存储到 seriesGroup\r\n          seriesGroup.push({\r\n            labels,\r\n            field,\r\n            lines,\r\n            title: field.alias,\r\n            tooltipLabels: (value, from) => {\r\n              return field.valueLabels\r\n                ? field.valueLabels(value, from)\r\n                : `${TransformField(value || 0, field.thousands, 3)}`;\r\n            },\r\n          } as CHART_PANEL.ChartDataType);\r\n        });\r\n        return seriesGroup;\r\n      })\r\n      .catch((e) => {\r\n        return this.getEmptyData(fields);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      loading,\r\n      seriesGroup,\r\n      instanceList,\r\n      startTime,\r\n      endTime,\r\n      periodOptions,\r\n      period,\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"tc-15-rich-dialog-bd\">\r\n        <Toolbar\r\n          duration={{ from: this.state.startTime, to: this.state.endTime }}\r\n          onChangeTime={this.onChangeQueryTime.bind(this)}\r\n        >\r\n          <span\r\n            style={{\r\n              fontSize: 12,\r\n              display: \"inline-block\",\r\n              verticalAlign: \"middle\",\r\n            }}\r\n          >\r\n            统计粒度：\r\n          </span>\r\n          <Select\r\n            type=\"native\"\r\n            size=\"s\"\r\n            appearence=\"button\"\r\n            options={periodOptions}\r\n            value={period}\r\n            onChange={(value) => {\r\n              this.onChangePeriod(value);\r\n            }}\r\n            placeholder=\"请选择\"\r\n          />\r\n          {this.props.children}\r\n        </Toolbar>\r\n\r\n        <div className=\"monitor-dialog-data-box\">\r\n          <div className=\"tc-g\">\r\n            <div className=\"tc-g-u-3-4\">\r\n              <MetricCharts\r\n                className=\"monitor-chart-grid\"\r\n                style={{\r\n                  maxHeight: \"calc(100vh - 200px)\",\r\n                  height: \"668px\",\r\n                  overflowY: \"auto\",\r\n                  overflowX: \"hidden\",\r\n                  display: \"block\",\r\n                  border: \"1px solid #ddd\",\r\n                }}\r\n                loading={loading}\r\n                min={typeof startTime === \"string\" ? 0 : startTime.getTime()}\r\n                max={typeof endTime === \"string\" ? 0 : endTime.getTime()}\r\n                seriesGroup={seriesGroup}\r\n                reload={this.fetchDataByTables.bind(this, {\r\n                  instances: this.state.instanceList,\r\n                })}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"tc-g-u-1-4\">\r\n              <div className=\"tc-15-mod-selector-tb\">\r\n                <div className=\"tc-15-option-cell options-left\">\r\n                  <div className=\"tc-15-option-bd\">\r\n                    <InstanceList\r\n                      className=\"tc-15-option-box tc-scroll\"\r\n                      style={{\r\n                        maxHeight: \"calc(100vh - 200px)\",\r\n                        height: \"668px\",\r\n                      }}\r\n                      columns={this.props.instance.columns}\r\n                      list={instanceList}\r\n                      update={this.onCheckInstances}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport { Card, Form, Select } from \"@tencent/tea-component\";\r\nimport { Toolbar } from \"../components/Toolbar\";\r\nimport PureChart from \"../components/PureChart\";\r\nimport { TransformField } from \"../helper\";\r\nimport { TIME_PICKER, QUERY } from \"../constants\";\r\nimport { CHART_PANEL, NameValueType } from \"../core\";\r\n\r\nexport interface ChartPanelProps {\r\n  width?: number;\r\n  height?: number;\r\n  tables: Array<CHART_PANEL.TableType>;\r\n  groupBy: Array<NameValueType>;\r\n  conditions?: Array<Array<string>>;\r\n}\r\n\r\nexport interface ChartPanelState {\r\n  loading: boolean;\r\n  startTime: Date;\r\n  endTime: Date;\r\n  seriesGroup: Array<CHART_PANEL.ChartDataType>;\r\n  periodOptions: Array<{ value: string; text: string }>;\r\n  aggregation: string;\r\n  period: string;\r\n}\r\n\r\n/**\r\n * 基础 Panel，提供数据请求功能\r\n */\r\nexport class ChartPanel extends React.Component<ChartPanelProps, ChartPanelState> {\r\n  _id: string = \"ChartPanel\";\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const endTime = new Date();\r\n    const startTime = new Date(endTime.getTime() - 1000 * 60 * 60);\r\n    const periodOptions = CHART_PANEL.GeneratePeriodOptions(startTime, endTime);\r\n    this.state = {\r\n      loading: false,\r\n      startTime: TIME_PICKER.Tabs[0].from as any,\r\n      endTime: TIME_PICKER.Tabs[0].to as any,\r\n      seriesGroup: [],\r\n      aggregation: Object.keys(QUERY.Aggregation)[0],\r\n      periodOptions: periodOptions,\r\n      period: periodOptions[0].value\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    let hasUpdate = false;\r\n    let hasFetch = false;\r\n    const { tables, groupBy } = this.props;\r\n    if (\r\n      JSON.stringify(groupBy) !== JSON.stringify(prevProps.groupBy) ||\r\n      JSON.stringify(tables) !== JSON.stringify(prevProps.tables)\r\n    ) {\r\n      hasFetch = true;\r\n    }\r\n\r\n    if (hasFetch) {\r\n      this.fetchDataByTables();\r\n    }\r\n\r\n    if (JSON.stringify(prevState) !== JSON.stringify(this.state)) {\r\n      hasUpdate = true;\r\n    }\r\n\r\n    return hasUpdate || hasFetch;\r\n  }\r\n\r\n  onChangeQueryTime(startTime, endTime) {\r\n    if (this.state.loading) {\r\n      return;\r\n    }\r\n    const periodOptions = CHART_PANEL.GeneratePeriodOptions(startTime, endTime);\r\n    const period = periodOptions[0].value;\r\n    this.setState({ startTime, endTime, periodOptions, period }, () => {\r\n      // 选择时间段后重新请求数据\r\n      this.fetchDataByTables();\r\n    });\r\n  }\r\n\r\n  onChangePeriod(period) {\r\n    this.setState({ period }, () => {\r\n      // 选择时间粒度后重新请求数据\r\n      this.fetchDataByTables();\r\n    });\r\n  }\r\n\r\n  getEmptyData(fields = []) {\r\n    let seriesGroup = [];\r\n    const tables = fields.length > 0 ? [{ fields }] : this.props.tables;\r\n    tables.forEach(tableInfo => {\r\n      tableInfo.fields.forEach(field => {\r\n        seriesGroup.push({\r\n          field,\r\n          title: field.alias,\r\n          labels: [],\r\n          lines: []\r\n        });\r\n      });\r\n    });\r\n    return seriesGroup;\r\n  }\r\n\r\n  fetchDataByTables() {\r\n    // 初始状态\r\n    this.setState({ loading: true, seriesGroup: this.getEmptyData() });\r\n    const { tables } = this.props;\r\n\r\n    const requestPromises = tables.map(tableInfo => {\r\n      return this.requestData(tableInfo);\r\n    });\r\n    Promise.all(requestPromises).then(values => {\r\n      const seriesGroup = [].concat(...values);\r\n      this.setState({ seriesGroup, loading: false });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 发起查询数据请求\r\n   * @param {string} table\r\n   * @param {Array<any>} fields\r\n   * @param {Array<any>} groupBy\r\n   * @param {Array<any>} conditions\r\n   * @param {string} period\r\n   */\r\n  requestData(options: any = {}) {\r\n    const { fields, conditions, table } = options;\r\n    const groupBy = options.groupBy || this.props.groupBy;\r\n    const { startTime, endTime, period } = this.state;\r\n    const groupByItems = groupBy.map(item => item.value) || [];\r\n\r\n    return CHART_PANEL.RequestData({\r\n      table: table,\r\n      startTime,\r\n      endTime,\r\n      fields,\r\n      dimensions: groupByItems,\r\n      conditions: conditions,\r\n      period: period\r\n    })\r\n      .then(res => {\r\n        const { columns, data } = res;\r\n\r\n        /**\r\n         * 根据 groupBy 条件对数据做聚合，已 groupBy 为key进行存储\r\n         */\r\n        let dimensionsData = CHART_PANEL.AggregateDataByDimensions(groupByItems, columns, data);\r\n\r\n        /**\r\n         * 生成 labels\r\n         */\r\n        const timestampIndex = columns.indexOf(`timestamp(${period}s)`);\r\n        // 默认表格第一列为时间序列, 返回的时间列表可能不是startTime开始，以endTime结束，需要补帧\r\n        let labels = (Object.values(dimensionsData)[0] || ([] as any)).map(item => item[timestampIndex]);\r\n        labels = CHART_PANEL.OffsetTimeSeries(startTime, endTime, parseInt(period), labels);\r\n\r\n        /**\r\n         * 生成 series\r\n         */\r\n        let seriesGroup = [];\r\n        // 获取需要显示的field的数据，每个field是一个图表。\r\n        fields.forEach(field => {\r\n          const fieldIndex = CHART_PANEL.FindMetricIndex(columns, field.expr); // 数据列下标\r\n\r\n          const valueTransform = field.valueTransform || (value => value);\r\n          // 每个图表中显示groupBy类别一个field -> chart\r\n          let lines = [];\r\n          Object.keys(dimensionsData).forEach(groupByKey => {\r\n            // 每个groupBy的数据集， fieldsIndex的index获取groupBy该下标的值\r\n            const sourceValue = dimensionsData[groupByKey];\r\n            const data = {};\r\n            sourceValue.forEach(row => {\r\n              let value = row[fieldIndex];\r\n              // data 记录 时间戳row[timestampIndex] 对应 value\r\n              data[row[timestampIndex]] = valueTransform(value);\r\n            });\r\n\r\n            let line = CHART_PANEL.GenerateLine(groupByKey, data);\r\n            lines.push(line);\r\n          });\r\n\r\n          const chart: CHART_PANEL.ChartDataType = {\r\n            title: field.alias,\r\n            labels: labels,\r\n            field: field,\r\n            tooltipLabels: (value, from = \"tooltip\") => {\r\n              return field.valueLabels\r\n                ? field.valueLabels(value, from)\r\n                : `${TransformField(value || 0, field.thousands, 3)}`;\r\n            },\r\n            lines: lines\r\n          };\r\n\r\n          // 每个chart 的数据存储到 seriesGroup\r\n          seriesGroup.push(chart);\r\n        });\r\n        return seriesGroup;\r\n      })\r\n      .catch(e => {\r\n        return this.getEmptyData(fields);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { loading, seriesGroup, periodOptions, period, startTime, endTime } = this.state;\r\n\r\n    return (\r\n      <div className=\"tea-tabs__tabpanel\">\r\n        <Toolbar\r\n          style={{ marginLeft: 20 }}\r\n          duration={{ from: this.state.startTime, to: this.state.endTime }}\r\n          onChangeTime={this.onChangeQueryTime.bind(this)}\r\n        >\r\n          <span style={{ fontSize: 12, display: \"inline-block\", verticalAlign: \"middle\" }}>统计粒度：</span>\r\n          <Select\r\n            type=\"native\"\r\n            size=\"s\"\r\n            appearence=\"button\"\r\n            options={periodOptions}\r\n            value={period}\r\n            onChange={value => {\r\n              this.onChangePeriod(value);\r\n            }}\r\n            placeholder=\"请选择\"\r\n          />\r\n        </Toolbar>\r\n        {seriesGroup.map((chart, index) => {\r\n          const key = `${this._id}_${index}`;\r\n          return (\r\n            <div key={key} style={{ marginBottom: 10, padding: \"0px 10px\" }}>\r\n              <PureChart\r\n                id={key}\r\n                loading={loading}\r\n                min={typeof startTime === \"string\" ? 0 : startTime.getTime()}\r\n                max={typeof endTime === \"string\" ? 0 : endTime.getTime()}\r\n                width={this.props.width}\r\n                heigth={this.props.height}\r\n                title={chart.title}\r\n                field={chart.field}\r\n                labels={chart.labels}\r\n                unit={chart.field.unit}\r\n                tooltipLabels={chart.tooltipLabels}\r\n                lines={chart.lines}\r\n                reload={this.fetchDataByTables.bind(this)}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import moment from 'moment';\r\nimport { ModelType } from 'core/model';\r\nimport { Period } from './helper';\r\nimport { OneDayMillisecond, QUERY } from './constants';\r\nimport { request } from '../tce/request';\r\n\r\n/**\r\n * 定义 chart panel 对外统一接口与业务流程方法\r\n */\r\n\r\n// 基本的名值类型\r\nexport interface NameValueType {\r\n  name: string;\r\n  value: string;\r\n}\r\n\r\nexport namespace CHART_PANEL {\r\n  interface StoreKeyContent {\r\n    groupBy: NameValueType,\r\n    values: Array<{name: string}>\r\n  }\r\n\r\n  /**\r\n   * 指标参数类型\r\n   */\r\n  export interface MetricType {\r\n    expr: string;\r\n    thousands: number;\r\n    alias: string;\r\n    unit?: string;\r\n    storeKey?: string;                      // 传递key则缓存上次某指标图表搜索条件\r\n    defaultGroupBy?: StoreKeyContent;       // 初始化时默认的维度条件\r\n    defaultConditions?: StoreKeyContent;    // 初始化时默认的查询条件\r\n    chartType?: any;\r\n    tooltipLabels?: any;                    // tooltip显示时数据转化格式\r\n    valueTransform?: any;\r\n    scale?:  Array<any>;                    // Y轴显示刻度\r\n    colorTheme?: string,\r\n    colors?: Array<string>,\r\n  }\r\n\r\n  /**\r\n   * 表格数据请求参数，统一表格数据结构\r\n   * 输入端需保证 fields 唯一，每个 field 表示一个 chart\r\n   */\r\n  export interface TableType {\r\n    table: string;\r\n    fields: Array<MetricType>;\r\n    conditions?: Array<Array<string>>; // [[\"id\", \"=\", \"value\"]]\r\n    groupBy?: Array<NameValueType>;\r\n  }\r\n\r\n  /**\r\n   * 图表折线显示所需传入参数\r\n   */\r\n  export interface ChartDataType {\r\n    min?: number;\r\n    max?: number;\r\n    unit?: string;\r\n    title: string;\r\n    field: any;\r\n    labels: Array<string>;\r\n    tooltipLabels: any;\r\n    lines: Array<ModelType>;\r\n  }\r\n\r\n\r\n  /**\r\n   * 用于groupBY中的值产生图表中折线的legend或instances的key\r\n   * 使图表的折线的legend 跟 instance 对应，用于instances勾选功能\r\n   */\r\n  export function GenerateRowKey(row = []) {\r\n    return row.length > 0 ? row.join(\" | \") : \"\";\r\n  }\r\n\r\n  /**\r\n   * 生成图表中显示折线的数据对象\r\n   * @param legend\r\n   * @param data\r\n   * @returns {ModelType}\r\n   * @constructor\r\n   */\r\n  export function GenerateLine(legend, data, disable = false) {\r\n    return {\r\n      legend: legend,\r\n      disable: disable, // 该折线是否置灰色\r\n      data: data\r\n    } as ModelType;\r\n  }\r\n\r\n  // 生成时间粒度\r\n  export function GeneratePeriodOptions(startTime, endTime): Array<{value: string, text: string}> {\r\n    let periods = [60, 300, 3600, 86400];\r\n    function periodUnit(period): string {\r\n      const unit = [\"秒\", \"分钟\", \"小时\"];\r\n      let temp = period / 60;\r\n\r\n      let unitRound = 1;\r\n      while (unitRound < 3 && temp >= 60) {\r\n        temp = temp / 60;\r\n        unitRound += 1;\r\n      }\r\n      if (temp < 1) {\r\n        return `${period}${unit[0]}`;\r\n      }\r\n      return `${temp}${unit[unitRound]}`;\r\n    }\r\n    const period = Period(startTime, endTime);\r\n    const l = moment(endTime).diff(moment(startTime));\r\n    return periods.filter(d => d>=period && d < l).map(item => {\r\n      return {\r\n        value: item as any,\r\n        text: periodUnit(item)\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 发起查询数据请求\r\n   * @param {string} table\r\n   * @param {Date} startTime\r\n   * @param {Date} endTime\r\n   * @param {Array<any>} fields\r\n   * @param {Array<string>} dimensions\r\n   * @param {Array<Array<any>>} conditions\r\n   * @param {string} period\r\n   */\r\n  export async function RequestData(options: {table: string, startTime: Date, endTime: Date, fields: Array<any>, dimensions: Array<string>, conditions: Array<Array<any>>, period: string}) {\r\n    const params = {\r\n      table: options.table,\r\n      startTime: options.startTime.getTime(),\r\n      endTime: options.endTime.getTime(),\r\n      fields: [...options.fields.map(item => `${item.expr}`)],\r\n      conditions: options.conditions,\r\n      orderBy: \"timestamp\",\r\n      groupBy: [`timestamp(${options.period}s)`, ...options.dimensions],\r\n      order: \"asc\",\r\n      limit: QUERY.Limit\r\n    };\r\n    try {\r\n      const res = await request({\r\n        data: {\r\n          Path: \"/front/v1/get/query\",\r\n          RequestBody: params\r\n        }\r\n      });\r\n      // 没有数据，抛出异常\r\n      if (!res.hasOwnProperty(\"columns\") || !res.hasOwnProperty(\"data\")) {\r\n        throw new Error();\r\n      }\r\n      // 更新图表数据\r\n      const {columns, data} = res as any;\r\n      if (!Array.isArray(columns) || !Array.isArray(data)) {\r\n        throw new Error();\r\n      }\r\n      if (data.length === QUERY.Limit) {\r\n        /**\r\n         * 返回数据长度与请求限制一致，则说明对象显示数据点不够，需要分段发起请求\r\n         */\r\n          // 获取要显示的对象\r\n        const instances = AggregateDataByDimensions(options.dimensions, columns, data);\r\n        // 每个对象一天显示点数\r\n        const instancePoints = 86400 / parseInt(options.period);\r\n        // 显示的对象一天显示点数\r\n        const sumInstancesPoints = Object.keys(instances).length * instancePoints;\r\n        const daysNum = Math.ceil((params.endTime - params.startTime) / OneDayMillisecond);\r\n        const requestNum = Math.ceil(sumInstancesPoints * daysNum / QUERY.Limit);\r\n        const timeInterval = Math.floor((params.endTime - params.startTime) / requestNum);\r\n        // 生成请求数组\r\n        let requestPromises = [];\r\n        for (let i = 1; i <= requestNum; i++) {\r\n          const paramsTemp = {\r\n            ...params,\r\n            startTime: params.startTime + timeInterval * (i - 1),\r\n            endTime: params.startTime + timeInterval * i\r\n          };\r\n          requestPromises.push(request({\r\n            data: {\r\n              Path: \"/front/v1/get/query\",\r\n              RequestBody: paramsTemp\r\n            }\r\n          }));\r\n        }\r\n        const resAll = await Promise.all(requestPromises);\r\n        // 将data转化为一维数组\r\n        return {columns, data: [].concat(...resAll.map(item => item.data))};\r\n      }\r\n      return res;\r\n    }\r\n    catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 根据维度对请求返回数据进行聚合\r\n   * @param dimensions\r\n   * @param columns\r\n   * @param data\r\n   * @returns {{}}\r\n   */\r\n  export function AggregateDataByDimensions(dimensions: Array<string>, columns: Array<string>, data) {\r\n    columns = columns || [];\r\n    data = data || [];\r\n    /**\r\n     * 根据 groupBy 条件对数据做聚合，已 groupBy 为key进行存储\r\n     */\r\n    let dimensionIndex = []; // 记录是 groupBy 数据的下标\r\n    let dimensionData = {};  // 记录 groupBy 联合 key 集合数据\r\n    dimensions.forEach(item => {\r\n      const index = columns.indexOf(item);\r\n      if (index >= 0) {\r\n        dimensionIndex.push(index);\r\n      }\r\n    });\r\n\r\n    data.forEach(row => {\r\n      // 使用每一行数据中groupBy字段对应值的字符串合并作为该行的唯一key\r\n      const rowKey = CHART_PANEL.GenerateRowKey(dimensionIndex.map(index => row[index]));\r\n      if (dimensionData[rowKey]) {\r\n        dimensionData[rowKey].push(row);\r\n      }\r\n      else {\r\n        dimensionData[rowKey] = [row];\r\n      }\r\n    });\r\n    return dimensionData;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Date} startTime\r\n   * @param {Date} endTime\r\n   */\r\n  export function OffsetTimeSeries(startTime: Date, endTime: Date, period: number, labels: Array<number>) {\r\n    labels = [labels[0] || startTime.getTime()];\r\n    const periodNum = Math.floor((endTime.getTime() - startTime.getTime()) / period / 1000);\r\n    if (periodNum - labels.length > 0) {\r\n      const periodMillisecond = period * 1000;\r\n      const startTimestamp = startTime.getTime();\r\n      const endTimestamp = endTime.getTime();\r\n      let cycleIndex = 0;\r\n      while (true) {\r\n        if (cycleIndex > 15000) {\r\n          // 安全机制，防止死循环，相当于15000分钟的跨度\r\n          break;\r\n        }\r\n        cycleIndex += 1;\r\n        const start = labels[0];\r\n        const end = labels[labels.length - 1];\r\n        if (start - startTimestamp >= periodMillisecond) {\r\n          labels.unshift(start - periodMillisecond);\r\n        }\r\n        if (endTimestamp - end >= periodMillisecond) {\r\n          labels.push(end + periodMillisecond);\r\n        }\r\n        if (periodNum < labels.length\r\n          || (labels[0] - startTimestamp < periodMillisecond && endTimestamp - labels[labels.length - 1] < periodMillisecond)) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return labels;\r\n  }\r\n\r\n  /**\r\n   * 根据指标表达式查找在数据中的下标值\r\n   * @param {Array<string>} columns\r\n   * @param {string} metricExpr\r\n   */\r\n  export function FindMetricIndex(columns: Array<string>, metricExpr: string) {\r\n    const match = /(\\w+)?\\((\\w+)\\)/.exec(metricExpr);\r\n    let fieldIndex = -1;  // field 对应的在 data 中的下标\r\n    if (match && match.length === 3) {\r\n      fieldIndex = columns.indexOf(`${match[2]}_${match[1]}`);\r\n      if (fieldIndex === -1) {\r\n        // 兼容influxdb没拼接聚合方式在 k8s_workload_pod_restart_total\r\n        fieldIndex = columns.indexOf(match[2]);\r\n      }\r\n    }\r\n    else {\r\n      fieldIndex = columns.findIndex(item => item === metricExpr);\r\n    }\r\n\r\n    return fieldIndex;\r\n  }\r\n\r\n}","import * as React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport { BaseReactProps } from \"tea-components/libs/types/BaseReactProps\";\r\n\r\nexport interface BubbleProps extends BaseReactProps {\r\n    /**\r\n     * 小三角的朝向，默认为 top\r\n     */\r\n    focusPosition?: \"top\" | \"right\" | \"left\" | \"bottom\";\r\n\r\n    /**\r\n     * 小三角的偏移位置，可以给百分比，也可以给像素值，默认为 \"50%\"\r\n     * */\r\n    focusOffset?: string | number;\r\n}\r\n\r\nexport function Bubble({ focusPosition = \"top\" as \"top\", focusOffset, children, className, style }: BubbleProps) {\r\n\r\n    const offsetProperty = focusPosition === \"top\" || focusPosition === \"bottom\" ? \"top\" : \"left\";\r\n\r\n    style = Object.assign({}, { [offsetProperty]: focusOffset }, style);\r\n\r\n    return (\r\n\r\n        <div className={classnames(`tc-15-bubble tc-15-bubble-${focusPosition}`, className)} style={ style }>\r\n            <div className=\"tc-15-bubble-inner\">\r\n                { children }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import * as React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport { BaseReactProps } from \"tea-components/libs/types/BaseReactProps\";\r\n\r\nexport interface BubbleWrapperProps extends BaseReactProps {\r\n    /**\r\n     * 气泡对齐到元素的位置，默认不传为居中\r\n     * */\r\n    align?: \"start\" | \"end\"\r\n}\r\n\r\nexport function BubbleWrapper({ children, className, align }: BubbleWrapperProps) {\r\n    const finalClassName = classnames(\"tc-15-bubble-icon\", {\r\n        [\"tc-15-triangle-align-\" + align]: !!align\r\n    }, className);\r\n    return (\r\n        <div className={finalClassName}>\r\n            { children }\r\n        </div>\r\n    );\r\n}","export * from \"./Bubble\";\r\nexport * from \"./BubbleWrapper\";","import * as React from 'react';\r\nimport classNames from 'classnames';\r\nimport { OnOuterClick } from \"tea-components/libs/decorators/OnOuterClick\";\r\nimport { SingleDatePicker, SingleDatePickerValue, SingleDatePickerRange } from './SingleDatePicker';\r\nimport { TimePicker, TimePickerValue, TimePickerRange } from '../timepicker';\r\nimport * as languages from '../../i18n';\r\n\r\nconst version = (window as any).VERSION || \"zh\";\r\nconst language = languages[version];\r\n\r\nexport interface DateTimePickerTab {\r\n  from: Date | string;\r\n  to: Date  | string;\r\n  label: string;\r\n}\r\n\r\nexport interface DateTimePickerValue {\r\n  from?: Date | string;\r\n  to?: Date | string;\r\n}\r\n\r\nexport interface DateTimePickerRange {\r\n  min?: Date | string;\r\n  max?: Date | string;\r\n  maxLength?: number;\r\n}\r\n\r\nexport interface DateTimeRange {\r\n  min?: Date;\r\n  max?: Date;\r\n}\r\n\r\n\r\nexport interface DateTimePickerProps {\r\n  /**\r\n   * 默认初始值 { from: string/Date, to: string/Date }\r\n   */\r\n  defaultValue?: DateTimePickerValue;\r\n\r\n  /**\r\n   * 预定义日期值的选项卡 { from: string/Date, to: string/Date, label: string }\r\n   */\r\n  tabs?: DateTimePickerTab[];\r\n\r\n  /**\r\n   * 默认选中的选项卡序号\r\n   */\r\n  defaultSelectedTabIndex?: number;\r\n\r\n  /**\r\n   * 选项卡与 Picker 是否联动，默认不联动\r\n   */\r\n  linkage?: boolean;\r\n\r\n  /**\r\n   * 选择指定长度的区间 **(单位为秒(s))** **（duration 动态改变时将重新初始化组件）**\r\n   */\r\n  duration?: number;\r\n\r\n  /**\r\n   * 未选中日期的时候显示的文案\r\n   */\r\n  placeHolder?: string;\r\n\r\n  /**\r\n   * 是否禁用，默认为 false\r\n   */\r\n  disabled?: boolean;\r\n\r\n  /**\r\n   * 允许选择的时间范围限制 { from: string/Date, to: string/Date, maxLength: number } **(maxLength 单位为秒(s))** **（range暂不支持动态改变）**\r\n   */\r\n  range?: DateTimePickerRange;\r\n\r\n  /**\r\n   * 日期时间被更改时触发\r\n   */\r\n  onChange?: (range: DateTimePickerValue, tabLabel?: string) => void;\r\n\r\n  /**\r\n   * 语言（’zh'/'en'），默认为 window.VERSION\r\n   */\r\n  version?: string;\r\n}\r\n\r\n/**\r\n * props中时间单位为s，乘unit转化为ms\r\n */\r\nconst unit = 1000;\r\n\r\n\r\n/**\r\n * 日期时间范围选择组件\r\n * TODO 受控组件支持\r\n */\r\nexport class DateTimePicker extends React.Component<DateTimePickerProps, any> {\r\n\r\n  constructor(props: DateTimePickerProps) {\r\n    super(props);\r\n\r\n    const { dateFrom, timeFrom, dateTo, timeTo, rangeFrom, rangeTo, pickerValue } = this.getInitDateAndRange(this.props);\r\n    this.state = {\r\n      active: false,\r\n      selectedTabIndex: null,\r\n\r\n      pickerValue: pickerValue,\r\n\r\n      dateFrom, timeFrom,\r\n      rangeFrom,\r\n\r\n      dateTo, timeTo,\r\n      rangeTo\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    const { tabs, defaultSelectedTabIndex } = this.props;\r\n    if ('tabs' in this.props && 'defaultSelectedTabIndex' in this.props && tabs[defaultSelectedTabIndex]) {\r\n      this.handleTabSelect(tabs[defaultSelectedTabIndex], defaultSelectedTabIndex);\r\n    }\r\n  }\r\n\r\n\r\n  componentWillReceiveProps(nextProps: DateTimePickerProps) {\r\n    // duration可变\r\n    if (!('duration' in nextProps) || nextProps.duration === this.props.duration) return;\r\n\r\n    const { dateFrom, timeFrom, dateTo, timeTo, rangeFrom, rangeTo, pickerValue } = this.getInitDateAndRange(nextProps);\r\n    this.setState({ dateFrom, timeFrom, dateTo, timeTo, rangeFrom, rangeTo, pickerValue, selectedTabIndex: null});\r\n\r\n    // TODO range可变\r\n  }\r\n\r\n  /**\r\n   * 根据 props 获得初始日期和范围\r\n   */\r\n  getInitDateAndRange = (props) => {\r\n    let dateFrom, timeFrom, dateTo, timeTo, pickerValue = null;\r\n    let defaultValue = props.defaultValue || {};\r\n\r\n    // defaultValue\r\n    if (defaultValue.from) {\r\n      const from = this.parseMacro(defaultValue.from as string);\r\n      dateFrom = this.formatDate(this.getDate(from));\r\n      timeFrom = this.formatTime(this.getTime(from));\r\n      pickerValue = { from, to: from }\r\n    }\r\n\r\n    if (defaultValue.to) {\r\n      const to = this.parseMacro(defaultValue.to as string);\r\n      dateTo = this.formatDate(this.getDate(to));\r\n      timeTo = this.formatTime(this.getTime(to));\r\n      if (!pickerValue) {\r\n        pickerValue = { from: to, to }\r\n      } else {\r\n        pickerValue.to = to;\r\n      }\r\n    }\r\n\r\n    // 获取初始范围\r\n    const { rangeFrom, rangeTo } = this.getInitRange(props);\r\n    const range = props.range || {};\r\n\r\n    // duration 存在时更新起止时间\r\n    if ('duration' in props && pickerValue) {\r\n      pickerValue.to = new Date(pickerValue.from.getTime() + props.duration * unit);\r\n      // 超出范围置空\r\n      if (rangeFrom.max && this.compare(pickerValue.from, rangeFrom.max) > 0) {\r\n        dateFrom = timeFrom = dateTo = timeTo = pickerValue = null;\r\n        defaultValue = {};\r\n      } else {\r\n        dateTo = this.formatDate(this.getDate(pickerValue.to));\r\n        timeTo = this.formatTime(this.getTime(pickerValue.to));\r\n      }\r\n    }\r\n\r\n    // TODO\r\n    // DefaultValue Range 判断\r\n\r\n    // 根据 defaultValue 限定开始结束范围\r\n    if (defaultValue.from) {\r\n      const date = this.parse(`${dateFrom} ${timeFrom}`);\r\n      if ((rangeFrom.min && this.compare(date, rangeFrom.min) < 0) || (rangeFrom.max && this.compare(date, rangeFrom.max) > 0)) return;\r\n      rangeTo.min = date;\r\n      if ('maxLength' in range) {\r\n        rangeTo.max = new Date(date.getTime() +  range.maxLength * unit);\r\n      }\r\n    }\r\n    if (defaultValue.to) {\r\n      const date = this.parse(`${dateTo} ${timeTo}`);\r\n      if ((rangeTo.min && this.compare(date, rangeTo.min) < 0) || (rangeTo.max && this.compare(date, rangeTo.max) > 0)) return;\r\n      rangeFrom.max = date;\r\n      // if ('maxLength' in range) {\r\n      //     rangeFrom.min = new Date(date.getTime() - range.maxLength * unit);\r\n      // }\r\n    }\r\n    return { dateFrom, timeFrom, dateTo, timeTo, rangeFrom, rangeTo, pickerValue };\r\n  }\r\n\r\n  /**\r\n   * 根据 props 获得初始范围\r\n   */\r\n  getInitRange = (props) => {\r\n    const { duration, range = {} } = props;\r\n\r\n    let rangeFrom: DateTimeRange = {}, rangeTo: DateTimeRange = {};\r\n\r\n    if ('min' in range) {\r\n      const rangeMin = this.parseMacro(range['min'] as string);\r\n      rangeFrom.min = rangeTo.min = rangeMin;\r\n    }\r\n\r\n    if ('max' in range) {\r\n      const rangeMax = this.parseMacro(range['max'] as string);\r\n      rangeTo.max = rangeMax;\r\n      if ('duration' in props) {\r\n        rangeFrom.max = new Date(rangeMax.getTime() - duration * unit);\r\n      } else {\r\n        rangeFrom.max = rangeMax;\r\n      }\r\n    }\r\n    return { rangeFrom, rangeTo };\r\n  }\r\n\r\n\r\n  /**\r\n   * 根据起止日期重置范围\r\n   *   type - 'from'/'to' 表示起止\r\n   */\r\n  resetRange = (type: string, date: Date): void => {\r\n    let { rangeFrom, rangeTo, dateTo, timeTo } = Object.assign({}, this.state);\r\n    const { duration, range = {} } = this.props;\r\n\r\n    if (type === 'from') {\r\n\r\n      if ((rangeFrom.min && this.compare(date, rangeFrom.min) < 0) ||\r\n        (rangeFrom.max && this.compare(date, rangeFrom.max) > 0)) {\r\n        return;\r\n      }\r\n\r\n      rangeTo.min = date;\r\n\r\n      const rangeMax = this.parseMacro(range['max'] as string);\r\n      const rangeMin = this.parseMacro(range['min'] as string);\r\n\r\n      if ('maxLength' in range) {\r\n        const max = new Date(date.getTime() + range['maxLength'] * unit);\r\n        rangeTo.max = this.compare(max, rangeMax) < 0 ? max : rangeMax;\r\n        if (dateTo) {\r\n          const to = this.parse(`${dateTo} ${timeTo}`);\r\n          if (this.compare(to, rangeTo.min) < 0 || this.compare(to, rangeTo.max) > 0) {\r\n            this.setState({ dateTo: null, timeTo: null });\r\n          }\r\n        }\r\n      } else {\r\n        rangeTo.max = rangeMax;\r\n      }\r\n\r\n      rangeFrom.min = rangeMin;\r\n\r\n      if ('duration' in this.props) {\r\n        rangeFrom.max = new Date(rangeMax.getTime() - duration * unit);\r\n      }\r\n\r\n    }\r\n\r\n    if (type === 'to') {\r\n\r\n      if ((rangeTo.min && this.compare(date, rangeTo.min) < 0) ||\r\n        (rangeTo.max && this.compare(date, rangeTo.max) > 0)) {\r\n        return;\r\n      }\r\n\r\n      if (!('maxLength' in range)) {\r\n        rangeFrom.max = date;\r\n      }\r\n\r\n      // maxLength存在时不再限制rangeFrom.min\r\n\r\n      // if ('maxLength' in range) {\r\n      //   const min = new Date(date.getTime() - range.maxLength * unit);\r\n      //   rangeFrom.min = this.compare(min, range.min) > 0 ? min : range.min;\r\n      // }\r\n    }\r\n\r\n    this.setState({ rangeFrom, rangeTo });\r\n  }\r\n\r\n  /**\r\n   * 判断时间是否选择完成\r\n   */\r\n  isCompleted = (): boolean => {\r\n    const { dateFrom, timeFrom, dateTo, timeTo } = this.state;\r\n    return dateFrom && timeFrom && dateTo && timeTo;\r\n  }\r\n\r\n  /**\r\n   * Date比较，精确到s\r\n   */\r\n  compare = (value1: Date, value2: Date): number => {\r\n    if (value1.getFullYear() > value2.getFullYear()) return 1;\r\n    if (value1.getFullYear() < value2.getFullYear()) return -1;\r\n    if (value1.getMonth() > value2.getMonth()) return 1;\r\n    if (value1.getMonth() < value2.getMonth()) return -1;\r\n    if (value1.getDate() > value2.getDate()) return 1;\r\n    if (value1.getDate() < value2.getDate()) return -1;\r\n    if (value1.getHours() > value2.getHours()) return 1;\r\n    if (value1.getHours() < value2.getHours()) return -1;\r\n    if (value1.getMinutes() > value2.getMinutes()) return 1;\r\n    if (value1.getMinutes() < value2.getMinutes()) return -1;\r\n    if (value1.getSeconds() > value2.getSeconds()) return 1;\r\n    if (value1.getSeconds() < value2.getSeconds()) return -1;\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * 格式化\r\n   */\r\n  formatNum = (num:number):string => num > 9 ? `${num}` : `0${num}`;\r\n  formatDate = (value: string | SingleDatePickerValue | null): string => {\r\n    if (typeof value === 'string') return value;\r\n    if (!value) return \"\";\r\n    const { year, month, day } = value;\r\n    return `${year}-${this.formatNum(month+1)}-${this.formatNum(day)}`;\r\n  }\r\n\r\n  formatTime = (value: string | TimePickerValue | null): string => {\r\n    if (typeof value === 'string') return value;\r\n    if (!value) return \"\";\r\n    const { hour, minute, second } = value;\r\n    return `${this.formatNum(hour)}:${this.formatNum(minute)}:${this.formatNum(second)}`;\r\n  }\r\n\r\n  format = (date: Date): string => {\r\n    return `${this.formatDate(this.getDate(date))}  ${this.formatTime(this.getTime(date))}`\r\n  }\r\n\r\n  /**\r\n   * 解析宏指令\r\n   */\r\n  parseMacro = (macro: string, type?: string): Date => {\r\n\r\n    if (typeof macro !== 'string') {\r\n      return macro;\r\n    }\r\n\r\n    if (/^[0-9]{4}[/\\-\\.][0-9]{2}[/\\-\\.][0-9]{2}\\s[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(macro)) {\r\n      return this.parse(macro);\r\n    }\r\n\r\n    const today = new Date();\r\n    let unit, offset, stamp;\r\n\r\n    if (macro.indexOf('%TODAY') >= 0) {\r\n      macro = macro.replace('%TODAY', '');\r\n      unit = 86400 * 1000;\r\n      offset = +macro;\r\n      const date = new Date(today.getTime() + (offset * unit));\r\n      if (type === 'from') {\r\n        date.setHours(0);\r\n        date.setMinutes(0);\r\n        date.setSeconds(0);\r\n      }\r\n      if (type === 'to') {\r\n        date.setHours(23);\r\n        date.setMinutes(59);\r\n        date.setSeconds(59);\r\n      }\r\n      return date;\r\n    }\r\n\r\n    if (macro.indexOf('%NOW') >= 0) {\r\n      macro = macro.replace('%NOW', '');\r\n      unit = 1000;\r\n\r\n      if (macro.indexOf('h') >= 0) {\r\n        macro = macro.replace('h', '');\r\n        unit = 3600 * 1000;\r\n      }\r\n\r\n      if (macro.indexOf('m') >= 0) {\r\n        macro = macro.replace('m', '');\r\n        unit = 60 * 1000;\r\n      }\r\n\r\n      if (macro.indexOf('s') >= 0) {\r\n        macro = macro.replace('s', '');\r\n      }\r\n\r\n      offset = +macro;\r\n      const date = new Date(today.getTime() + (offset * unit));\r\n      return date;\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 'yyyy-MM-dd HH:mm:ss'解析为 Date 对象\r\n   * 解决IE不能使用 new Date('yyyy-MM-dd HH:mm:ss')\r\n   */\r\n  parse = (str: string) => {\r\n    const date = new Date(NaN);\r\n    if (!/^[0-9]{4}[/\\-\\.][0-9]{2}[/\\-\\.][0-9]{2}\\s[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(str)) return null;\r\n\r\n    const year = +str.substr(0, 4),\r\n      month = +str.substr(5, 2)-1,\r\n      day = +str.substr(8, 2),\r\n      hour = +str.substr(11, 2),\r\n      minute = +str.substr(14, 2),\r\n      second = +str.substr(17, 2);\r\n\r\n    date.setFullYear(year, month, day);\r\n    date.setHours(hour);\r\n    date.setMinutes(minute);\r\n    date.setSeconds(second);\r\n\r\n    return date;\r\n  }\r\n\r\n\r\n  getDate = (date: Date) => {\r\n    if (!date) return null;\r\n    return {\r\n      year: +date.getFullYear(),\r\n      month: +date.getMonth(),\r\n      day: +date.getDate()\r\n    }\r\n  }\r\n\r\n  getTime = (date: Date) => {\r\n    if (!date) return null;\r\n    return {\r\n      hour: +date.getHours(),\r\n      minute: +date.getMinutes(),\r\n      second: +date.getSeconds()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 展开选择框\r\n   */\r\n  open = (): void => {\r\n    if (this.props.disabled) return;\r\n    const value = this.state.pickerValue;\r\n    if (value) {\r\n      this.setState({\r\n        dateFrom: this.formatDate(this.getDate(value.from)),\r\n        timeFrom: this.formatTime(this.getTime(value.from)),\r\n        dateTo: this.formatDate(this.getDate(value.to)),\r\n        timeTo: this.formatTime(this.getTime(value.to))\r\n      }, () => {\r\n        this.resetRange('from', value.from);\r\n        if (!('duration' in this.props)) {\r\n          this.resetRange('to', value.to);\r\n        }\r\n      })\r\n    }\r\n    this.setState({ active: true });\r\n  }\r\n\r\n  /**\r\n   * 点击确认时调用\r\n   */\r\n  handleSubmit = (): void => {\r\n    if (!this.isCompleted()) return;\r\n    const { dateFrom, timeFrom, dateTo, timeTo } = this.state;\r\n    const pickerValue = {\r\n      from: this.parse(`${dateFrom} ${timeFrom}`),\r\n      to: this.parse(`${dateTo} ${timeTo}`),\r\n    }\r\n\r\n    this.setState({ active: false });\r\n\r\n    const preValue = this.state.pickerValue;\r\n\r\n    if (preValue && preValue.from && preValue.to &&\r\n      this.compare(pickerValue.from, preValue.from) === 0 &&\r\n      this.compare(pickerValue.to, preValue.to) === 0) return;\r\n\r\n    if (this.compare(pickerValue.from, pickerValue.to) > 0) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.onChange) {\r\n      this.props.onChange(pickerValue);\r\n    }\r\n\r\n    this.setState({\r\n      pickerValue,\r\n      selectedTabIndex: null,\r\n      value: pickerValue\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * 点击取消时调用\r\n   */\r\n  @OnOuterClick\r\n  handleCancel(): void {\r\n    this.setState({ active: false });\r\n  }\r\n\r\n  /**\r\n   * 点击Tab时调用\r\n   */\r\n  handleTabSelect = (tab: DateTimePickerTab, index: number): void => {\r\n    const value = {\r\n      from: this.parseMacro(tab.from as string, 'from'),\r\n      to: this.parseMacro(tab.to as string, 'to')\r\n    }\r\n\r\n    if (this.props.onChange) {\r\n      this.props.onChange(value, tab.label);\r\n    }\r\n\r\n    // 不联动\r\n    if (!this.props.linkage) {\r\n      this.setState({\r\n        active: false,\r\n        selectedTabIndex: index,\r\n        pickerValue: null\r\n      });\r\n      return;\r\n    }\r\n\r\n    let dateFrom, timeFrom, dateTo, timeTo;\r\n    dateFrom = this.formatDate(this.getDate(value.from));\r\n    timeFrom = this.formatTime(this.getTime(value.from));\r\n    this.resetRange('from', value.from);\r\n\r\n    dateTo = this.formatDate(this.getDate(value.to));\r\n    timeTo = this.formatTime(this.getTime(value.to));\r\n    this.resetRange('to', value.to);\r\n\r\n    this.setState({\r\n      active: false,\r\n      selectedTabIndex: index,\r\n      dateFrom, timeFrom, dateTo, timeTo,\r\n      pickerValue: value\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { pickerValue, dateFrom, timeFrom, dateTo, timeTo, selectedTabIndex, rangeFrom, rangeTo } = this.state;\r\n    const isCompleted = this.isCompleted();\r\n\r\n    // picker内容显示\r\n    let text = this.props.placeHolder || language.OptionDate;\r\n    if (pickerValue) {\r\n      text = `${this.format(pickerValue.from)} ${language.To} ${this.format(pickerValue.to)}`;\r\n    }\r\n\r\n    // Tabs\r\n    const tabs = this.props.tabs ? this.props.tabs.map((tab, index) => {\r\n      if (selectedTabIndex !== index) {\r\n        return <span role=\"tab\" tabIndex={index} key={index} onClick={() => this.handleTabSelect(tab, index)}>{tab.label}</span>\r\n      } else {\r\n        return <span role=\"tab\" tabIndex={index} key={index} className=\"current\" onClick={() => this.handleTabSelect(tab, index)}>{tab.label}</span>\r\n      }\r\n    }) : [];\r\n\r\n    // 时间起止范围\r\n    const timeFromRange: TimePickerRange = {};\r\n    if (dateFrom && dateFrom === this.formatDate(this.getDate(rangeFrom.min))) {\r\n      timeFromRange.min = this.formatTime(this.getTime(rangeFrom.min));\r\n    }\r\n    if (dateFrom && dateFrom === this.formatDate(this.getDate(rangeFrom.max))) {\r\n      timeFromRange.max = this.formatTime(this.getTime(rangeFrom.max));\r\n    }\r\n\r\n    const timeToRange: TimePickerRange = {};\r\n    if (dateTo && dateTo === this.formatDate(this.getDate(rangeTo.min))) {\r\n      timeToRange.min = this.formatTime(this.getTime(rangeTo.min));\r\n    }\r\n    if (dateTo && dateTo === this.formatDate(this.getDate(rangeTo.max))) {\r\n      timeToRange.max = this.formatTime(this.getTime(rangeTo.max));\r\n    }\r\n\r\n    return (\r\n      <div className=\"tc-15-calendar-select-wrap tc-15-calendar2-hook\">\r\n        <div role=\"tablist\">\r\n          {tabs}\r\n        </div>\r\n        <div className={classNames(\"tc-15-dropdown tc-15-dropdown-btn-style date-dropdown\", { \"tc-15-menu-active\": this.state.active, \"disabled\": this.props.disabled})}>\r\n          <a className=\"tc-15-dropdown-link\" onClick={this.open} onFocus={this.open} ><i className=\"caret\"></i>{text}</a>\r\n          <div className=\"tc-15-dropdown-menu\" role=\"menu\">\r\n            <div className=\"tc-custom-date\">\r\n              <div className=\"custom-date-wrap\">\r\n                <em>从</em>\r\n                <div className=\"calendar-box\">\r\n                  <SingleDatePicker\r\n                    value={dateFrom}\r\n                    range={{min: this.formatDate(this.getDate(rangeFrom.min)), max: this.formatDate(this.getDate(rangeFrom.max))}}\r\n                    onChange={(dateFrom) => {\r\n                      const time = timeFrom ? timeFrom : (this.formatTime(this.getTime(rangeFrom.min)) || '00:00:00');\r\n                      if ('duration' in this.props) {\r\n                        const to = new Date(this.parse(`${dateFrom} ${time}`).getTime() + this.props.duration * unit);\r\n\r\n                        if (this.compare(to, rangeTo.max) > 0) {\r\n                          const from = new Date(rangeTo.max.getTime() - this.props.duration * unit);\r\n                          this.setState({\r\n                            dateFrom: this.formatDate(this.getDate(from)), timeFrom: this.formatTime(this.getTime(from)),\r\n                            dateTo: this.formatDate(this.getDate(rangeTo.max)), timeTo: this.formatTime(this.getTime(rangeTo.max))\r\n                          });\r\n                        } else {\r\n                          this.setState({\r\n                            dateFrom, timeFrom: time,\r\n                            dateTo: this.formatDate(this.getDate(to)), timeTo: this.formatTime(this.getTime(to))\r\n                          });\r\n                        }\r\n\r\n                      } else {\r\n                        this.resetRange('from', this.parse(`${dateFrom} ${time}`));\r\n                        this.setState({ dateFrom, timeFrom: time })\r\n                      }\r\n                    }}\r\n                    version={this.props.version}\r\n                  />\r\n                  <TimePicker\r\n                    value={timeFrom}\r\n                    range={timeFromRange}\r\n                    onChange={(timeFrom) => {\r\n                      if (dateFrom) {\r\n                        this.resetRange('from', this.parse(`${dateFrom} ${timeFrom}`));\r\n                        if ('duration' in this.props) {\r\n                          const to = new Date(this.parse(`${dateFrom} ${timeFrom}`).getTime() + this.props.duration * unit);\r\n                          this.setState({ dateTo: this.formatDate(this.getDate(to)), timeTo: this.formatTime(this.getTime(to)) });\r\n                        }\r\n                      }\r\n                      this.setState({ timeFrom });\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"custom-date-wrap\">\r\n                <em>至</em>\r\n                <div className=\"calendar-box\">\r\n                  <SingleDatePicker\r\n                    value={dateTo}\r\n                    disabled={'duration' in this.props}\r\n                    range={{min: this.formatDate(this.getDate(rangeTo.min)), max: this.formatDate(this.getDate(rangeTo.max))}}\r\n                    onChange={(dateTo) => {\r\n                      const time = timeTo ? timeTo : (this.formatTime(this.getTime(rangeTo.min)) || '00:00:00');\r\n                      this.resetRange('to', this.parse(`${dateTo} ${time}`));\r\n                      this.setState({ dateTo, timeTo: time });\r\n                    }}\r\n                    version={this.props.version}\r\n                  />\r\n                  <TimePicker\r\n                    value={timeTo}\r\n                    disabled={'duration' in this.props}\r\n                    range={timeToRange}\r\n                    onChange={(timeTo) => {\r\n                      if (dateTo) {\r\n                        this.resetRange('to', this.parse(`${dateTo} ${timeTo}`));\r\n                      }\r\n                      this.setState({ timeTo });\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"custom-date-ft\">\r\n              <button type=\"button\" className=\"tc-15-btn m\" onClick={this.handleSubmit}>{language.Confirm}</button>&nbsp;\r\n              <button type=\"button\" className=\"tc-15-btn m weak\" onClick={this.handleCancel.bind(this)}>{language.Cancel}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import * as React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport { OnOuterClick } from \"tea-components/libs/decorators/OnOuterClick\";\r\nimport { Bubble, BubbleWrapper } from \"../bubble\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nexport interface SingleDatePickerValue {\r\n  year: number;\r\n  month: number;\r\n  day: number;\r\n}\r\n\r\nexport interface SingleDatePickerRange {\r\n  min?: string;\r\n  max?: string;\r\n}\r\n\r\nexport interface SingleDatePickerProps {\r\n  defaultValue?: string | SingleDatePickerValue;\r\n  value?: string | SingleDatePickerValue;\r\n\r\n  placeHolder?: string;\r\n\r\n  version?: string;\r\n\r\n  disabled?: boolean;\r\n\r\n  range?: SingleDatePickerRange;\r\n\r\n  onChange?: (date: string) => void;\r\n}\r\n\r\nconst keys = {\r\n  \"13\": \"enter\"\r\n};\r\n\r\nconst MONTH = [\r\n  \"\",\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\"\r\n];\r\n\r\nexport class SingleDatePicker extends React.Component<SingleDatePickerProps, any> {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let defaultValue = this.props.value || this.props.defaultValue;\r\n    defaultValue = this.parse(defaultValue);\r\n\r\n    const value = this.check(defaultValue) ? defaultValue : null;\r\n\r\n    let cur: any = {};\r\n    if (value) {\r\n      cur = {\r\n        curYear: value.year,\r\n        curMonth: value.month\r\n      };\r\n    } else {\r\n      cur = this.getCurYearAndMonth(this.props.range);\r\n    }\r\n\r\n    this.state = {\r\n      value,\r\n      active: false,\r\n      bubbleActive: false,\r\n      curYear: cur.curYear,\r\n      curMonth: cur.curMonth,\r\n      inputValue: this.format(value)\r\n    };\r\n\r\n    this.close = this.close.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: SingleDatePickerProps) {\r\n    // 受控组件\r\n    if (\"value\" in nextProps) {\r\n      const nextValue = this.parse(nextProps.value);\r\n      const value = this.check(nextValue) ? nextValue : null;\r\n      this.setState({ value: nextProps.value, inputValue: this.format(value) });\r\n\r\n      if (value) {\r\n        this.setState({ curYear: value.year, curMonth: value.month });\r\n      } else {\r\n        this.setState(this.getCurYearAndMonth(nextProps.range));\r\n      }\r\n    } else {\r\n      this.setState(this.getCurYearAndMonth(nextProps.range));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前年月\r\n   */\r\n  getCurYearAndMonth = range => {\r\n    const date = new Date();\r\n    let curYear = date.getFullYear(),\r\n      curMonth = date.getMonth();\r\n\r\n    if (range) {\r\n      if (range.max) {\r\n        const max = this.parse(range.max);\r\n        curYear = max.year;\r\n        curMonth = max.month;\r\n      }\r\n      if (range.min) {\r\n        const min = this.parse(range.min);\r\n        curYear = min.year;\r\n        curMonth = min.month;\r\n      }\r\n    }\r\n    return { curYear, curMonth };\r\n  };\r\n\r\n  /**\r\n   * 格式化\r\n   */\r\n  formatNum = (num: number): string => (num > 9 ? `${num}` : `0${num}`);\r\n\r\n  format = (value: string | SingleDatePickerValue | null): string => {\r\n    if (typeof value === \"string\") return value;\r\n    if (!value) return \"\";\r\n    const { year, month, day } = value;\r\n    return `${year}-${this.formatNum(month + 1)}-${this.formatNum(day)}`;\r\n  };\r\n\r\n  getGlobalFormat = (year: number, month: number): string => {\r\n    const version = this.props.version || window[\"VERSION\"];\r\n    if (version === \"en\") {\r\n      return `${MONTH[month]} ${year}`;\r\n    } else {\r\n      return `${year}年${this.formatNum(month)}月`;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 检验传入value值是否合法\r\n   */\r\n  check = (value: SingleDatePickerValue): boolean => {\r\n    if (!value) return false;\r\n    // TODO\r\n    if (!(\"year\" in value) || !(\"month\" in value) || !(\"day\" in value)) return false;\r\n\r\n    const { year, month, day } = value;\r\n    var date = new Date(year, month, day);\r\n    if (date.getFullYear() != year || date.getMonth() != month || date.getDate() != day) return false;\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * 字符串解析为 SingleDatePickerValue\r\n   */\r\n  parse = (value: string | SingleDatePickerValue): SingleDatePickerValue => {\r\n    if (typeof value !== \"string\") return value;\r\n    if (!/^[0-9]{4}[/\\-\\.][0-9]{2}[/\\-\\.][0-9]{2}$/.test(value)) return null;\r\n    return {\r\n      year: +value.substr(0, 4),\r\n      month: +value.substr(5, 2) - 1,\r\n      day: +value.substr(8, 2)\r\n    };\r\n  };\r\n\r\n  /**\r\n   * 确认value，合法将调用 onChange\r\n   */\r\n  confirm = (value: SingleDatePickerValue): void => {\r\n    const range: SingleDatePickerRange = this.props.range || {};\r\n\r\n    if (range.min && this.format(value) < range.min) return;\r\n    if (range.max && this.format(value) > range.max) return;\r\n\r\n    if (!(\"value\" in this.props)) {\r\n      this.setState({ value });\r\n    }\r\n\r\n    if (this.props.onChange) {\r\n      this.props.onChange(this.format(value));\r\n    }\r\n\r\n    this.setState({\r\n      inputValue: this.format(value),\r\n      curYear: value.year,\r\n      curMonth: value.month\r\n    });\r\n  };\r\n\r\n  handleInputChange = (e): void => {\r\n    const inputValue = e.target.value;\r\n\r\n    if (/^[0-9]{4}[/\\-\\.][0-9]{2}[/\\-\\.][0-9]{2}$/.test(inputValue)) {\r\n      const value = {\r\n        year: +inputValue.substr(0, 4),\r\n        month: +inputValue.substr(5, 2) - 1,\r\n        day: +inputValue.substr(8, 2)\r\n      };\r\n      if (this.check(value)) {\r\n        this.confirm(value);\r\n        this.setState({ bubbleActive: false });\r\n      }\r\n    } else {\r\n      this.setState({ bubbleActive: true });\r\n    }\r\n\r\n    if (inputValue.length === 0) {\r\n      this.setState({ bubbleActive: false });\r\n    }\r\n\r\n    this.setState({ inputValue });\r\n  };\r\n\r\n  open = () => {\r\n    const value = this.parse(this.props.value);\r\n    if (\"value\" in this.props) {\r\n      this.setState({ value });\r\n      const curValue = this.check(value) ? value : null;\r\n      if (curValue) {\r\n        this.setState({ curYear: curValue.year, curMonth: curValue.month });\r\n      } else {\r\n        this.setState(this.getCurYearAndMonth(this.props.range));\r\n      }\r\n    } else {\r\n      this.setState(this.getCurYearAndMonth(this.props.range));\r\n    }\r\n\r\n    if (!this.state.active && !this.props.disabled) {\r\n      this.setState({ active: true });\r\n    }\r\n  };\r\n\r\n  @OnOuterClick\r\n  public close() {\r\n    const { inputValue } = this.state;\r\n    let value = this.state.value;\r\n\r\n    if (\"value\" in this.props) {\r\n      value = this.props.value;\r\n      this.setState({ inputValue: this.format(value) });\r\n    }\r\n\r\n    if (!/^[0-9]{4}[/\\-\\.][0-9]{2}[/\\-\\.][0-9]{2}$/.test(inputValue)) {\r\n      this.setState({ inputValue: this.format(value) });\r\n    }\r\n\r\n    const curValue = {\r\n      year: +inputValue.substr(0, 4),\r\n      month: +inputValue.substr(5, 2) - 1,\r\n      day: +inputValue.substr(8, 2)\r\n    };\r\n\r\n    if (!this.check(curValue)) {\r\n      this.setState({ inputValue: this.format(value) });\r\n    }\r\n\r\n    this.setState({ active: false, bubbleActive: false });\r\n  }\r\n\r\n  handleKeyDown = (e): void => {\r\n    if (!keys[e.keyCode]) return;\r\n    e.preventDefault();\r\n\r\n    switch (keys[e.keyCode]) {\r\n      case \"enter\":\r\n        this.close();\r\n        (ReactDOM.findDOMNode(this[\"input\"]) as HTMLElement).blur();\r\n        break;\r\n    }\r\n  };\r\n\r\n  handleSelect = (year: number, month: number, day: number): void => {\r\n    this.confirm({ year, month, day });\r\n    setTimeout(() => this.close(), 100);\r\n  };\r\n\r\n  calendarRender = (year: number, month: number, range: SingleDatePickerRange) => {\r\n    let value = this.state.value;\r\n\r\n    if (\"value\" in this.props) {\r\n      value = this.parse(this.props.value);\r\n    }\r\n\r\n    if (!this.check(value)) {\r\n      value = {};\r\n    }\r\n\r\n    // 本月第一天\r\n    const firstDate = new Date(year, month, 1);\r\n    let day = firstDate.getDay();\r\n\r\n    // 获取本月有多少天\r\n    const lastDate = new Date(year, month + 1, 0);\r\n    const count = lastDate.getDate();\r\n\r\n    const weeks = [];\r\n    for (let i = 1; i <= count; ) {\r\n      const week = [];\r\n      // 第一周补全\r\n      for (let j = 0; j < day % 7; ++j) {\r\n        week.push(<td key={`dis-${j}`} className=\"tc-15-calendar-dis\" />);\r\n      }\r\n      // 填充一周\r\n      do {\r\n        (day => {\r\n          if (day == value.day && month == value.month && year == value.year) {\r\n            week.push(\r\n              <td key={day} className=\"tc-15-calendar-today\" onClick={() => this.handleSelect(year, month, day)}>\r\n                {day}\r\n              </td>\r\n            );\r\n          } else {\r\n            const cur = this.format({ year, month, day });\r\n            if ((range.min && cur < range.min) || (range.max && cur > range.max)) {\r\n              week.push(\r\n                <td key={day} className=\"tc-15-calendar-dis\">\r\n                  {day}\r\n                </td>\r\n              );\r\n            } else {\r\n              week.push(\r\n                <td key={day} onClick={() => this.handleSelect(year, month, day)}>\r\n                  {day}\r\n                </td>\r\n              );\r\n            }\r\n          }\r\n        })(i++);\r\n        if (i > count) break;\r\n      } while (++day % 7 !== 0);\r\n\r\n      weeks.push(<tr key={`week-${i / 7}`}>{week}</tr>);\r\n    }\r\n    return weeks;\r\n  };\r\n\r\n  prevBtnRender = (range: SingleDatePickerRange) => {\r\n    const { curYear, curMonth } = this.state;\r\n\r\n    if (range.min) {\r\n      const minRange = this.parse(range.min);\r\n      if (minRange.year >= curYear && minRange.month >= curMonth) {\r\n        return (\r\n          <i tabIndex={0} className=\"tc-15-calendar-i-pre-m disabled\">\r\n            <b>\r\n              <span>过去时间不可选</span>\r\n            </b>\r\n          </i>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <i\r\n        tabIndex={0}\r\n        className=\"tc-15-calendar-i-pre-m\"\r\n        onClick={() => {\r\n          if (curMonth > 0) this.setState({ curMonth: curMonth - 1 });\r\n          else this.setState({ curMonth: 11, curYear: curYear - 1 });\r\n        }}\r\n      >\r\n        <b>\r\n          <span>转到上个月</span>\r\n        </b>\r\n      </i>\r\n    );\r\n  };\r\n\r\n  nextBtnRender = (range: SingleDatePickerRange) => {\r\n    const { curYear, curMonth } = this.state;\r\n\r\n    if (range.max) {\r\n      const maxRange = this.parse(range.max);\r\n      if (maxRange.year <= curYear && maxRange.month <= curMonth) {\r\n        return (\r\n          <i tabIndex={0} className=\"tc-15-calendar-i-next-m disabled\">\r\n            <b>\r\n              <span>未来时间不可选</span>\r\n            </b>\r\n          </i>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <i\r\n        tabIndex={0}\r\n        className=\"tc-15-calendar-i-next-m\"\r\n        onClick={() => {\r\n          if (curMonth < 11) this.setState({ curMonth: curMonth + 1 });\r\n          else this.setState({ curMonth: 0, curYear: curYear + 1 });\r\n        }}\r\n      >\r\n        <b>\r\n          <span>转到下个月</span>\r\n        </b>\r\n      </i>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { curYear, curMonth } = this.state;\r\n\r\n    let range: SingleDatePickerRange = {};\r\n    if (this.props.range) {\r\n      range.min = this.props.range.min;\r\n      range.max = this.props.range.max;\r\n    }\r\n\r\n    return (\r\n      <div className=\"tc-15-calendar-select-wrap tc-15-calendar2-hook\">\r\n        <div className={classNames(\"tc-15-calendar-select\", \"tc-15-calendar-single\", { show: this.state.active })}>\r\n          <BubbleWrapper align=\"start\">\r\n            <input\r\n              ref={el => (this[\"input\"] = el)}\r\n              disabled={this.props.disabled}\r\n              className=\"tc-15-simulate-select m show\"\r\n              value={this.state.inputValue}\r\n              onChange={this.handleInputChange}\r\n              onClick={this.open}\r\n              onFocus={this.open}\r\n              placeholder={this.props.placeHolder || \"日期选择\"}\r\n              onKeyDown={this.handleKeyDown}\r\n              maxLength={10}\r\n            />\r\n            <Bubble focusPosition=\"bottom\" className=\"error\" style={{ display: this.state.bubbleActive ? \"\" : \"none\" }}>\r\n              格式错误，应为yyyy-MM-dd\r\n            </Bubble>\r\n          </BubbleWrapper>\r\n          <div className=\"tc-15-calendar-triangle-wrap\" />\r\n          <div className=\"tc-15-calendar-triangle\" />\r\n          <div className=\"tc-15-calendar tc-15-calendar2\">\r\n            <div className=\"tc-15-calendar-cont\">\r\n              <table cellSpacing={0} className=\"tc-15-calendar-left\">\r\n                <caption>{this.getGlobalFormat(curYear, curMonth + 1)}</caption>\r\n                <thead>\r\n                  <tr>\r\n                    <th>日</th>\r\n                    <th>一</th>\r\n                    <th>二</th>\r\n                    <th>三</th>\r\n                    <th>四</th>\r\n                    <th>五</th>\r\n                    <th>六</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td colSpan={3}>{this.prevBtnRender(range)}</td>\r\n                    <td colSpan={4}>{this.nextBtnRender(range)}</td>\r\n                  </tr>\r\n                  {this.calendarRender(curYear, curMonth, range)}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"tc-15-calendar-for-style\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export {\r\n    DateTimePicker,\r\n    DateTimePickerProps,\r\n    DateTimePickerValue\r\n} from \"./DateTimePicker\";\r\n\r\nexport {\r\n    SingleDatePicker,\r\n    SingleDatePickerProps,\r\n    SingleDatePickerValue,\r\n    SingleDatePickerRange\r\n} from \"./SingleDatePicker\";\r\n","import * as React from \"react\";\r\nimport * as ReactDom from \"react-dom\";\r\nimport { appendFunction } from \"../helpers/AppendFunction\";\r\n\r\ntype Handler = (...args: any[]) => any;\r\n\r\ninterface Instance extends React.Component<any, any> {\r\n  $$outsideClickHandler: Handler;\r\n  $$outsideClickRegisterMethods: Handler[];\r\n}\r\n\r\n/**\r\n * 在组件外部被点击的时候，会调用被装饰的方法\r\n */\r\nexport function OnOuterClick(\r\n  target: React.ComponentLifecycle<any, any>,\r\n  propertyKey: string,\r\n  descriptor: TypedPropertyDescriptor<() => any>\r\n) {\r\n  let onMount = target.componentDidMount;\r\n  let onUnmount = target.componentWillUnmount;\r\n  let callbackMethod = descriptor.value;\r\n  // let bindStack = null;\r\n  // let errorWarned = false;\r\n\r\n  function outerClickHandler(e: MouseEvent) {\r\n    const _this = this as Instance;\r\n    let clickTarget: HTMLElement = null;\r\n    try {\r\n      clickTarget = ReactDom.findDOMNode(_this) as any;\r\n    } catch (err) {}\r\n    if (!clickTarget) {\r\n      // if (!errorWarned) {\r\n      //   const style = 'background-color: #fdf0f0; color: red;';\r\n      //   const message = \"OnOuterClick 无法通过绑定的组件找到对应的 DOM，这就意味着你的组件并没有正确地 Unmount。请确保使用 `ReactDOM.unmountComponentAtNode()` 方法来销毁组件，而不是直接清除其使用的 DOM。\";\r\n      //   if (console.groupCollapsed) {\r\n      //     (console.groupCollapsed as any)('%c%s', style, message)\r\n      //   }\r\n      //   else {\r\n      //     console.log('%c%s', style, message);\r\n      //   }\r\n      //   console.log(\"绑定组件：%o\", target.constructor);\r\n      //   console.log(\"绑定方法：%o\", callbackMethod)\r\n      //   if (bindStack) {\r\n      //     console.info('绑定堆栈: %s', bindStack);\r\n      //   }\r\n      //   if (console.groupEnd) {\r\n      //     console.groupEnd();\r\n      //   }\r\n      // }\r\n      // errorWarned = true;\r\n      return;\r\n    }\r\n    let isClickedOutside = !clickTarget.contains(e.target as HTMLElement);\r\n    if (isClickedOutside) {\r\n      _this.$$outsideClickRegisterMethods.forEach(invoke => invoke());\r\n    }\r\n  }\r\n\r\n  let bind = function() {\r\n    const _this = this as Instance;\r\n    if (!_this.$$outsideClickHandler) {\r\n      _this.$$outsideClickHandler = outerClickHandler.bind(_this);\r\n      _this.$$outsideClickRegisterMethods = [];\r\n      document.addEventListener(\"mousedown\", _this.$$outsideClickHandler, false);\r\n    }\r\n    _this.$$outsideClickRegisterMethods.push(callbackMethod.bind(_this));\r\n    // try {\r\n    //   bindStack = (new Error(\"Bind OnOuterClick\") as any).stack;\r\n    // } catch (err) {}\r\n  };\r\n\r\n  let unbind = function() {\r\n    const _this = this as Instance;\r\n    if (_this.$$outsideClickHandler) {\r\n      document.removeEventListener(\"mousedown\", _this.$$outsideClickHandler);\r\n      _this.$$outsideClickHandler = undefined;\r\n      _this.$$outsideClickRegisterMethods = undefined;\r\n    }\r\n  };\r\n\r\n  target.componentDidMount = onMount ? appendFunction(onMount, bind) : bind;\r\n  target.componentWillUnmount = onUnmount ? appendFunction(unbind, onUnmount) : unbind;\r\n\r\n  return descriptor;\r\n}\r\n","/**\r\n * 在指定函数后面追加一个函数\r\n */\r\nexport function appendFunction<T extends Function, R>(origin: (...args) => R, append: (r: R, ...args) => R) {\r\n  return function appended<T>(...args) {\r\n    let result = origin.apply(this, args);\r\n    return append.apply(this, [result].concat(args));\r\n  };\r\n}","import * as React from 'react';\r\nimport * as classNames from 'classnames';\r\n\r\nexport interface AttributeValue {\r\n\r\n  /**\r\n   * 为资源属性需求值的类型\r\n   */\r\n  type: string;\r\n\r\n  /**\r\n   * 属性的唯一标识，会在结果中返回\r\n   */\r\n  key: string;\r\n\r\n  /**\r\n   * 资源属性值名称\r\n   */\r\n  name: string;\r\n\r\n  /**\r\n   * 属性是否可重复选择\r\n   */\r\n  values?: Array<any> | Function;\r\n\r\n  /**\r\n   * 该属性是否可重复选择\r\n   */\r\n  reusable?: boolean;\r\n\r\n  /**\r\n   * 该属性是否可移除\r\n   */\r\n  removeable?: boolean;\r\n}\r\n\r\nexport interface AttributeSelectProps {\r\n  attributes: Array<AttributeValue>;\r\n  inputValue: string;\r\n  onSelect?: (attribute: AttributeValue) => void;\r\n}\r\n\r\nexport interface AttributeSelectState {\r\n  select: number;\r\n}\r\n\r\nconst keys = {\r\n  \"8\": 'backspace',\r\n  \"9\": 'tab',\r\n  \"13\": 'enter',\r\n  \"37\": 'left',\r\n  \"38\": 'up',\r\n  \"39\": 'right',\r\n  \"40\": 'down'\r\n};\r\n\r\nexport class AttributeSelect extends React.Component<AttributeSelectProps, any> {\r\n\r\n  state: AttributeSelectState = {\r\n    select: -1,\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: AttributeSelectProps) {\r\n    if (this.props.inputValue !== nextProps.inputValue) {\r\n      this.setState({ select: -1 });\r\n    }\r\n  }\r\n\r\n  // 父组件调用\r\n  handleKeyDown = (keyCode: number): boolean => {\r\n\r\n    if (!keys[keyCode]) return;\r\n    const { onSelect } = this.props;\r\n    const select = this.state.select;\r\n\r\n    switch (keys[keyCode]) {\r\n\r\n      case 'enter':\r\n      case 'tab':\r\n        if (select < 0) break;\r\n        if (onSelect) {\r\n          onSelect(this.getAttribute(select));\r\n        }\r\n        return false;\r\n\r\n      case 'up':\r\n        this.move(-1);\r\n        break;\r\n\r\n      case 'down':\r\n        this.move(1);\r\n        break;\r\n    }\r\n  }\r\n\r\n  getUseableList(): Array<AttributeValue> {\r\n    const { attributes, inputValue } = this.props;\r\n\r\n    // 获取冒号前字符串模糊查询\r\n    const fuzzyValue = /(.*?)(:|：).*/.test(inputValue) ? RegExp.$1 : inputValue;\r\n\r\n    return attributes.filter(item => item.name.includes(inputValue) || item.name.includes(fuzzyValue));\r\n  }\r\n\r\n  getAttribute(select: number): AttributeValue {\r\n    const list = this.getUseableList();\r\n    if (select < list.length) {\r\n      return list[select];\r\n    }\r\n  }\r\n\r\n  move = (step: number): void => {\r\n    const select = this.state.select;\r\n    const list = this.getUseableList();\r\n    if (list.length <= 0) return;\r\n    this.setState({ select: (select + step + list.length) % list.length });\r\n  }\r\n\r\n\r\n  handleClick = (e, index: number): void => {\r\n    e.stopPropagation();\r\n    if (this.props.onSelect) {\r\n      this.props.onSelect(this.getAttribute(index));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const select = this.state.select;\r\n    const list = this.getUseableList().map((item, index) => {\r\n      if (select === index) {\r\n        return (\r\n          <li role=\"presentation\" key={index} className=\"autocomplete-cur\" onClick={(e) => this.handleClick(e, index)}>\r\n            <a className=\"text-truncate\" role=\"menuitem\" href=\"javascript:;\">{item.name}</a>\r\n          </li>\r\n        )\r\n      }\r\n      return (\r\n        <li role=\"presentation\" key={index} onClick={(e) => this.handleClick(e, index)}>\r\n          <a className=\"text-truncate\" role=\"menuitem\" href=\"javascript:;\">{item.name}</a>\r\n        </li>\r\n      )\r\n    });\r\n\r\n    if (list.length === 0) return null;\r\n\r\n    let maxHeight = document.body.clientHeight ? document.body.clientHeight - 450 : 400;\r\n    maxHeight = maxHeight > 240 ? maxHeight : 240;\r\n\r\n    return (\r\n      <div className=\"tc-15-autocomplete\" style={{ minWidth: 180, width: 'auto' }}>\r\n        <ul className=\"tc-15-autocomplete-menu\" role=\"menu\" style={{ maxHeight: `${maxHeight}px` }}>\r\n          <li role=\"presentation\">\r\n            <a className=\"autocomplete-empty\" role=\"menuitem\" href=\"javascript:;\">选择维度</a>\r\n          </li>\r\n          {list}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}","import * as React from \"react\";\r\nimport * as classNames from \"classnames\";\r\nimport { AttributeSelect, AttributeValue } from \"./AttributeSelect\";\r\nimport { ValueSelect } from \"./valueselect\";\r\nimport { TagProps } from \"./Tag\";\r\n\r\nexport interface InputProps {\r\n  /**\r\n   * 触发标签相关事件\r\n   */\r\n  dispatchTagEvent: (type: string, payload?: any) => void;\r\n\r\n  /**\r\n   * 所有属性集合\r\n   */\r\n  attributes: Array<AttributeValue>;\r\n\r\n  /**\r\n   * 是否为 Focus 态\r\n   */\r\n  isFocused: boolean;\r\n\r\n  /**\r\n   * 搜索框是否处于展开状态\r\n   */\r\n  active: boolean;\r\n\r\n  /**\r\n   * 输入框类型（用于修改标签值的 Input type 为 \"edit\"）\r\n   */\r\n  type?: string;\r\n\r\n  /**\r\n   * 是否隐藏\r\n   */\r\n  hidden?: boolean;\r\n\r\n  /**\r\n   * 最大宽度\r\n   */\r\n  maxWidth: number;\r\n\r\n  /**\r\n   * 处理按键事件\r\n   */\r\n  handleKeyDown?: (e: any) => void;\r\n\r\n  /**\r\n   * 位置偏移\r\n   */\r\n  inputOffset?: number;\r\n}\r\n\r\nexport interface InputState {\r\n  inputWidth: number;\r\n  inputValue: string;\r\n  attribute: AttributeValue;\r\n  values: Array<any>;\r\n  showAttrSelect: boolean;\r\n  showValueSelect: boolean;\r\n  ValueSelectOffset: number;\r\n}\r\n\r\nconst keys = {\r\n  \"8\": \"backspace\",\r\n  \"9\": \"tab\",\r\n  \"13\": \"enter\",\r\n  \"37\": \"left\",\r\n  \"38\": \"up\",\r\n  \"39\": \"right\",\r\n  \"40\": \"down\"\r\n};\r\n\r\nconst INPUT_MIN_SIZE = 0;\r\n\r\nexport class Input extends React.Component<InputProps, any> {\r\n  state: InputState = {\r\n    inputWidth: INPUT_MIN_SIZE,\r\n    inputValue: \"\",\r\n    attribute: null,\r\n    values: [],\r\n    showAttrSelect: false,\r\n    showValueSelect: false,\r\n    ValueSelectOffset: 0\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  /**\r\n   * 刷新选择组件显示\r\n   */\r\n  refreshShow = (): void => {\r\n    const { inputValue, attribute } = this.state;\r\n\r\n    const input = this[\"input\"] as HTMLInputElement;\r\n    let start = input.selectionStart,\r\n      end = input.selectionEnd;\r\n\r\n    // if (start !== end) {\r\n    //   this.setState({ showAttrSelect: false, showValueSelect: false });\r\n    //   return;\r\n    // }\r\n\r\n    const { pos } = this.getAttrStrAndValueStr(inputValue);\r\n\r\n    if (pos < 0 || start <= pos) {\r\n      this.setState({ showAttrSelect: true, showValueSelect: false });\r\n      return;\r\n    }\r\n\r\n    if (attribute && end > pos) {\r\n      this.setState({ showAttrSelect: false, showValueSelect: true });\r\n    }\r\n  };\r\n\r\n  focusInput = (): void => {\r\n    if (!this[\"input\"]) return;\r\n    const input = this[\"input\"] as HTMLElement;\r\n    input.focus();\r\n  };\r\n\r\n  moveToEnd = (): void => {\r\n    const input = this[\"input\"] as HTMLInputElement;\r\n    input.focus();\r\n    const value = this.state.inputValue;\r\n    setTimeout(() => input.setSelectionRange(value.length, value.length));\r\n  };\r\n\r\n  selectValue = (): void => {\r\n    const input = this[\"input\"] as HTMLInputElement;\r\n    input.focus();\r\n    const value = this.state.inputValue;\r\n    let { pos } = this.getAttrStrAndValueStr(value);\r\n    if (pos < 0) pos = -2;\r\n    setTimeout(() => {\r\n      input.setSelectionRange(pos + 2, value.length);\r\n      this.refreshShow();\r\n    });\r\n  };\r\n\r\n  selectAttr = (): void => {\r\n    const input = this[\"input\"] as HTMLInputElement;\r\n    input.focus();\r\n    const value = this.state.inputValue;\r\n    let { pos } = this.getAttrStrAndValueStr(value);\r\n    if (pos < 0) pos = 0;\r\n    setTimeout(() => {\r\n      input.setSelectionRange(0, pos);\r\n      this.refreshShow();\r\n    });\r\n  };\r\n\r\n  setInfo(info: any, callback?: Function) {\r\n    const attribute = info.attr;\r\n    const values = info.values;\r\n    this.setState({ attribute, values }, () => {\r\n      if (attribute) {\r\n        this.setInputValue(`${attribute.name}: ${values.map(item => item.name).join(\" | \")}`, callback);\r\n      } else {\r\n        this.setInputValue(`${values.map(item => item.name).join(\" | \")}`, callback);\r\n      }\r\n    });\r\n  }\r\n\r\n  setInputValue = (value: string, callback?: Function): void => {\r\n    if (this.props.type === \"edit\" && value.trim().length <= 0) {\r\n      this.props.dispatchTagEvent(\"del\", \"edit\");\r\n    }\r\n\r\n    // value = value.replace(/：/g, ':');\r\n\r\n    // const pos = value.indexOf(':');\r\n    // let attrStr = value, valueStr = '';\r\n\r\n    // if (pos >= 0) {\r\n    //   attrStr = value.substr(0, pos);\r\n    //   valueStr = value.substr(pos+1).replace(/^\\s*(.*)/, '$1');\r\n    // }\r\n\r\n    const attributes = this.props.attributes;\r\n\r\n    let attribute = null,\r\n      valueStr = value;\r\n\r\n    const input = this[\"input\"] as HTMLElement;\r\n    const mirror = this[\"input-mirror\"] as HTMLElement;\r\n\r\n    // attribute 是否存在\r\n    for (let i = 0; i < attributes.length; ++i) {\r\n      if (value.indexOf(attributes[i].name + \":\") === 0 || value.indexOf(attributes[i].name + \"：\") === 0) {\r\n        // 获取属性/值\r\n        attribute = attributes[i];\r\n        valueStr = value.substr(attributes[i].name.length + 1);\r\n\r\n        // 计算 offset\r\n        mirror.innerText = attribute.type === \"onlyKey\" ? attribute.name : attribute.name + \": \";\r\n        let width = mirror.clientWidth;\r\n        if (this.props.inputOffset) width += this.props.inputOffset;\r\n        this.setState({ ValueSelectOffset: width });\r\n        break;\r\n      }\r\n    }\r\n\r\n    // 处理前导空格\r\n    if (attribute && valueStr.replace(/^\\s+/, \"\").length > 0) {\r\n      value = `${attribute.name}: ${valueStr.replace(/^\\s+/, \"\")}`;\r\n    } else if (attribute) {\r\n      value = attribute.type === \"onlyKey\" ? attribute.name : `${attribute.name}:${valueStr}`;\r\n    }\r\n\r\n    this.setState({ attribute }, this.refreshShow);\r\n\r\n    if (this.props.type === \"edit\") {\r\n      this.props.dispatchTagEvent(\"editing\", { attr: attribute });\r\n    }\r\n\r\n    mirror.innerText = value;\r\n    const width = mirror.clientWidth > INPUT_MIN_SIZE ? mirror.clientWidth : INPUT_MIN_SIZE;\r\n    this.setState({ inputValue: value, inputWidth: width }, () => {\r\n      if (callback) callback();\r\n    });\r\n  };\r\n\r\n  resetInput = (callback?: Function): void => {\r\n    this.setInputValue(\"\", callback);\r\n    this.setState({ inputWidth: INPUT_MIN_SIZE });\r\n  };\r\n\r\n  getInputValue = (): string => {\r\n    return this.state.inputValue;\r\n  };\r\n\r\n  // getInputAttr = (): AttributeValue => {\r\n  //   return this.state.attribute;\r\n  // }\r\n\r\n  addTagByInputValue = (): boolean => {\r\n    const { attribute, values, inputValue } = this.state;\r\n    const type = this.props.type || \"add\";\r\n    // 属性值搜索\r\n    if (attribute && this.props.attributes.filter(item => item.key === attribute.key).length > 0) {\r\n      if (values.length <= 0) {\r\n        return false;\r\n      }\r\n      this.props.dispatchTagEvent(type, { attr: attribute, values: values });\r\n    } else {\r\n      // 关键字搜索\r\n      if (inputValue.trim().length <= 0) {\r\n        return false;\r\n      }\r\n      let attribute = this.props.attributes.find(item => item.name === inputValue.trim());\r\n      if (!attribute || attribute.type === \"onlyKey\") {\r\n        this.props.dispatchTagEvent(type, { attr: attribute, values: [] });\r\n        this.resetInput();\r\n      } else {\r\n        const list = inputValue\r\n          .split(\"|\")\r\n          .filter(item => item.trim().length > 0)\r\n          .map(item => {\r\n            return { name: item.trim() };\r\n          });\r\n        this.props.dispatchTagEvent(type, { attr: null, values: list });\r\n      }\r\n    }\r\n    this.setState({ showAttrSelect: false, showValueSelect: false });\r\n    if (this.props.type !== \"edit\") {\r\n      this.resetInput();\r\n    }\r\n    return true;\r\n  };\r\n\r\n  handleInputChange = (e): void => {\r\n    this.setInputValue(e.target.value);\r\n  };\r\n\r\n  handleInputClick = (e): void => {\r\n    this.props.dispatchTagEvent(\"click-input\", this.props.type);\r\n    e.stopPropagation();\r\n    this.focusInput();\r\n  };\r\n\r\n  handleAttrSelect = (attr: AttributeValue): void => {\r\n    if (attr && attr.key) {\r\n      const str = attr.type === \"onlyKey\" ? attr.name : `${attr.name}: `;\r\n      const inputValue = this.state.inputValue;\r\n      if (inputValue.indexOf(str) >= 0) {\r\n        this.selectValue();\r\n      } else {\r\n        this.setInputValue(str);\r\n      }\r\n      this.setState({ values: [] });\r\n    }\r\n\r\n    if (attr.type === \"onlyKey\") {\r\n      // 不需要值\r\n      // this.addTagByInputValue()\r\n      setTimeout(() => this.addTagByInputValue());\r\n    } else {\r\n      this.focusInput();\r\n    }\r\n  };\r\n\r\n  handleValueChange = (values: Array<any>): void => {\r\n    this.setState({ values }, () => {\r\n      this.setInputValue(`${this.state.attribute.name}: ${values.map(item => item.name).join(\" | \")}`);\r\n      this.focusInput();\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 值选择组件完成选择\r\n   */\r\n  handleValueSelect = (values: Array<any>): void => {\r\n    this.setState({ values });\r\n    const inputValue = this.state.inputValue;\r\n\r\n    if (values.length <= 0) {\r\n      this.setInputValue(this.state.attribute.name + \": \");\r\n      return;\r\n    }\r\n\r\n    if (values.length > 0) {\r\n      const key = this.state.attribute.key;\r\n      if (this.props.attributes.filter(item => item.key === key).length > 0) {\r\n        const type = this.props.type || \"add\";\r\n        this.props.dispatchTagEvent(type, { attr: this.state.attribute, values });\r\n      }\r\n      this.focusInput();\r\n    }\r\n\r\n    if (this.props.type !== \"edit\") {\r\n      this.resetInput();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 值选择组件取消选择\r\n   */\r\n  handleValueCancel = () => {\r\n    if (this.props.type === \"edit\") {\r\n      const { attribute, values } = this.state;\r\n      this.props.dispatchTagEvent(\"edit-cancel\", { attr: attribute, values: values });\r\n    } else {\r\n      this.resetInput(() => {\r\n        this.focusInput();\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 处理粘贴事件\r\n   */\r\n  handlePaste = (e): void => {\r\n    const { attribute } = this.state;\r\n\r\n    if (!attribute || attribute.type === \"input\") {\r\n      this[\"textarea\"].focus();\r\n      setTimeout(() => {\r\n        let value = this[\"textarea\"].value;\r\n\r\n        if (/^[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/.test(value)) {\r\n          value = value.replace(/[\\r\\n\\t,，\\s]+/g, \"|\");\r\n        } else {\r\n          value = value.replace(/[\\r\\n\\t,，]+/g, \"|\");\r\n        }\r\n        value = value\r\n          .split(\"|\")\r\n          .map(item => item.trim())\r\n          .filter(item => item.length > 0)\r\n          .join(\" | \");\r\n\r\n        const input = this[\"input\"] as HTMLInputElement;\r\n        const start = input.selectionStart,\r\n          end = input.selectionEnd;\r\n        const inputValue = this.state.inputValue;\r\n        // 覆盖选择区域\r\n        const curValue = inputValue.substring(0, start) + value + inputValue.substring(end, inputValue.length);\r\n\r\n        // input 属性情况\r\n        this[\"textarea\"].value = \"\";\r\n        if (attribute && attribute.type === \"input\") {\r\n          this.setInputValue(curValue, this.focusInput);\r\n          return;\r\n        }\r\n\r\n        if (inputValue.length > 0) {\r\n          this.setInputValue(curValue, this.focusInput);\r\n        } else {\r\n          this.setInputValue(curValue, this.addTagByInputValue);\r\n        }\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  // 键盘事件\r\n  // handlekeyUp = (e): void => {\r\n  //   if (this['value-select']) {\r\n  //     if (this['value-select'].handlekeyUp(e.keyCode) === false) return;\r\n  //   }\r\n  // }\r\n\r\n  handlekeyDown = (e): void => {\r\n    if (!keys[e.keyCode]) return;\r\n\r\n    // if (!this.props.isFocused) {\r\n    //   this.props.dispatchTagEvent('click-input', this.props.type);\r\n    // }\r\n\r\n    if (this.props.hidden) {\r\n      return this.props.handleKeyDown(e);\r\n    }\r\n\r\n    const inputValue = this.state.inputValue;\r\n\r\n    if (keys[e.keyCode] === \"backspace\" && inputValue.length > 0) return;\r\n\r\n    if ((keys[e.keyCode] === \"left\" || keys[e.keyCode] === \"right\") && inputValue.length > 0) {\r\n      setTimeout(this.refreshShow, 0);\r\n      return;\r\n    }\r\n\r\n    e.preventDefault();\r\n\r\n    // 事件下传\r\n    if (this[\"attr-select\"]) {\r\n      if (this[\"attr-select\"].handleKeyDown(e.keyCode) === false) return;\r\n    }\r\n    if (this[\"value-select\"]) {\r\n      if (this[\"value-select\"].handleKeyDown(e.keyCode) === false) return;\r\n    }\r\n\r\n    switch (keys[e.keyCode]) {\r\n      case \"enter\":\r\n      case \"tab\":\r\n        if (!this.props.isFocused) {\r\n          this.props.dispatchTagEvent(\"click-input\");\r\n        }\r\n        this.addTagByInputValue();\r\n        break;\r\n\r\n      case \"backspace\":\r\n        this.props.dispatchTagEvent(\"del\", \"keyboard\");\r\n        break;\r\n\r\n      case \"up\":\r\n        break;\r\n\r\n      case \"down\":\r\n        break;\r\n\r\n      case \"left\":\r\n        this.props.dispatchTagEvent(\"move-left\");\r\n        break;\r\n\r\n      case \"right\":\r\n        this.props.dispatchTagEvent(\"move-right\");\r\n        break;\r\n    }\r\n  };\r\n\r\n  getAttrStrAndValueStr = (str: string): any => {\r\n    let attrStr = str,\r\n      valueStr = \"\",\r\n      pos = -1;\r\n\r\n    const attributes = this.props.attributes;\r\n    for (let i = 0; i < attributes.length; ++i) {\r\n      if (str.indexOf(attributes[i].name + \":\") === 0) {\r\n        // 获取属性/值\r\n        attrStr = attributes[i].name;\r\n        valueStr = str.substr(attrStr.length + 1);\r\n        pos = attributes[i].name.length;\r\n      }\r\n    }\r\n\r\n    return { attrStr, valueStr, pos };\r\n  };\r\n\r\n  render() {\r\n    const { inputWidth, inputValue, showAttrSelect, showValueSelect, attribute, ValueSelectOffset } = this.state;\r\n    const { active, attributes, isFocused, hidden, maxWidth, type } = this.props;\r\n\r\n    // const pos = inputValue.indexOf(':');\r\n    // let attrStr = inputValue, valueStr = '';\r\n    // if (pos >= 0) {\r\n    //   attrStr = inputValue.substr(0, pos).trim();\r\n    //   valueStr = inputValue.substr(pos+1).trim();\r\n    // }\r\n\r\n    const { attrStr, valueStr } = this.getAttrStrAndValueStr(inputValue);\r\n\r\n    const attrSelect =\r\n      isFocused && showAttrSelect ? (\r\n        <AttributeSelect\r\n          ref={select => (this[\"attr-select\"] = select)}\r\n          attributes={attributes}\r\n          inputValue={attrStr}\r\n          onSelect={this.handleAttrSelect}\r\n        />\r\n      ) : null;\r\n\r\n    const valueSelect =\r\n      isFocused && showValueSelect && attribute && attribute.type ? (\r\n        <ValueSelect\r\n          type={attribute.type}\r\n          ref={select => (this[\"value-select\"] = select)}\r\n          values={attribute.values}\r\n          inputValue={valueStr.trim()}\r\n          offset={ValueSelectOffset}\r\n          onChange={this.handleValueChange}\r\n          onSelect={this.handleValueSelect}\r\n          onCancel={this.handleValueCancel}\r\n        />\r\n      ) : null;\r\n\r\n    const style = {\r\n      width: hidden ? \"0px\" : active ? `${inputWidth + 5}px` : \"5px\",\r\n      maxWidth: maxWidth ? `${maxWidth - 36}px` : \"435px\"\r\n    };\r\n    if (type === \"edit\" && !hidden) {\r\n      style[\"padding\"] = \"0 8px\";\r\n    }\r\n\r\n    const input =\r\n      type !== \"edit\" ? (\r\n        <input\r\n          ref={input => (this[\"input\"] = input)}\r\n          type=\"text\"\r\n          className=\"tc-search-input\"\r\n          placeholder=\"\"\r\n          style={{\r\n            width: hidden ? \"0px\" : `${inputWidth + 5}px`,\r\n            display: active ? \"\" : \"none\",\r\n            maxWidth: maxWidth ? `${maxWidth - 36}px` : \"435px\"\r\n          }}\r\n          value={inputValue}\r\n          onChange={this.handleInputChange}\r\n          onKeyDown={this.handlekeyDown}\r\n          onFocus={this.refreshShow}\r\n          onClick={this.refreshShow}\r\n          onPaste={this.handlePaste}\r\n        />\r\n      ) : (\r\n        <div style={{ position: \"relative\", display: hidden ? \"none\" : \"\" }}>\r\n          <pre style={{ display: \"block\", visibility: \"hidden\" }}>\r\n            <div\r\n              style={{\r\n                fontSize: \"12px\",\r\n                width: hidden ? \"0px\" : `${inputWidth + 36}px`,\r\n                maxWidth: maxWidth ? `${maxWidth - 36}px` : \"435px\",\r\n                whiteSpace: \"normal\"\r\n              }}\r\n            >\r\n              {inputValue}\r\n            </div>\r\n            <br style={{ clear: \"both\" }} />\r\n          </pre>\r\n          <textarea\r\n            ref={input => (this[\"input\"] = input)}\r\n            className=\"tc-search-input\"\r\n            placeholder=\"\"\r\n            style={{\r\n              width: hidden ? \"0px\" : `${inputWidth + 30}px`,\r\n              display: active ? \"\" : \"none\",\r\n              maxWidth: maxWidth ? `${maxWidth - 36}px` : \"435px\",\r\n              position: \"absolute\",\r\n              top: 0,\r\n              left: 0,\r\n              height: \"100%\",\r\n              resize: \"none\",\r\n              minHeight: \"15px\",\r\n              marginTop: \"2px\"\r\n            }}\r\n            value={inputValue}\r\n            onChange={this.handleInputChange}\r\n            onKeyDown={this.handlekeyDown}\r\n            onFocus={this.refreshShow}\r\n            onClick={this.refreshShow}\r\n            onPaste={this.handlePaste}\r\n          />\r\n        </div>\r\n      );\r\n\r\n    return (\r\n      <div className=\"tc-tags-space\" style={style} onClick={this.handleInputClick}>\r\n        {input}\r\n        <span\r\n          ref={input => (this[\"input-mirror\"] = input)}\r\n          style={{ position: \"absolute\", top: \"-9999px\", left: 0, whiteSpace: \"pre\", fontSize: \"12px\" }}\r\n        />\r\n        <textarea\r\n          ref={textarea => (this[\"textarea\"] = textarea)}\r\n          style={{ position: \"absolute\", top: \"-9999px\", left: 0, whiteSpace: \"pre\", fontSize: \"12px\" }}\r\n        />\r\n        {attrSelect}\r\n        {valueSelect}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport classNames from 'classnames';\r\nimport { Input } from './Input';\r\nimport { AttributeValue } from './AttributeSelect';\r\nimport { FocusPosType } from './TagSearchBox';\r\n\r\nexport interface TagValue {\r\n\r\n  /**\r\n   * 标签标识\r\n   */\r\n  _key: string;\r\n\r\n  /**\r\n   * 当前是否在编辑状态\r\n   */\r\n  _edit?: boolean;\r\n\r\n  /**\r\n   * 当前是否选中\r\n   */\r\n  _elect?: boolean;\r\n\r\n  /**\r\n   * 标签属性\r\n   */\r\n  attr?: AttributeValue;\r\n\r\n  /**\r\n   * 标签属性值\r\n   */\r\n  values?: Array<any>;\r\n}\r\n\r\nexport interface TagProps {\r\n\r\n  /**\r\n   * 标签属性\r\n   */\r\n  attr?: AttributeValue;\r\n\r\n  /**\r\n   * 标签属性值\r\n   */\r\n  values?: Array<any>;\r\n\r\n  /**\r\n   * 当前是否选中\r\n   */\r\n  elect?: boolean;\r\n\r\n  /**\r\n   * 触发标签相关事件\r\n   */\r\n  dispatchTagEvent?: (type: string, payload?: any) => void;\r\n\r\n  /**\r\n   * 所有属性集合\r\n   */\r\n  attributes: Array<AttributeValue>;\r\n\r\n  /**\r\n   * 当前聚焦状态\r\n   */\r\n  focused: FocusPosType;\r\n\r\n  /**\r\n   * 最大长度\r\n   */\r\n  maxWidth?: number;\r\n\r\n  /**\r\n   * 搜索框是否处于展开状态\r\n   */\r\n  active: boolean;\r\n}\r\n\r\nexport interface TagState {\r\n  bubbleActice: boolean;\r\n  inEditing: boolean;\r\n  inputOffset: number;\r\n  // attribute: AttributeValue;\r\n  // selectValues: Array<any>;\r\n}\r\n\r\nconst keys = {\r\n  \"8\" : 'backspace',\r\n  \"13\": 'enter',\r\n  \"37\": 'left',\r\n  \"38\": 'up',\r\n  \"39\": 'right',\r\n  \"40\": 'down'\r\n};\r\n\r\nconst INPUT_MIN_SIZE: number = 0;\r\n\r\nexport class Tag extends React.Component<TagProps, any> {\r\n\r\n  state: TagState = {\r\n    bubbleActice: false,\r\n    inEditing: false,\r\n    inputOffset: 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log(this['content'].clientWidth);\r\n    // this.setState({inputOffset: this['content'].clientWidth});\r\n  }\r\n\r\n  componentWillReceiveProps() {\r\n    // console.log(this['content'].clientWidth);\r\n    // this.setState({inputOffset: this['content'].clientWidth});\r\n  }\r\n\r\n  focusTag(): void {\r\n    (this['input-inside'] as any).focusInput();\r\n  }\r\n\r\n  focusInput(): void {\r\n    (this['input'] as any).focusInput();\r\n  }\r\n\r\n  resetInput() {\r\n    (this['input-inside'] as any).resetInput();\r\n  }\r\n\r\n  setInputValue(value: string, callback?: Function): void {\r\n    (this['input'] as any).setInputValue(value, callback);\r\n  }\r\n\r\n  getInputValue(): string {\r\n    return this['input'].getInputValue();\r\n  }\r\n\r\n  addTagByInputValue() :boolean {\r\n    return this['input'].addTagByInputValue();\r\n  }\r\n\r\n  addTagByEditInputValue() :boolean {\r\n    if (!this['input-inside']) return;\r\n    return this['input-inside'].addTagByInputValue();\r\n  }\r\n  \r\n  setInfo(info: any, callback?: Function): void {\r\n    return this['input'].setInfo(info, callback);\r\n  }\r\n\r\n  moveToEnd(): void {\r\n    return this['input'].moveToEnd();\r\n  }\r\n\r\n  // getInputAttr = (): AttributeValue => {\r\n  //   return this['input'].getInputAttr();\r\n  // }\r\n\r\n  getInfo(): any {\r\n    let { attr, values } = this.props;\r\n    return { attr, values };\r\n  }\r\n\r\n  edit(pos: string): void {\r\n    this.setState({ inEditing: true });\r\n    this['input-inside'].setInfo(this.getInfo(), () => {\r\n      if (pos === 'attr') {\r\n        return this['input-inside'] && this['input-inside'].selectAttr();\r\n      } else {\r\n        return this['input-inside'] && this['input-inside'].selectValue();\r\n      }\r\n    });\r\n  }\r\n\r\n  editDone(): void {\r\n    this.setState({ inEditing: false });\r\n  }\r\n\r\n  handleTagClick = (e, pos?: string): void => {\r\n    this.props.dispatchTagEvent('click', pos);\r\n    e.stopPropagation();\r\n  }\r\n\r\n  handleDelete= (e) => {\r\n    e.stopPropagation();\r\n    this.props.dispatchTagEvent('del');\r\n  }\r\n\r\n  handleKeyDown = (e): void => {\r\n    if (!keys[e.keyCode]) return;\r\n\r\n    e.preventDefault();\r\n\r\n    switch (keys[e.keyCode]) {\r\n      case 'tab':\r\n      case 'enter':\r\n        this.props.dispatchTagEvent('click', 'value');\r\n        break;\r\n      \r\n      case 'backspace':\r\n        this.props.dispatchTagEvent('del', 'keyboard');\r\n        break;\r\n      \r\n      case 'left':\r\n        this.props.dispatchTagEvent('move-left');\r\n        break;\r\n\r\n      case 'right':\r\n        this.props.dispatchTagEvent('move-right');\r\n        break;\r\n    }\r\n    \r\n  }\r\n\r\n  render() {\r\n    const { bubbleActice, inEditing, inputOffset } = this.state;\r\n    const { active, attr, values, elect, dispatchTagEvent, attributes, focused, maxWidth } = this.props;\r\n\r\n    let attrStr = attr ? attr.name : '';\r\n    if (attr && attr.name && attr.type !== 'onlyKey') {\r\n      attrStr += ': ';\r\n    }\r\n    let valueStr = values.map(item => item.name).join(' | ');\r\n\r\n    const itemStyle = (inEditing && !active) ? { width: 0, minHeight: '20px' } : { minHeight: '20px' };\r\n\r\n    const removeable = (attr && 'removeable' in attr) ? attr.removeable : true;\r\n\r\n    return (\r\n      <li style={itemStyle}>\r\n        <div className=\"tc-15-bubble tc-15-bubble-bottom black\" style={{display: bubbleActice ? '' : 'none'}}>\r\n          <div className=\"tc-15-bubble-inner\">\r\n            点击进行修改，按回车键完成修改\r\n          </div>\r\n        </div>\r\n        \r\n        <div\r\n          className={classNames(\"tc-tags\", { \"current\": elect })}\r\n          ref={div => this['content'] = div}\r\n          style={{ display: inEditing ? 'none' : '', paddingRight: removeable ? '' : '8px', maxWidth: 'none'}}\r\n          onClick={this.handleTagClick}\r\n          onMouseOver={() => this.setState({bubbleActice : true})}\r\n          onMouseOut={() => this.setState({bubbleActice : false})}\r\n        >\r\n          <span onClick={(e) => this.handleTagClick(e, 'attr')}>{attrStr}</span>\r\n          <span onClick={(e) => this.handleTagClick(e, 'value')}>{valueStr}</span>\r\n          { removeable &&\r\n            <a href=\"javascript:;\" className=\"tc-tags-close-btn\" onClick={this.handleDelete}><i className=\"clear-icon\"></i></a>\r\n          }\r\n        </div>\r\n        <Input\r\n          type=\"edit\"\r\n          hidden={!inEditing}\r\n          maxWidth={maxWidth}\r\n          handleKeyDown={this.handleKeyDown}\r\n          active={active}\r\n          ref={input => this[\"input-inside\"]=input}\r\n          attributes={attributes}\r\n          dispatchTagEvent={dispatchTagEvent}\r\n          isFocused={focused === FocusPosType.INPUT_EDIT}\r\n        />\r\n        {/*<Input\r\n          active={active}\r\n          maxWidth={maxWidth}\r\n          inputOffset={inputOffset}\r\n          ref={input => this[\"input\"]=input}\r\n          attributes={attributes}\r\n          dispatchTagEvent={dispatchTagEvent}\r\n          isFocused={focused === FocusPosType.INPUT}\r\n        />*/}\r\n      </li>\r\n    )\r\n  }\r\n}","import * as React from 'react';\r\nimport classNames from 'classnames';\r\nimport { OnOuterClick } from \"tea-components/libs/decorators/OnOuterClick\";\r\nimport { Tag, TagValue } from './Tag';\r\nimport { Input } from './Input';\r\nimport { AttributeValue } from './AttributeSelect';\r\nexport interface TagSearchBoxProps {\r\n\r\n  editable?: boolean;\r\n\r\n  style?\r\n  /**\r\n   * 要选择过滤的资源属性的集合\r\n   */\r\n  attributes?: Array<AttributeValue>;\r\n\r\n  /**\r\n   * 搜索框中默认包含的标签值的集合\r\n   */\r\n  defaultValue?: Array<any>;\r\n\r\n  /**\r\n   * 配合 onChange 作为受控组件使用\r\n   */\r\n  value?: Array<any>;\r\n\r\n  /**\r\n   * 搜索框收起后宽度，单位为 px\r\n   */\r\n  minWidth?: number | string;\r\n\r\n  /**\r\n   * 当搜索框中新增、修改或减少标签时调用此函数\r\n   */\r\n  onChange?: (tags: Array<any>) => void;\r\n\r\n  /**\r\n   * 搜索框中提示语（中）\r\n   */\r\n  tipZh?: string;\r\n\r\n  /**\r\n   * 搜索框中提示语（英）\r\n   */\r\n  tipEn?: string;\r\n}\r\n\r\nexport interface TagSearchBoxState {\r\n\r\n  /**\r\n   * 搜索框是否为展开状态\r\n   */\r\n  active: boolean;\r\n\r\n  /**\r\n   * 是否展示提示框\r\n   */\r\n  dialogActive: boolean;\r\n\r\n  /**\r\n   * 当前光标位置\r\n   */\r\n  curPos: number;\r\n\r\n  /**\r\n   * 当前光标（焦点）所在位置的元素类型\r\n   */\r\n  curPosType: FocusPosType;\r\n\r\n  /**\r\n   * 输入框值\r\n   */\r\n  inputValue: string;\r\n\r\n  /**\r\n   * 输入框宽度\r\n   */\r\n  inputWidth: number;\r\n\r\n  /**\r\n   * 是否展示值选择组件\r\n   */\r\n  showSelect: boolean;\r\n\r\n  /**\r\n   * 已选标签\r\n   */\r\n  tags: Array<TagValue>;\r\n}\r\n\r\nconst keys = {\r\n  \"8\": 'backspace',\r\n  \"9\": 'tab',\r\n  \"13\": 'enter',\r\n  \"32\": 'spacebar',\r\n  \"37\": 'left',\r\n  \"38\": 'up',\r\n  \"39\": 'right',\r\n  \"40\": 'down'\r\n};\r\n\r\nconst INPUT_MIN_SIZE: number = 5;\r\n\r\n/**\r\n * 焦点所在位置类型\r\n */\r\nexport enum FocusPosType {\r\n  INPUT,\r\n  INPUT_EDIT,\r\n  TAG\r\n}\r\n\r\n\r\nexport class TagSearchBox extends React.Component<TagSearchBoxProps, any> {\r\n\r\n  static cnt: number = 0;\r\n\r\n  state: TagSearchBoxState = {\r\n    active: false,\r\n    dialogActive: false,\r\n    curPos: 0,\r\n    curPosType: FocusPosType.INPUT,\r\n    showSelect: true,\r\n    inputValue: '',\r\n    inputWidth: INPUT_MIN_SIZE,\r\n    tags: this.props.defaultValue ? this.props.defaultValue.map(item => {\r\n      item._key = TagSearchBox.cnt++;\r\n      return item;\r\n    }) : []\r\n  }\r\n\r\n  static defaultProps = {\r\n    tipZh: \"多个关键字用竖线“ | ”分隔，多个过滤标签用回车键分隔\",\r\n    tipEn: \"Use '|' to split more than one keyword, and press Enter to split tags\",\r\n    minWidth: 210,\r\n    editable: true,\r\n  }\r\n\r\n  componentDidMount() {\r\n    if ('value' in this.props) {\r\n      const value = this.props.value.map(item => {\r\n        if (!('_key' in item)) {\r\n          item._key = TagSearchBox.cnt++;\r\n        }\r\n        return item;\r\n      });\r\n      this.setState({ tags: value });\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: TagSearchBoxProps) {\r\n    if ('value' in nextProps) {\r\n      const value = nextProps.value.map(item => {\r\n        if (!('_key' in item)) {\r\n          item._key = TagSearchBox.cnt++;\r\n        }\r\n        return item;\r\n      });\r\n      this.setState({ tags: value });\r\n    }\r\n  }\r\n\r\n\r\n  open = () => {\r\n    this.markTagElect(-1);\r\n    const { active, tags } = this.state;\r\n    if (!active) {\r\n      this.setState({ active: true });\r\n      // 展开时不激活select显示\r\n      this.markTagElect(-1);\r\n      this.setState({ curPosType: FocusPosType.INPUT, curPos: tags.length });\r\n    } else {\r\n      this.handleTagEvent('click-input', tags.length);\r\n    }\r\n    this.setState({ showSelect: true });\r\n    // if (this[`tag-${tags.length}`].getInputValue().length > 0) {\r\n    //   this.setState({ showSelect: true });\r\n    // }\r\n    setTimeout(() => {\r\n      this[`tag-${tags.length}`] && this[`tag-${tags.length}`].moveToEnd();\r\n    }, 100);\r\n  }\r\n\r\n  @OnOuterClick\r\n  close() {\r\n    // 编辑未完成的取消编辑\r\n    const tags = this.state.tags.map((item, index) => {\r\n      if (item._edit) {\r\n        this[`tag-${index}`].editDone();\r\n        item._edit = false;\r\n      }\r\n      return item;\r\n    });\r\n\r\n    this.setTags(tags, () => {\r\n      this.markTagElect(-1);\r\n      this.setState({ showSelect: false });\r\n      if (this.state.active) {\r\n        this.setState({ curPos: -1 }, () =>\r\n          this.setState({ active: false }, () => this[`search-box`].scrollLeft = 0)\r\n        );\r\n      }\r\n    }, false);\r\n  }\r\n\r\n\r\n  notify = (tags: Array<TagValue>) => {\r\n    const onChange = this.props.onChange;\r\n    if (!onChange) return;\r\n\r\n    const result = new Array();\r\n    tags.forEach(item => {\r\n      const attr = item.attr || null;\r\n      const values = item.values;\r\n      if (attr && attr.type === 'onlyKey' || values.length > 0) {\r\n        result.push({ attr, values, _key: item._key, _edit: item._edit });\r\n      }\r\n    });\r\n    onChange(result);\r\n  }\r\n\r\n  // Tags发生变动\r\n  setTags(tags: Array<TagValue>, callback?: Function, notify = true): void {\r\n    if (notify) this.notify(tags);\r\n    this.setState({ tags }, () => { if (callback) callback() });\r\n  }\r\n\r\n  markTagElect(index: number): void {\r\n    const tags = this.state.tags.map((item, i) => {\r\n      if (index === i) {\r\n        item._elect = true;\r\n        this[`tag-${index}`].focusTag();\r\n      } else {\r\n        item._elect = false;\r\n      }\r\n      return item;\r\n    });\r\n    this.setState({ tags });\r\n  }\r\n\r\n\r\n  /**\r\n   * 点击清除按钮触发事件\r\n   */\r\n  handleClean = (e): void => {\r\n    e.stopPropagation();\r\n    if (this.state.tags.length <= 0) {\r\n      this[`tag-${0}`].setInputValue('');\r\n      return;\r\n    }\r\n    this.setTags([], () => {\r\n      this[`tag-${0}`].setInputValue('');\r\n      this[`tag-${0}`].focusInput();\r\n      // this.handleTagEvent('click-input', 0);\r\n    });\r\n    this.setState({ curPos: 0, curPosType: FocusPosType.INPUT });\r\n  }\r\n\r\n\r\n  /**\r\n   * 点击帮助触发事件\r\n   */\r\n  handleHelp = (e) => {\r\n    e.stopPropagation();\r\n    this.setState({ dialogActive: true });\r\n  }\r\n\r\n\r\n  /**\r\n   * 点击搜索触发事件\r\n   */\r\n  handleSearch = (e) => {\r\n    if (!this.state.active) return;\r\n    e.stopPropagation();\r\n    const { curPos, curPosType, tags } = this.state;\r\n    let flag = false;\r\n    // if (curPosType === FocusPosType.INPUT && this[`tag-${curPos}`].addTagByInputValue()) flag = true;\r\n    const input = this[`tag-${tags.length}`];\r\n    if (input && input.addTagByInputValue) {\r\n      if (input.addTagByInputValue()) {\r\n        flag = true;\r\n      }\r\n    }\r\n    // if (curPosType === FocusPosType.INPUT_EDIT && this[`tag-${curPos}`].addTagByEditInputValue()) flag = true;\r\n\r\n    for (let i = 0; i < tags.length; ++i) {\r\n      if (!this[`tag-${i}`] || !this[`tag-${i}`].addTagByEditInputValue) return;\r\n      if (tags[i]._edit && this[`tag-${i}`].addTagByEditInputValue()) flag = true;\r\n    }\r\n\r\n    if (flag) return;\r\n\r\n    this.notify(this.state.tags);\r\n    input.focusInput();\r\n  }\r\n\r\n  /**\r\n   *  处理Tag相关事件\r\n   */\r\n  handleTagEvent = (type: string, index: number, payload?: any): void => {\r\n    const { tags, active, curPos, curPosType } = this.state;\r\n    // console.log(type, index, payload);\r\n    switch (type) {\r\n\r\n      case 'add':\r\n        this.markTagElect(-1);\r\n\r\n        payload._key = TagSearchBox.cnt++;\r\n        tags.splice(++index, 0, payload);\r\n        this.setTags(tags, () => {\r\n          if (this[`tag-${index}`]) {\r\n            this[`tag-${index}`].focusInput();\r\n          }\r\n        });\r\n        this.setState({ showSelect: false });\r\n        break;\r\n\r\n      case 'edit':\r\n        this.markTagElect(-1);\r\n\r\n        this[`tag-${index}`] && this[`tag-${index}`].editDone();\r\n        tags[index].attr = payload.attr;\r\n        tags[index].values = payload.values;\r\n        tags[index]._edit = false;\r\n\r\n        this.setTags(tags, () => {\r\n          // this[`tag-${index-1}`].focusInput();\r\n        });\r\n        index++;\r\n        this.setState({ showSelect: false, curPosType: FocusPosType.INPUT });\r\n        break;\r\n\r\n      case 'edit-cancel':\r\n        this.markTagElect(-1);\r\n        this[`tag-${index}`].editDone();\r\n\r\n        this.setTags(tags, () => {\r\n          // this[`tag-${index}`].focusInput();\r\n        }, false);\r\n        this.setState({ showSelect: false, curPosType: FocusPosType.INPUT });\r\n        break;\r\n\r\n      case 'editing':\r\n        if (('attr' in payload) && tags[index]) tags[index].attr = payload.attr;\r\n        if (('values' in payload) && tags[index]) tags[index].values = payload.values;\r\n        this.setTags(tags, null, false);\r\n        break;\r\n\r\n      case 'mark':\r\n        if (index === tags.length) index--;\r\n        if (index < 0 || !tags[index]) return;\r\n        if (!tags[index]._elect) {\r\n          this.markTagElect(index);\r\n          this.setState({ curPosType: FocusPosType.TAG });\r\n        }\r\n        break;\r\n\r\n      case 'del':\r\n        if (payload === 'keyboard') index--;\r\n        this.markTagElect(-1);\r\n        if (!tags[index]) break;\r\n\r\n        // 如果当前Tag的input中有内容，推向下个input\r\n        // const curValue = this[`tag-${index}`].getInputValue();\r\n        // this[`tag-${index}`].addTagByInputValue();\r\n\r\n        // 检查不可移除\r\n        const { attr } = tags[index];\r\n        if (attr && 'removeable' in attr && attr.removeable === false) {\r\n          break;\r\n        }\r\n\r\n        tags.splice(index, 1);\r\n        this.setTags(tags, () => {\r\n          this.setState({ curPosType: FocusPosType.INPUT });\r\n          // const input = this[`tag-${index-1 > 0 ? index-1 : 0}`];\r\n          // input.setInputValue(curValue);\r\n          // input.focusInput();\r\n        });\r\n        if (payload !== 'edit') {\r\n          this.setState({ showSelect: false });\r\n        }\r\n        break;\r\n\r\n      // payload 为点击位置\r\n      case 'click':\r\n        if (!active) {\r\n          this.open();\r\n          return;\r\n        }\r\n        // 触发修改\r\n        // if (curPos === index && curPosType === FocusPosType.TAG) {\r\n\r\n        const pos = payload;\r\n        tags[index]._edit = true;\r\n        this.setTags(tags, () => {\r\n          this.setState({ showSelect: true }, () => {\r\n            this[`tag-${index}`].edit(pos);\r\n          });\r\n        }, false);\r\n\r\n        this.setState({ curPosType: FocusPosType.INPUT_EDIT });\r\n\r\n        // } else {\r\n        //   this.markTagElect(index);\r\n        //   this.setState({ curPosType: FocusPosType.TAG });\r\n        // }\r\n\r\n        break;\r\n\r\n      case 'click-input':\r\n        this.markTagElect(-1);\r\n        if (payload === 'edit') {\r\n          this.setState({ curPosType: FocusPosType.INPUT_EDIT });\r\n        } else {\r\n          this.setState({ curPosType: FocusPosType.INPUT });\r\n        }\r\n\r\n        if (!active) {\r\n          this.setState({ active: true });\r\n        }\r\n        this.setState({ showSelect: true });\r\n        break;\r\n\r\n      case 'move-left':\r\n        // if (index <= 0) return;\r\n        // if (index !== tags.length-1 || curPosType !== FocusPosType.INPUT) index--;\r\n        // this.markTagElect(index);\r\n        // this.setState({ curPosType: FocusPosType.TAG });\r\n        // this[`tag-${index}`].focusTag();\r\n        break;\r\n\r\n      case 'move-right':\r\n        // if (index >= tags.length - 1) return;\r\n        // if (curPosType === FocusPosType.INPUT) {\r\n        //   this.setState({ curPosType: FocusPosType.TAG });\r\n        // }\r\n        // // 到达最后input\r\n        // if (index === tags.length-1) {\r\n        //   this.markTagElect(-1);\r\n        //   this[`tag-${index}`].focusInput();\r\n        //   this.setState({ curPosType: FocusPosType.INPUT });\r\n        // } else {\r\n        //   this.markTagElect(index);\r\n        //   this[`tag-${index}`].focusTag();\r\n        // }\r\n        // index++;\r\n        break;\r\n    }\r\n\r\n    this.setState({ curPos: index });\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const { active, inputWidth, inputValue, tags, curPos, curPosType, dialogActive, showSelect } = this.state;\r\n    const { minWidth, tipZh, tipEn, attributes } = this.props;\r\n\r\n    // 用于计算 focused 及 isFocused, 判断是否显示选择组件\r\n    // (直接使用 Input 组件内部 onBlur 判断会使得 click 时组件消失)\r\n    let focusedInputIndex = -1;\r\n    if (curPosType === FocusPosType.INPUT || curPosType === FocusPosType.INPUT_EDIT) {\r\n      focusedInputIndex = curPos;\r\n    }\r\n    const tagList = tags.map((item, index) => {\r\n\r\n      // 补全 attr 属性\r\n      attributes.forEach(attrItem => {\r\n        if (item.attr && attrItem.key && attrItem.key == item.attr.key) {\r\n          item.attr = Object.assign({}, item.attr, attrItem);\r\n        }\r\n      });\r\n\r\n      const selectedAttrKeys = [];\r\n      tags.forEach(tag => {\r\n        if (tag.attr && item.attr && item._edit && item.attr.key === tag.attr.key) return null;\r\n        if (tag.attr && tag.attr.key && !tag.attr.reusable) {\r\n          selectedAttrKeys.push(tag.attr.key);\r\n        }\r\n      })\r\n\r\n      const useableAttributes = attributes.filter(item => selectedAttrKeys.indexOf(item.key) < 0);\r\n\r\n      return <Tag\r\n        ref={tag => this[`tag-${index}`] = tag}\r\n        active={active}\r\n        key={item._key}\r\n        attributes={useableAttributes}\r\n        attr={item.attr}\r\n        values={item.values}\r\n        elect={item._elect}\r\n        maxWidth={this['search-wrap'] ? this['search-wrap'].clientWidth : null}\r\n        focused={(focusedInputIndex === index && showSelect) ? curPosType : null}\r\n        dispatchTagEvent={(type, payload) => this.props.editable && this.handleTagEvent(type, index, payload)} />\r\n    });\r\n\r\n\r\n    const selectedAttrKeys = tags.map(item => item.attr && !item.attr.reusable ? item.attr.key : null).filter(item => !!item);\r\n    const useableAttributes = attributes.filter(item => selectedAttrKeys.indexOf(item.key) < 0);\r\n\r\n    const minWidthStyle = active ? {} : ({ width: minWidth ? minWidth : '100%' });\r\n\r\n    if (this.props.editable) {\r\n      tagList.push(\r\n        <li key='100'>\r\n          <Input\r\n            ref={input => this[`tag-${tags.length}`] = input}\r\n            active={active}\r\n            maxWidth={this['search-wrap'] ? this['search-wrap'].clientWidth : null}\r\n            attributes={useableAttributes}\r\n            isFocused={focusedInputIndex === tags.length && showSelect}\r\n            dispatchTagEvent={(type, payload) => this.handleTagEvent(type, tags.length, payload)}\r\n          />\r\n        </li>\r\n      )\r\n    }\r\n\r\n    const tip = window['VERSION'] === 'en' ? tipEn : tipZh;\r\n\r\n    return (\r\n      <div className=\"tc-select-tags-search-wrap\" style={this.props.style} ref={div => this['search-wrap'] = div}>\r\n        <div\r\n          className={classNames(\"tc-select-tags-search\", { \"focus\": this.props.editable && active })}\r\n          onClick={this.open}\r\n          style={minWidthStyle}\r\n          ref={div => this[`search-box`] = div}\r\n        >\r\n          <div className=\"tc-search-wrap\">\r\n            <ul>\r\n              {tagList}\r\n            </ul>\r\n            {this.props.editable && tagList.length === 1 && <span className=\"help-tips\" style={{ lineHeight: '28px' }}>\r\n              <p className=\"text text-weak\">{tip}</p>\r\n            </span>}\r\n            {/*\r\n            <a href=\"javascript:;\" className=\"tc-icon-btn clear-btn\" onClick={this.handleClean}>\r\n              <div className=\"tc-15-bubble-icon\">\r\n                <i className=\"clear-icon\"></i>\r\n                <div className=\"tc-15-bubble tc-15-bubble-bottom black\">\r\n                  <div className=\"tc-15-bubble-inner\">清空</div>\r\n                </div>\r\n              </div>\r\n            </a>\r\n            <a href=\"javascript:;\" className=\"tc-icon-btn plaint-btn\" onClick={this.handleHelp}>\r\n              <div className=\"tc-15-bubble-icon\">\r\n                <i className=\"plaint-icon\"></i>\r\n                <div className=\"tc-15-bubble tc-15-bubble-bottom black\">\r\n                  <div className=\"tc-15-bubble-inner\">帮助</div>\r\n                </div>\r\n              </div>\r\n            </a>\r\n            <a href=\"javascript:;\" className=\"tc-icon-btn search-btn\" onClick={this.handleSearch}>\r\n              <div className=\"tc-15-bubble-icon\">\r\n                <i className=\"icon-search\"></i>\r\n                <div className=\"tc-15-bubble tc-15-bubble-bottom black\">\r\n                  <div className=\"tc-15-bubble-inner\">搜索</div>\r\n                </div>\r\n              </div>\r\n            </a> */}\r\n          </div>\r\n        </div>\r\n\r\n        {/* <div className=\"dialog-panel\" style={{display: dialogActive ? '': 'none'}}>\r\n          <div className=\"tc-15-rich-dialog m\" role=\"alertdialog\" style={{width: \"960px\", margin: \"0 auto\", marginTop: \"100px\"}}>\r\n            <div className=\"tc-15-rich-dialog-hd\"><strong>搜索帮助</strong>\r\n              <button title=\"关闭\" className=\"tc-15-btn-close\" onClick={() => {this.setState({dialogActive: false})}}>关闭</button>\r\n            </div>\r\n            <div className=\"tc-15-rich-dialog-bd\">\r\n              <i className=\"search-help-dialog\"></i>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","export {\r\n    TagSearchBox,\r\n    TagSearchBoxProps,\r\n} from \"./TagSearchBox\";\r\n","import * as React from 'react';\r\n\r\nexport const Loading = (props) => {\r\n\r\n  return (\r\n    <div className=\"tc-15-autocomplete\" style={{left: `${props.offset}px`}}>\r\n      <ul className=\"tc-15-autocomplete-menu\" role=\"menu\">\r\n        <li role=\"presentation\">\r\n          <a className=\"autocomplete-empty\" role=\"menuitem\" href=\"javascript:;\">加载中 ..</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}","import * as React from 'react';\r\n\r\nexport interface MultipleValueSelectProps {\r\n  values: Array<any>;\r\n  inputValue: string;\r\n  onChange: (value: Array<any>) => void;\r\n  onSelect: (value: Array<any>) => void;\r\n  onCancel: () => void;\r\n  offset: number;\r\n}\r\n\r\nexport interface MultipleValueSelectState {\r\n  curIndex: number,\r\n  select: Array<number>;\r\n}\r\n\r\nconst keys = {\r\n  \"8\" : 'backspace',\r\n  \"9\" : 'tab',\r\n  \"13\": 'enter',\r\n  \"37\": 'left',\r\n  \"38\": 'up',\r\n  \"39\": 'right',\r\n  \"40\": 'down'\r\n};\r\n\r\nexport class MultipleValueSelect extends React.Component<MultipleValueSelectProps, any> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const list = this.props.inputValue.split('|').map(i => i.trim());\r\n    const select = [], values = this.props.values.map(item => Object.assign({}, item, { name: item.name.trim() }));\r\n\r\n    values.forEach((item, index) => {\r\n      if (list.indexOf(item.name) >= 0) {\r\n        select.push(index);\r\n      }\r\n    });\r\n\r\n    this.state = {\r\n      curIndex: -1,\r\n      select,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const select = this.state.select;\r\n    if (select.length <= 0 && this.props.onSelect) {\r\n      this.props.onSelect(this.getValue(select));\r\n    }\r\n  }\r\n  \r\n  componentWillReceiveProps(nextProps: MultipleValueSelectProps) {\r\n    if (this.props.inputValue !== nextProps.inputValue) {\r\n      const list = nextProps.inputValue.split('|').map(i => i.trim());\r\n      const select = [], values = nextProps.values.map(item => Object.assign({}, item, { name: item.name.trim() }));\r\n      values.forEach((item, index) => {\r\n        if (list.indexOf(item.name) >= 0) {\r\n          select.push(index);\r\n        }\r\n      });\r\n      this.setState({ select });\r\n    }\r\n  }\r\n\r\n  // 父组件调用\r\n  handleKeyDown = (keyCode: number): boolean => {\r\n\r\n    if (!keys[keyCode]) return;\r\n    const { onSelect, onChange } = this.props;\r\n    const { curIndex, select } = this.state;\r\n\r\n    switch (keys[keyCode]) {\r\n\r\n      case 'tab':\r\n        if (curIndex < 0) return false;\r\n        const pos = select.indexOf(curIndex);\r\n        if (pos >= 0) {\r\n          select.splice(pos, 1);\r\n        } else {\r\n          select.push(curIndex);\r\n        }\r\n\r\n        if (onChange) {\r\n          onChange(this.getValue(select));\r\n        }\r\n        return false;\r\n      \r\n      case 'enter':\r\n        if (onSelect) {\r\n          onSelect(this.getValue(select));\r\n        }\r\n        return false;\r\n\r\n      case 'up':\r\n        this.move(-1);\r\n        break;\r\n      \r\n      case 'down':\r\n        this.move(1);\r\n        break;\r\n    }\r\n  }\r\n\r\n  getValue(select: Array<number>): Array<any> {\r\n    const { values } = this.props;\r\n    return select.map(i => values[i]);\r\n  }\r\n\r\n  move = (step: number):void => {\r\n    const curIndex = this.state.curIndex;\r\n    const { values, inputValue } = this.props;\r\n    if (values.length <= 0) return;\r\n    this.setState({ curIndex: (curIndex + step + values.length) % values.length });\r\n  }\r\n\r\n\r\n  handleClick = (e, index: number): void => {\r\n    e.stopPropagation();\r\n    const select = this.state.select;\r\n    const onChange = this.props.onChange;\r\n\r\n    const pos = select.indexOf(index);\r\n    if (pos >= 0) {\r\n      select.splice(pos, 1);\r\n    } else {\r\n      select.push(index);\r\n    }\r\n\r\n    if (onChange) {\r\n      onChange(this.getValue(select));\r\n    }\r\n  }\r\n\r\n  handleSubmit = (e): void => {\r\n    e.stopPropagation();\r\n    const onSelect = this.props.onSelect;\r\n    const select = this.state.select;\r\n    if (onSelect) {\r\n      onSelect(this.getValue(select));\r\n    }\r\n  }\r\n\r\n  handleCancel = (e): void => {\r\n    e.stopPropagation();\r\n    const onCancel = this.props.onCancel;\r\n    if (onCancel) {\r\n      onCancel();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { select, curIndex } = this.state;\r\n    const { inputValue, values, offset } = this.props;\r\n    \r\n    const list = values.map((item, index) => {\r\n      const input = <label className=\"form-ctrl-label\" style={item.style || {}} title={item.name}><input type=\"checkbox\" readOnly checked={select.indexOf(index) >= 0} className=\"tc-15-checkbox\" />{item.name}</label>;\r\n\r\n      if (curIndex === index) {\r\n        return (\r\n          <li role=\"presentation\" key={index} className=\"autocomplete-cur\" onMouseDown={(e) => this.handleClick(e, index)}>\r\n           {input}\r\n          </li>\r\n        )\r\n      }\r\n      return (\r\n        <li role=\"presentation\" key={index}  onMouseDown={(e) => this.handleClick(e, index)}>\r\n          {input}\r\n        </li>\r\n      )\r\n    });\r\n\r\n    if (list.length === 0) return null;\r\n\r\n    let maxHeight = document.body.clientHeight ? document.body.clientHeight - 400 : 450;\r\n    maxHeight = maxHeight > 240 ? maxHeight : 240;\r\n\r\n    return (\r\n      <div className=\"tc-15-autocomplete\" style={{left: `${offset}px`}}>\r\n        <ul className=\"tc-15-autocomplete-menu\" role=\"menu\" style={{maxHeight: `${maxHeight}px`}}>\r\n          {list}\r\n        </ul>\r\n        <div className=\"tc-autocomplete-ft\">\r\n          <a href=\"javascript:;\" className=\"autocomplete-btn\" onClick={this.handleSubmit}>完成</a>\r\n          <a href=\"javascript:;\" className=\"autocomplete-btn\" onClick={this.handleCancel}>取消</a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import * as React from 'react';\r\n\r\nexport interface PureInputProps {\r\n  inputValue: string;\r\n  onChange?: (value: Array<any>) => void;\r\n  onSelect?: (value: Array<any>) => void;\r\n  offset: number;\r\n}\r\n\r\nconst keys = {\r\n  \"9\" : 'tab',\r\n  \"13\": 'enter'\r\n};\r\n\r\nexport class PureInput extends React.Component<PureInputProps, any> {\r\n\r\n  componentDidMount() {\r\n    const onChange = this.props.onChange;\r\n    if (onChange) {\r\n      onChange(this.getValue(this.props.inputValue));\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: PureInputProps) {\r\n    if (this.props.inputValue !== nextProps.inputValue) {\r\n      const onChange = nextProps.onChange;\r\n      if (onChange) {\r\n        onChange(this.getValue(nextProps.inputValue));\r\n      }\r\n    }\r\n  }\r\n\r\n  // 父组件调用\r\n  handleKeyDown = (keyCode: number): boolean => {\r\n\r\n    if (!keys[keyCode]) return;\r\n    const { onSelect, inputValue } = this.props;\r\n\r\n    switch (keys[keyCode]) {\r\n\r\n      case 'tab':\r\n      case 'enter':\r\n        if (inputValue.length <= 0) return false;\r\n        if (onSelect) {\r\n          onSelect(this.getValue(this.props.inputValue).filter(i => !!i.name));\r\n        }\r\n        return false;\r\n    }\r\n  }\r\n\r\n  getValue(value: string): Array<any> {\r\n    return value.split('|').map(item => { return { name: item.trim() } });\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}","import * as React from 'react';\r\n\r\nexport interface SingleValueSelectProps {\r\n  values: Array<any>;\r\n  inputValue: string;\r\n  onChange?: (value: Array<any>) => void;\r\n  onSelect?: (value: Array<any>) => void;\r\n  offset: number;\r\n}\r\n\r\nexport interface SingleValueSelectState {\r\n  select: number;\r\n}\r\n\r\nconst keys = {\r\n  \"8\": 'backspace',\r\n  \"9\": 'tab',\r\n  \"13\": 'enter',\r\n  \"37\": 'left',\r\n  \"38\": 'up',\r\n  \"39\": 'right',\r\n  \"40\": 'down'\r\n};\r\n\r\nexport class SingleValueSelect extends React.Component<SingleValueSelectProps, any> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { values, inputValue, onSelect } = this.props;\r\n\r\n    let select = -1;\r\n    values.forEach((item, index) => {\r\n      if (item.name === inputValue) {\r\n        select = index;\r\n      }\r\n    });\r\n\r\n    this.state = {\r\n      select,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const select = this.state.select;\r\n    if (select < 0 && this.props.onSelect) {\r\n      this.props.onSelect(this.getValue(select));\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: SingleValueSelectProps) {\r\n    const { values, inputValue } = nextProps;\r\n    const list = values.map(item => item.name);\r\n    const select = list.indexOf(inputValue);\r\n    this.setState({ select });\r\n  }\r\n\r\n  // 父组件调用\r\n  handleKeyDown = (keyCode: number): boolean => {\r\n\r\n    if (!keys[keyCode]) return;\r\n    const { onSelect } = this.props;\r\n    const select = this.state.select;\r\n\r\n    switch (keys[keyCode]) {\r\n\r\n      case 'enter':\r\n      case 'tab':\r\n        if (onSelect) {\r\n          onSelect(this.getValue(select));\r\n        }\r\n        return false;\r\n\r\n      case 'up':\r\n        this.move(-1);\r\n        break;\r\n\r\n      case 'down':\r\n        this.move(1);\r\n        break;\r\n    }\r\n  }\r\n\r\n  getValue(select: number): Array<any> {\r\n    const { values, inputValue } = this.props;\r\n    if (select < 0) {\r\n      // return [];\r\n      if (inputValue)\r\n        return [{ name: inputValue }];\r\n      return []\r\n    }\r\n\r\n    const list = values;\r\n    if (select < list.length) {\r\n      return [list[select]];\r\n    } else {\r\n      const select = list.map(item => item.name).indexOf(inputValue);\r\n      this.setState({ select });\r\n      if (select < 0) return [];\r\n      return [list[select]];\r\n    }\r\n  }\r\n\r\n  move = (step: number): void => {\r\n    const select = this.state.select;\r\n    const { values, inputValue } = this.props;\r\n    const list = values;\r\n    if (list.length <= 0) return;\r\n    this.setState({ select: (select + step + list.length) % list.length });\r\n  }\r\n\r\n\r\n  handleClick = (e, index: number): void => {\r\n    e.stopPropagation();\r\n    if (this.props.onSelect) {\r\n      this.props.onSelect(this.getValue(index));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const select = this.state.select;\r\n    const { inputValue, values, offset } = this.props;\r\n\r\n    const list = values.map((item, index) => {\r\n      if (select === index) {\r\n        return (\r\n          <li role=\"presentation\" key={index} className=\"autocomplete-cur\" onClick={(e) => this.handleClick(e, index)}>\r\n            <a className=\"text-truncate\" role=\"menuitem\" href=\"javascript:;\" title={item.name} style={item.style || {}}>{item.name}</a>\r\n          </li>\r\n        )\r\n      }\r\n      return (\r\n        <li role=\"presentation\" key={index} onClick={(e) => this.handleClick(e, index)}>\r\n          <a className=\"text-truncate\" role=\"menuitem\" href=\"javascript:;\" title={item.name} style={item.style || {}}>{item.name}</a>\r\n        </li>\r\n      )\r\n    });\r\n\r\n    if (list.length === 0) {\r\n      list.push(\r\n        <li role=\"presentation\" key={0}>\r\n          <a className=\"autocomplete-empty\" role=\"menuitem\" href=\"javascript:;\">相关值不存在</a>\r\n        </li>\r\n      );\r\n    }\r\n\r\n    let maxHeight = document.body.clientHeight ? document.body.clientHeight - 450 : 400;\r\n    maxHeight = maxHeight > 240 ? maxHeight : 240;\r\n\r\n    return (\r\n      <div className=\"tc-15-autocomplete\" style={{ left: `${offset}px`, width: 'auto', minWidth: 180 }}>\r\n        <ul className=\"tc-15-autocomplete-menu\" role=\"menu\" style={{ maxHeight: `${maxHeight}px` }}>\r\n          {list}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}","import * as React from 'react';\r\nimport { PureInput } from './PureInput';\r\nimport { SingleValueSelect } from './SingleValueSelect';\r\nimport { MultipleValueSelect } from './MultipleValueSelect';\r\nimport { Loading } from './Loading';\r\n\r\nexport interface ValueSelectProps {\r\n  \r\n  /**\r\n   * 值选择组件类型，用于选择不同组件\r\n   */\r\n  type: string;\r\n\r\n  /**\r\n   * 值选择组件可选值的集合\r\n   */\r\n  values?: Array<any> | Function;\r\n\r\n  /**\r\n   * 当前输入值\r\n   */\r\n  inputValue?: string;\r\n  onChange?: (value: any) => void;\r\n  onSelect?: (value: any) => void;\r\n  onCancel?: () => void;\r\n  offset: number;\r\n}\r\n\r\n\r\nexport class ValueSelect extends React.Component<ValueSelectProps, any> {\r\n\r\n  mount = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let values = [];\r\n    const propsValues = this.props.values;\r\n\r\n    if (typeof propsValues !== \"function\") {\r\n      values = propsValues\r\n    }\r\n\r\n    this.state = { values }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.mount = true;\r\n    const propsValues = this.props.values;\r\n    if (typeof propsValues === \"function\") {\r\n      const res = propsValues();\r\n      // Promise\r\n      if (res && res.then) {\r\n        res.then(values => {\r\n          this.mount && this.setState({ values });\r\n        });\r\n      } else {\r\n        this.mount && this.setState({ values: res });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mount = false;\r\n  }\r\n\r\n  handleKeyDown = (keyCode: number): boolean => {\r\n    if (this['select'] && this['select'].handleKeyDown) {\r\n      return this['select'].handleKeyDown(keyCode);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // handleKeyUp = (keyCode: number): boolean => {\r\n  //   if (this['select'] && this['select'].handleKeyUp) {\r\n  //     return this['select'].handleKeyUp(keyCode);\r\n  //   }\r\n  //   return true;\r\n  // }\r\n  \r\n  render() {\r\n\r\n    const values = this.state.values;\r\n    const { type, inputValue, onChange, onSelect, onCancel, offset } = this.props;\r\n\r\n    const props = { values, inputValue, onChange, onSelect, onCancel, offset };\r\n\r\n    switch (type) {\r\n      case 'input': \r\n        return <PureInput ref={select => this['select']=select} {...props} />\r\n      case 'single': \r\n        if (values.length <= 0) {\r\n          return <Loading offset={offset}/>\r\n        }\r\n        return <SingleValueSelect ref={select => this['select']=select} {...props} />\r\n      case 'multiple':\r\n        if (values.length <= 0) {\r\n          return <Loading />\r\n        }\r\n        return <MultipleValueSelect ref={select => this['select']=select} {...props} />\r\n    }\r\n    return null;\r\n  }\r\n}","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\n\r\n\r\nexport interface SelectProps {\r\n  /**\r\n   * 当前选择的值\r\n   */\r\n  value: number;\r\n  /**\r\n   * 起止值\r\n   */\r\n  from: number;\r\n  to: number;\r\n\r\n  range?: SelectRange;\r\n  onChange?: (value: number) => void;\r\n}\r\n\r\nexport interface SelectRange {\r\n  min?: number;\r\n  max?: number;\r\n}\r\n\r\n/**\r\n * （受控组件）\r\n */\r\nexport class Select extends React.Component<SelectProps, any> {\r\n\r\n  componentDidMount() {\r\n    this.scrollToSelected(0);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.scrollToSelected(150);\r\n  }\r\n\r\n  /**\r\n   * 滚动到指定元素\r\n   */\r\n  scrollTo = (element, to, duration) => {\r\n    if (duration <= 0) {\r\n      element.scrollTop = to;\r\n      return;\r\n    }\r\n    var difference = to - element.scrollTop;\r\n    var perTick = difference / duration * 10;\r\n\r\n    setTimeout(() => {\r\n      element.scrollTop = element.scrollTop + perTick;\r\n      if (element.scrollTop === to) return;\r\n      this.scrollTo(element, to, duration - 10);\r\n    }, 10);\r\n  };\r\n\r\n\r\n  /**\r\n   * 滚动到当前选择元素\r\n   */\r\n  scrollToSelected = (duration) => {\r\n    const select = ReactDOM.findDOMNode(this) as HTMLElement;\r\n    const list = ReactDOM.findDOMNode(this.refs[ 'list' ]);\r\n\r\n    const index = this.props.value;\r\n    const topOption = (list as any).children[ index ] as HTMLElement;\r\n    const to = topOption.offsetTop - select.offsetTop;\r\n\r\n    this.scrollTo(select, to, duration);\r\n  }\r\n\r\n  /**\r\n   * 根据范围生成列表\r\n   */\r\n  genRangeList = (start: number, end: number): Array<String> =>\r\n    Array(end - start + 1).fill(0).map((e, i) => {\r\n        const num = i + start;\r\n        return num > 9 ? `${num}` : `0${num}`\r\n      }\r\n    );\r\n\r\n  handleSelect = (e, val: number): void => {\r\n    e.stopPropagation();\r\n    if (this.props.onChange) this.props.onChange(val);\r\n  }\r\n\r\n  render() {\r\n    const { from, to, value, range } = this.props;\r\n    const list = this.genRangeList(from, to).map((item, i) => {\r\n      if (range && 'min' in range && i < range.min) return (<li key={ i } className=\"disabled\">{ item }</li>);\r\n      if (range && 'max' in range && i > range.max) return (<li key={ i } className=\"disabled\">{ item }</li>);\r\n      return <li key={ i } className={ +item == value ? 'current' : '' }\r\n                 onClick={ (e) => this.handleSelect(e, +item) }>{ item }</li>\r\n    });\r\n\r\n    return (\r\n      <div className=\"tc-time-picker-select\">\r\n        <ul ref=\"list\">{ list }</ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import * as React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport { Bubble, BubbleWrapper } from \"../bubble\";\r\nimport { OnOuterClick } from \"tea-components/libs/decorators/OnOuterClick\";\r\nimport { Select, SelectRange } from \"./Select\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nexport interface TimePickerValue {\r\n  hour: number;\r\n  minute: number;\r\n  second: number;\r\n}\r\n\r\nexport interface TimePickerRange {\r\n  min?: string;\r\n  max?: string;\r\n}\r\n\r\nexport interface TimePickerProps {\r\n  /**\r\n   * 默认时间 - 'HH:mm:ss'\r\n   */\r\n  defaultValue?: string;\r\n\r\n  /**\r\n   * 指定时间（作为受控组件时使用）- 'HH:mm:ss'\r\n   */\r\n  value?: string;\r\n\r\n  /**\r\n   * 未选中日期的时候显示的文案\r\n   */\r\n  placeHolder?: string;\r\n\r\n  /**\r\n   * 是否禁用，默认为 false\r\n   */\r\n  disabled?: boolean;\r\n\r\n  /**\r\n   * 允许选择的时间范围限制\r\n   */\r\n  range?: TimePickerRange;\r\n\r\n  /**\r\n   * 时间被更改时触发\r\n   */\r\n  onChange?: (time: string) => void;\r\n}\r\n\r\n// disabledHours?: () => Array<number>;\r\n// disabledMinutes?: (selectedHour: number) => Array<number>;\r\n// disabledSeconds?: (selectedHour: number, disabledMinutes: number) => Array<number>;\r\n\r\nconst keys = {\r\n  \"38\": \"up\",\r\n  \"40\": \"down\",\r\n  \"13\": \"enter\"\r\n};\r\n\r\nexport class TimePicker extends React.Component<TimePickerProps, any> {\r\n  constructor(props: TimePickerProps) {\r\n    super(props);\r\n\r\n    let defaultValue = props.value || props.defaultValue;\r\n    const value = this.check(this.parse(defaultValue)) ? this.parse(defaultValue) : null;\r\n\r\n    this.state = {\r\n      bubbleActive: false,\r\n      active: false,\r\n      inputValue: defaultValue ? this.format(defaultValue) : \"\",\r\n      value\r\n    };\r\n\r\n    this.close = this.close.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: TimePickerProps) {\r\n    // 受控组件\r\n    if (\"value\" in nextProps) {\r\n      const nextValue = this.parse(nextProps.value);\r\n      let value = this.check(nextValue) ? nextValue : null;\r\n\r\n      const range: TimePickerRange = nextProps.range || {};\r\n\r\n      if (value !== null && range.min && this.format(value) < range.min) {\r\n        value = this.parse(range.min);\r\n        this.confirm(range.min);\r\n        return;\r\n      }\r\n\r\n      if (value !== null && range.max && this.format(value) > range.max) {\r\n        value = this.parse(range.max);\r\n        this.confirm(range.max);\r\n        return;\r\n      }\r\n\r\n      this.setState({ value, inputValue: this.format(value) });\r\n    }\r\n  }\r\n\r\n  // getCurTime = (props: TimePickerProps) => {\r\n\r\n  // }\r\n\r\n  /**\r\n   * 格式化\r\n   */\r\n  formatNum = (num: number): string => (num > 9 ? `${num}` : `0${num}`);\r\n\r\n  format = (value: string | TimePickerValue | null): string => {\r\n    if (typeof value === \"string\") return value;\r\n    if (!value) return \"\";\r\n    const { hour, minute, second } = value;\r\n    return `${this.formatNum(hour)}:${this.formatNum(minute)}:${this.formatNum(second)}`;\r\n  };\r\n\r\n  /**\r\n   * 检验传入value值是否合法\r\n   */\r\n  check = (value: TimePickerValue): boolean => {\r\n    if (!value) return false;\r\n    if (!(\"hour\" in value) || value.hour < 0 || value.hour > 23) return false;\r\n    if (!(\"minute\" in value) || value.minute < 0 || value.minute > 59) return false;\r\n    if (!(\"second\" in value) || value.second < 0 || value.second > 59) return false;\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * 将字符串解析为 TimePickerValue\r\n   */\r\n\r\n  parse = (value: string | TimePickerValue): TimePickerValue => {\r\n    if (typeof value !== \"string\") return value;\r\n    if (!/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(value)) return null;\r\n    return {\r\n      hour: +value.substr(0, 2),\r\n      minute: +value.substr(3, 2),\r\n      second: +value.substr(6, 2)\r\n    };\r\n  };\r\n\r\n  /**\r\n   * 确认value，合法将调用 onChange\r\n   */\r\n  confirm = value => {\r\n    if (!(\"value\" in this.props)) {\r\n      this.setState({ value });\r\n    }\r\n    if (this.props.onChange) {\r\n      this.props.onChange(this.format(value));\r\n    }\r\n\r\n    this.setState({ inputValue: this.format(value) });\r\n  };\r\n\r\n  handleInputChange = (e): void => {\r\n    const inputValue = e.target.value;\r\n\r\n    if (/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(inputValue)) {\r\n      const value = {\r\n        hour: +inputValue.substr(0, 2),\r\n        minute: +inputValue.substr(3, 2),\r\n        second: +inputValue.substr(6, 2)\r\n      };\r\n      if (this.check(value)) {\r\n        const range: TimePickerRange = this.props.range || {};\r\n        if (\r\n          (!(\"min\" in range) || this.format(value) >= range.min) &&\r\n          (!(\"max\" in range) || this.format(value) <= range.max)\r\n        ) {\r\n          this.confirm(value);\r\n        }\r\n      }\r\n      this.setState({ bubbleActive: false });\r\n    } else {\r\n      this.setState({ bubbleActive: true });\r\n    }\r\n\r\n    if (inputValue.length === 0) {\r\n      this.setState({ bubbleActive: false });\r\n    }\r\n\r\n    this.setState({ inputValue });\r\n  };\r\n\r\n  open = () => {\r\n    if (\"value\" in this.props) {\r\n      this.setState({ value: this.parse(this.props.value) });\r\n    }\r\n    if (!this.state.active && !this.props.disabled) {\r\n      this.setState({ active: true });\r\n    }\r\n  };\r\n\r\n  @OnOuterClick\r\n  public close() {\r\n    const { inputValue } = this.state;\r\n    let value = this.state.value;\r\n\r\n    if (\"value\" in this.props) {\r\n      value = this.props.value;\r\n      this.setState({ inputValue: this.format(value) });\r\n    }\r\n\r\n    // 非法输入检测\r\n    if (!/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/.test(inputValue)) {\r\n      this.setState({ inputValue: this.format(value) });\r\n    }\r\n\r\n    const curValue = {\r\n      hour: +inputValue.substr(0, 2),\r\n      minute: +inputValue.substr(3, 2),\r\n      second: +inputValue.substr(6, 2)\r\n    };\r\n    if (!this.check(curValue)) {\r\n      this.setState({ inputValue: this.format(value) });\r\n    }\r\n\r\n    this.setState({ active: false, bubbleActive: false });\r\n  }\r\n\r\n  handleSelect = (type: string, val: number): void => {\r\n    let value = this.state.value || { hour: 0, minute: 0, second: 0 };\r\n    switch (type) {\r\n      case \"hour\":\r\n        value.hour = val;\r\n        break;\r\n      case \"minute\":\r\n        value.minute = val;\r\n        break;\r\n      case \"second\":\r\n        value.second = val;\r\n    }\r\n\r\n    // 根据范围自调\r\n    const range: TimePickerRange = this.props.range || {};\r\n    let times = 0;\r\n    while ((\"min\" in range && this.format(value) < range.min) || (\"max\" in range && this.format(value) > range.max)) {\r\n      if (type === \"hour\") value.minute = (value.minute + 1) % 60;\r\n      if (type === \"minute\") value.second = (value.second + 1) % 60;\r\n      if (++times > 60) break;\r\n    }\r\n\r\n    this.confirm(value);\r\n  };\r\n\r\n  /**\r\n   * 处理键位按键事件\r\n   */\r\n  handleKeyDown = (e, hourRange, minuteRange, secondRange) => {\r\n    if (!keys[e.keyCode]) return;\r\n    e.preventDefault();\r\n\r\n    const input = e.currentTarget as HTMLInputElement;\r\n\r\n    let start = input.selectionStart,\r\n      end = input.selectionEnd;\r\n    setTimeout(() => input.setSelectionRange(start, end));\r\n\r\n    let value = this.state.value || { hour: 0, minute: 0, second: 0 };\r\n    let type;\r\n\r\n    switch (keys[e.keyCode]) {\r\n      case \"up\":\r\n        if (start >= 0 && end <= 2) {\r\n          type = \"hour\";\r\n          value.hour = (value.hour + 1) % 24;\r\n          if (\r\n            (\"min\" in hourRange && value.hour < hourRange.min) ||\r\n            (\"max\" in hourRange && value.hour > hourRange.max)\r\n          ) {\r\n            value.hour = hourRange.min || 0;\r\n          }\r\n        }\r\n        if (start >= 3 && end <= 5) {\r\n          type = \"minute\";\r\n          value.minute = (value.minute + 1) % 60;\r\n          if (\r\n            (\"min\" in minuteRange && value.minute < minuteRange.min) ||\r\n            (\"max\" in minuteRange && value.minute > minuteRange.max)\r\n          ) {\r\n            value.minute = minuteRange.min || 0;\r\n          }\r\n        }\r\n        if (start >= 6 && end <= 8) {\r\n          type = \"second\";\r\n          value.second = (value.second + 1) % 60;\r\n          if (\r\n            (\"min\" in secondRange && value.second < secondRange.min) ||\r\n            (\"max\" in secondRange && value.second > secondRange.max)\r\n          ) {\r\n            value.second = secondRange.min || 0;\r\n          }\r\n        }\r\n        break;\r\n      case \"down\":\r\n        if (start >= 0 && end <= 2) {\r\n          type = \"hour\";\r\n          value.hour = (value.hour - 1 + 24) % 24;\r\n          if (\r\n            (\"min\" in hourRange && value.hour < hourRange.min) ||\r\n            (\"max\" in hourRange && value.hour > hourRange.max)\r\n          ) {\r\n            value.hour = hourRange.max || 24;\r\n          }\r\n        }\r\n        if (start >= 3 && end <= 5) {\r\n          type = \"minute\";\r\n          value.minute = (value.minute - 1 + 60) % 60;\r\n          if (\r\n            (\"min\" in minuteRange && value.minute < minuteRange.min) ||\r\n            (\"max\" in minuteRange && value.minute > minuteRange.max)\r\n          ) {\r\n            value.minute = minuteRange.max || 60;\r\n          }\r\n        }\r\n        if (start >= 6 && end <= 8) {\r\n          type = \"second\";\r\n          value.second = (value.second - 1 + 60) % 60;\r\n          if (\r\n            (\"min\" in secondRange && value.second < secondRange.min) ||\r\n            (\"max\" in secondRange && value.second > secondRange.max)\r\n          ) {\r\n            value.second = secondRange.max || 60;\r\n          }\r\n        }\r\n        break;\r\n      case \"enter\":\r\n        this.close();\r\n        (ReactDOM.findDOMNode(this[\"input\"]) as HTMLElement).blur();\r\n        return;\r\n    }\r\n\r\n    const range: TimePickerRange = this.props.range || {};\r\n\r\n    while ((\"min\" in range && this.format(value) < range.min) || (\"max\" in range && this.format(value) > range.max)) {\r\n      // 根据范围修正\r\n      if (type === \"hour\") value.minute = (value.minute + 1) % 60;\r\n      if (type === \"minute\") value.second = (value.second + 1) % 60;\r\n    }\r\n\r\n    this.confirm(value);\r\n  };\r\n\r\n  render() {\r\n    const value = this.state.value || { hour: 0, minute: 0, second: 0 };\r\n    const { hour, minute, second } = value;\r\n\r\n    const range: TimePickerRange = this.props.range || {};\r\n    const minRange: TimePickerValue = this.parse(range.min) || { hour: 0, minute: 0, second: 0 };\r\n    const maxRange: TimePickerValue = this.parse(range.max) || { hour: 23, minute: 59, second: 59 };\r\n\r\n    let hourRange: SelectRange = { min: minRange.hour, max: maxRange.hour };\r\n    let minuteRange: SelectRange = {},\r\n      secondRange: SelectRange = {};\r\n\r\n    if (hour == hourRange.min) {\r\n      minuteRange.min = minRange.minute;\r\n      if (\"min\" in minuteRange && minute == minuteRange.min) {\r\n        secondRange.min = minRange.second;\r\n      }\r\n    }\r\n    if (hour == hourRange.max) {\r\n      minuteRange.max = maxRange.minute;\r\n      if (\"max\" in minuteRange && minute == minuteRange.max) {\r\n        secondRange.max = maxRange.second;\r\n      }\r\n    }\r\n\r\n    const combobox = this.state.active ? (\r\n      <div className=\"tc-time-picker-combobox\">\r\n        <Select\r\n          from={0}\r\n          to={23}\r\n          value={hour}\r\n          range={hourRange}\r\n          onChange={value => {\r\n            this.handleSelect(\"hour\", value);\r\n          }}\r\n        />\r\n        <Select\r\n          from={0}\r\n          to={59}\r\n          value={minute}\r\n          range={minuteRange}\r\n          onChange={value => {\r\n            this.handleSelect(\"minute\", value);\r\n          }}\r\n        />\r\n        <Select\r\n          from={0}\r\n          to={59}\r\n          value={second}\r\n          range={secondRange}\r\n          onChange={value => {\r\n            this.handleSelect(\"second\", value);\r\n          }}\r\n        />\r\n      </div>\r\n    ) : null;\r\n\r\n    return (\r\n      <div className={classNames(\"tc-time-picker\", { active: this.state.active })}>\r\n        <div className=\"tc-time-picker-input-wrap\">\r\n          <BubbleWrapper align=\"start\">\r\n            <input\r\n              type=\"text\"\r\n              ref={el => (this[\"input\"] = el)}\r\n              className=\"tc-15-input-text shortest\"\r\n              onClick={this.open}\r\n              onFocus={this.open}\r\n              placeholder={this.props.placeHolder || \"时间选择\"}\r\n              value={this.state.inputValue}\r\n              onChange={this.handleInputChange}\r\n              disabled={this.props.disabled}\r\n              onKeyDown={e => this.handleKeyDown(e, hourRange, minuteRange, secondRange)}\r\n              maxLength={8}\r\n            />\r\n            <Bubble focusPosition=\"bottom\" className=\"error\" style={{ display: this.state.bubbleActive ? \"\" : \"none\" }}>\r\n              格式错误，应为HH:mm:ss\r\n            </Bubble>\r\n          </BubbleWrapper>\r\n        </div>\r\n        {combobox}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export {\r\n    TimePicker,\r\n    TimePickerProps,\r\n    TimePickerValue,\r\n    TimePickerRange\r\n} from \"./TimePicker\";\r\n","import * as ReactDOM from \"__react-dom-global\";\r\n\r\nexport * from \"__react-dom-global\";\r\nexport default ReactDOM;"],"sourceRoot":""}