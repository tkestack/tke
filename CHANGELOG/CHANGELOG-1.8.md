# [1.8.0](https://github.com/tkestack/tke/compare/v1.7.0...v1.8.0) (2021-09-28)


### Bug Fixes

* **addon:** decouple addon with provider ([#1552](https://github.com/tkestack/tke/issues/1552)) ([25094ad](https://github.com/tkestack/tke/commit/25094ada3ff95ed5c8afc4327de602b181ab0f9a))
* **application:** fix helm rollback failed reversion fill error ([#1236](https://github.com/tkestack/tke/issues/1236)) ([bea4a7c](https://github.com/tkestack/tke/commit/bea4a7caf886f1792322f8df2555ffd7e8f279d3))
* **application:** retry if app failed ([#1466](https://github.com/tkestack/tke/issues/1466)) ([605aa4d](https://github.com/tkestack/tke/commit/605aa4d515b0a2f8761cd3903c6674d0191195ce))
* **application:** selector with targetNamespace ([#1502](https://github.com/tkestack/tke/issues/1502)) ([7b4760d](https://github.com/tkestack/tke/commit/7b4760db6f5fc37b77d4b258a6a33ebf7f24fa6e))
* **audit:** add application.GroupName to controlPlaneGroups ([#1475](https://github.com/tkestack/tke/issues/1475)) ([5a57d71](https://github.com/tkestack/tke/commit/5a57d71d1bc63fc6c2060a70869097dc1bd59b49))
* **auth:** use v1 instead of v1beta1 in yaml ([#1274](https://github.com/tkestack/tke/issues/1274)) ([8568faa](https://github.com/tkestack/tke/commit/8568faa46c933b6275ce43113cf4c36c04ee8a38))
* **ci:** add INSTANCE_TYPES for ci test ([#1248](https://github.com/tkestack/tke/issues/1248)) ([d3a1031](https://github.com/tkestack/tke/commit/d3a1031c275ae70e31d3862328cdd4ca438fe444))
* **console:** add license to web ([#1518](https://github.com/tkestack/tke/issues/1518)) ([a8bf579](https://github.com/tkestack/tke/commit/a8bf579399f1822d43435cc4839e0d94645ccfea))
* **console:** add validate for upgrade master version ([#1579](https://github.com/tkestack/tke/issues/1579)) ([c80c7ca](https://github.com/tkestack/tke/commit/c80c7ca7d0673d8f91ac3f7aafe1d46f90c6deae))
* **console:** change check GPUManager method ([#1597](https://github.com/tkestack/tke/issues/1597)) ([1fc020a](https://github.com/tkestack/tke/commit/1fc020ace65cb0ec6898f8ace21e7f20c756aade))
* **console:** fix use search get error ([#1464](https://github.com/tkestack/tke/issues/1464)) ([d0383c0](https://github.com/tkestack/tke/commit/d0383c0732d9480e89706fc0dc2f30ba3254fa5b))
* **console:** remove history for cornjob detail ([#1575](https://github.com/tkestack/tke/issues/1575)) ([b4c0050](https://github.com/tkestack/tke/commit/b4c005042ef90d7a4bec4c95763a0232d9ce3815))
* **console:** should use spec.features.containerRuntime ([#1554](https://github.com/tkestack/tke/issues/1554)) ([019b4eb](https://github.com/tkestack/tke/commit/019b4eb3138482ee1e47606ab5923cae07007e4e))
* **console:** update clearNodeSH ([#1580](https://github.com/tkestack/tke/issues/1580)) ([8824a7f](https://github.com/tkestack/tke/commit/8824a7f1358f3fd5bd815ef3fe1c581d48989a75))
* **console:** upgrade install helm sh ([#1581](https://github.com/tkestack/tke/issues/1581)) ([a5b777f](https://github.com/tkestack/tke/commit/a5b777fce93314d8e017d675e05ae8887e4ec1a1))
* **console:** when prometheus not installed disable the button ([#1577](https://github.com/tkestack/tke/issues/1577)) ([defa334](https://github.com/tkestack/tke/commit/defa334588b4a8f8b9eb743eddea758e00b797f4))
* **docs,installer:** limit thanos-receive-nodeport svc port to expose ([#1276](https://github.com/tkestack/tke/issues/1276)) ([d28a0b2](https://github.com/tkestack/tke/commit/d28a0b264e2bf53b8f73d671a9adaac75511cac0))
* **installer, registry:** add s3 storage backend ([#1438](https://github.com/tkestack/tke/issues/1438)) ([924abf9](https://github.com/tkestack/tke/commit/924abf9580170cd60391ecd5011c0f1d024edbfa))
* **installer:** add ca crt for upgrade ([#1585](https://github.com/tkestack/tke/issues/1585)) ([bc23289](https://github.com/tkestack/tke/commit/bc23289dd390ad06bdfdc49650acfa36ba75b603))
* **installer:** add console ip to api server certSANs([#1307](https://github.com/tkestack/tke/issues/1307)) ([#1479](https://github.com/tkestack/tke/issues/1479)) ([e60e3f1](https://github.com/tkestack/tke/commit/e60e3f17739c53297955dee687c375034579f280))
* **installer:** add pause for kubeadm job ([#1568](https://github.com/tkestack/tke/issues/1568)) ([7498128](https://github.com/tkestack/tke/commit/7498128a242fab7fd1fab01e8df993907f1a3814))
* **installer:** allow use empty username and password for es ([#1345](https://github.com/tkestack/tke/issues/1345)) ([6a46f66](https://github.com/tkestack/tke/commit/6a46f66a27d1473f72183ce998f89416c8877981))
* **installer:** check installer mode from input ([#1594](https://github.com/tkestack/tke/issues/1594)) ([093dfd7](https://github.com/tkestack/tke/commit/093dfd77fb06eec5d8219c5097f49a01102424fa))
* **installer:** docker pull with config ([#1591](https://github.com/tkestack/tke/issues/1591)) ([b288b75](https://github.com/tkestack/tke/commit/b288b75dbab59410c49c385b03f4338d15c2bb28))
* **installer:** entrypoint get args from user ([#1584](https://github.com/tkestack/tke/issues/1584)) ([150f661](https://github.com/tkestack/tke/commit/150f661ffa5b9283e4a8b8f67b68e3d8ae7d167c))
* **installer:** fix yaml format error ([#1402](https://github.com/tkestack/tke/issues/1402)) ([10bfde7](https://github.com/tkestack/tke/commit/10bfde7c01e81e515db568f2a481ca098a1394ba))
* **installer:** global cls use containerd ([#1558](https://github.com/tkestack/tke/issues/1558)) ([890c472](https://github.com/tkestack/tke/commit/890c472f1ab25d9bb60ae11b19aac3dc1e88d288))
* **installer:** improve installer deploy speed ([#1243](https://github.com/tkestack/tke/issues/1243)) ([95b3977](https://github.com/tkestack/tke/commit/95b397789cf918be02c0e70d11d3163cab2b5905))
* **installer:** modify procedure description ([#1282](https://github.com/tkestack/tke/issues/1282)) ([95e63e6](https://github.com/tkestack/tke/commit/95e63e6ae6a64a46fd0398309e84b71912957690))
* **installer:** revise patch platform version log ([#1288](https://github.com/tkestack/tke/issues/1288)) ([60f57c9](https://github.com/tkestack/tke/commit/60f57c9efff76293467a445daea340ffb0ff7d6e))
* **installer:** set docker as global cls runtime ([#1521](https://github.com/tkestack/tke/issues/1521)) ([6ec4ad5](https://github.com/tkestack/tke/commit/6ec4ad53de6e96871be7cb54765f86bf5f89364e))
* **installer:** start registry failed ([#1593](https://github.com/tkestack/tke/issues/1593)) ([14cc30e](https://github.com/tkestack/tke/commit/14cc30ea30bbd6126972b40e368a435bf30dddb2))
* **installer:** stop run local registry in upgrade ([#1589](https://github.com/tkestack/tke/issues/1589)) ([df2dddd](https://github.com/tkestack/tke/commit/df2dddd09bbd05a84c33e33698d26266682e63e8))
* **installer:** update message ([237ccf3](https://github.com/tkestack/tke/commit/237ccf3818e0b880f7ebce9d1f7923fa5939eebd))
* **installer:** upgrade depl whith input image ([#1587](https://github.com/tkestack/tke/issues/1587)) ([cbc7c26](https://github.com/tkestack/tke/commit/cbc7c26c15c8b2d32d99eb70f6b1199b7b45d901))
* invalid token and host for ProxyRest ([#1234](https://github.com/tkestack/tke/issues/1234)) ([6f9c775](https://github.com/tkestack/tke/commit/6f9c775fc0ea2f5040591ceb62e3d3caa7c02c8a))
* **logagent:** log-agent error with provider ([#1544](https://github.com/tkestack/tke/issues/1544)) ([ed99c80](https://github.com/tkestack/tke/commit/ed99c80a175bfd4a024d9a14fb844eb12bfe39fc))
* **monitor:** add node_role label for k8s_node_status_ready ([#1364](https://github.com/tkestack/tke/issues/1364)) ([c1e4552](https://github.com/tkestack/tke/commit/c1e4552efab1478087755549cca335601ce639b9))
* **monitor:** apiserver report monitor related err ([#1329](https://github.com/tkestack/tke/issues/1329)) ([7b7851a](https://github.com/tkestack/tke/commit/7b7851ab9886eb059be15380e1eb68b789f9c5d6))
* **monitor:** convert elastic password bytes to string ([#1343](https://github.com/tkestack/tke/issues/1343)) ([4f2f291](https://github.com/tkestack/tke/commit/4f2f29160689e1ec55967c088096c4eb2e5288f4))
* **notify:** fix tls condition in mail channel ([#1388](https://github.com/tkestack/tke/issues/1388)) ([0b1f13f](https://github.com/tkestack/tke/commit/0b1f13f1940bb6b725526587e37f9f36a07f75d3))
* **platform, installer:** handle file not exist ([#1289](https://github.com/tkestack/tke/issues/1289)) ([1be656d](https://github.com/tkestack/tke/commit/1be656d4eda22a66290484f28def598886829723))
* **platform:** add apiresources options ([#1531](https://github.com/tkestack/tke/issues/1531)) ([b7f400c](https://github.com/tkestack/tke/commit/b7f400cb2b66a09c99255a91a6604c47f9d4765f))
* **platform:** add checkpoint data file for gpumanager ([#1569](https://github.com/tkestack/tke/issues/1569)) ([dfb5f9d](https://github.com/tkestack/tke/commit/dfb5f9db95240920004d0dd4400650bc38dd896f))
* **platform:** add console ip to global apiServer SAN([#1307](https://github.com/tkestack/tke/issues/1307)) ([#1487](https://github.com/tkestack/tke/issues/1487)) ([06c8baa](https://github.com/tkestack/tke/commit/06c8baa18a5950b17ebb8b07cba785dbfbe30fed))
* **platform:** add need set coredns check ([#1606](https://github.com/tkestack/tke/issues/1606)) ([a3b9795](https://github.com/tkestack/tke/commit/a3b9795e93604df8842ad8543852fc3215961d4c))
* **platform:** add needUpdate func in cluster/machine provider ([#1503](https://github.com/tkestack/tke/issues/1503)) ([94e2547](https://github.com/tkestack/tke/commit/94e2547db29b5464e1feb54a24b365bbd48634e0))
* **platform:** add options conversion-gen ([#1559](https://github.com/tkestack/tke/issues/1559)) ([7ae93e8](https://github.com/tkestack/tke/commit/7ae93e8ff2eeaab4c4a6ca2188ed244b865853f5))
* **platform:** backup file failed ([#1290](https://github.com/tkestack/tke/issues/1290)) ([adca0d0](https://github.com/tkestack/tke/commit/adca0d065be336864d512ce9dfc376065448969d))
* **platform:** bootstrap not found loop ([#1486](https://github.com/tkestack/tke/issues/1486)) ([5dff212](https://github.com/tkestack/tke/commit/5dff212259ced2bdb06fa97bf7e6816a409ca81e))
* **platform:** change upgrade coredns logic ([#1605](https://github.com/tkestack/tke/issues/1605)) ([ee6304b](https://github.com/tkestack/tke/commit/ee6304bf511e1808775979afecdae9b7e2ac5776))
* **platform:** check cni config file ([#1557](https://github.com/tkestack/tke/issues/1557)) ([da8e0d6](https://github.com/tkestack/tke/commit/da8e0d602233116f4cf97dacd2c8a9f6b1fc500f))
* **platform:** check docker status before install ([#1567](https://github.com/tkestack/tke/issues/1567)) ([375ef68](https://github.com/tkestack/tke/commit/375ef689b814bd2c7d5acf90226c9011e803eb7f))
* **platform:** clean cilium net before install ([#1280](https://github.com/tkestack/tke/issues/1280)) ([0d18acb](https://github.com/tkestack/tke/commit/0d18acbdeff38059b3dc4453ceb6a9351b8908d3))
* **platform:** compatible with certificate authentication ([#1461](https://github.com/tkestack/tke/issues/1461)) ([12c1a53](https://github.com/tkestack/tke/commit/12c1a538cbd83ba9fa82c610a4cf5155d987d05f))
* **platform:** delete machine failed & move machine operation to provider ([#1435](https://github.com/tkestack/tke/issues/1435)) ([99117f4](https://github.com/tkestack/tke/commit/99117f444dbf92cbbfd26afdac0fa0013925d6d8)), closes [#1351](https://github.com/tkestack/tke/issues/1351) [#1351](https://github.com/tkestack/tke/issues/1351)
* **platform:** delete machine/cluster not found loop ([#1483](https://github.com/tkestack/tke/issues/1483)) ([d940bf7](https://github.com/tkestack/tke/commit/d940bf738ee5433755236237906078d8c2a5506f))
* **platform:** drain node err when using 1.19 api ([#1295](https://github.com/tkestack/tke/issues/1295)) ([891ea70](https://github.com/tkestack/tke/commit/891ea70436b7341b56e48eef772ff6fdf19692c7))
* **platform:** ensure create credential not idempotent ([#1545](https://github.com/tkestack/tke/issues/1545)) ([ee6eafd](https://github.com/tkestack/tke/commit/ee6eafdb76970114e6d32bbe1705a3b531ac01bd))
* **platform:** fix create cluster failed ([#1491](https://github.com/tkestack/tke/issues/1491)) ([48967e3](https://github.com/tkestack/tke/commit/48967e3b1a5d68a9aaf5a52a67727ee5cbd803aa))
* **platform:** fix flannel iface ([#1442](https://github.com/tkestack/tke/issues/1442)) ([1716729](https://github.com/tkestack/tke/commit/171672992966bca28940962692bcc714cd02de34))
* **platform:** fix loglevel for cronhpa ([#1596](https://github.com/tkestack/tke/issues/1596)) ([06376dc](https://github.com/tkestack/tke/commit/06376dc62102aff572a989c9ff57dac5ee74cbf9))
* **platform:** fix metrics for kube-scheduler ([#1354](https://github.com/tkestack/tke/issues/1354)) ([2ae051c](https://github.com/tkestack/tke/commit/2ae051cb82c5dc0baf1a79e95154544162d99cbc))
* **platform:** fix ssh write file bug ([#1296](https://github.com/tkestack/tke/issues/1296)) ([#1297](https://github.com/tkestack/tke/issues/1297)) ([dcd1ce7](https://github.com/tkestack/tke/commit/dcd1ce7ef72d41f30094135018648f70dd84211a))
* **platform:** fix test e2e failed ([#1477](https://github.com/tkestack/tke/issues/1477)) ([083b789](https://github.com/tkestack/tke/commit/083b789770c65a472f1150cd223ca9156ca35132))
* **platform:** get pkg failed through go mod ([#1458](https://github.com/tkestack/tke/issues/1458)) ([469f08c](https://github.com/tkestack/tke/commit/469f08c6276cd0de402e7224564b04f0399c456e))
* **platform:** get tapp cronhpa list failed ([#1298](https://github.com/tkestack/tke/issues/1298)) ([56f24e1](https://github.com/tkestack/tke/commit/56f24e1fe5e965d356cd2252ce300f54aff9f2c3))
* **platform:** gpu support containerd ([#1533](https://github.com/tkestack/tke/issues/1533)) ([7a6812a](https://github.com/tkestack/tke/commit/7a6812a069aeec7dfd2a691b0cfbd7409e692e43))
* **platform:** install containerd exclude cni binary and config file ([#1543](https://github.com/tkestack/tke/issues/1543)) ([9e0a6c9](https://github.com/tkestack/tke/commit/9e0a6c986e1bf83cb58f027387fa7b5bf2e177ca))
* **platform:** mount containerd network namespace into galaxy ([#1413](https://github.com/tkestack/tke/issues/1413)) ([6d15d03](https://github.com/tkestack/tke/commit/6d15d03ee1b25370dbe64e7f6dd1b5152a296270))
* **platform:** networking v1beta1 do NOT support status and event ([#1257](https://github.com/tkestack/tke/issues/1257)) ([4540a48](https://github.com/tkestack/tke/commit/4540a48fc7b141a13e7b87722735484bd0073e53))
* **platform:** only install nvidia device plugin on pgpu ([#1586](https://github.com/tkestack/tke/issues/1586)) ([563f754](https://github.com/tkestack/tke/commit/563f75432a3b80336c0d24144d54e4399141389c))
* **platform:** remove cilium configmap ([#1529](https://github.com/tkestack/tke/issues/1529)) ([9f9354f](https://github.com/tkestack/tke/commit/9f9354ff46f63320cf30dcbad396b77c9ae55334))
* **platform:** remove cilium enabled by default ([#1272](https://github.com/tkestack/tke/issues/1272)) ([201990e](https://github.com/tkestack/tke/commit/201990e7b014abb70c6c12fc75e4e5040aebe376))
* **platform:** retry ImportCluster more times in e2e ([#1428](https://github.com/tkestack/tke/issues/1428)) ([8c99d9b](https://github.com/tkestack/tke/commit/8c99d9b35771f9713c69ed528b043c05add23d6c))
* **platform:** rm ensure mc label ([#1485](https://github.com/tkestack/tke/issues/1485)) ([f2319e4](https://github.com/tkestack/tke/commit/f2319e4cbe956d81fafe1064be37fc70b878d5c4))
* **platform:** set container runtime as required ([#1553](https://github.com/tkestack/tke/issues/1553)) ([351b9a6](https://github.com/tkestack/tke/commit/351b9a6e0e9da3acb7d5a5bb710ba4f37e5d8864))
* **platform:** support new registered cluster type ([#1247](https://github.com/tkestack/tke/issues/1247)) ([c4c6a40](https://github.com/tkestack/tke/commit/c4c6a4075c83bbb78d971b35b458e97eb9e4c62a))
* **platform:** update cilium according to the latest doc change ([#1324](https://github.com/tkestack/tke/issues/1324)) ([5b86893](https://github.com/tkestack/tke/commit/5b86893d1b6268f7197de6bb91ec106361dd2b72))
* **platform:** update cls/mc needupdate logic ([#1500](https://github.com/tkestack/tke/issues/1500)) ([1fdf4f3](https://github.com/tkestack/tke/commit/1fdf4f39286d6a876344093ead38c63a52baeb75))
* **platform:** update csi images repo && csi-operator doc([#1414](https://github.com/tkestack/tke/issues/1414)) ([#1424](https://github.com/tkestack/tke/issues/1424)) ([d9bd614](https://github.com/tkestack/tke/commit/d9bd614ba6f125ac69d8a3b549656f70e9ec042f))
* **platform:** use informer to ensure sync cluster status([#1366](https://github.com/tkestack/tke/issues/1366)) ([#1380](https://github.com/tkestack/tke/issues/1380)) ([425eccc](https://github.com/tkestack/tke/commit/425ecccf9482dc093378f8f47bb414d602f0bb96))
* **registry:** support urls to charproxyoptions ([#1373](https://github.com/tkestack/tke/issues/1373)) ([53089e6](https://github.com/tkestack/tke/commit/53089e63827b156a9100b47da65b1c10a3e60015))


### Features

* **application:** allow user to define app name ([#1473](https://github.com/tkestack/tke/issues/1473)) ([f556820](https://github.com/tkestack/tke/commit/f5568205774534d633e1e705c4f97972b847bc85))
* **application:** support set target namespace ([#1431](https://github.com/tkestack/tke/issues/1431)) ([cb69ab7](https://github.com/tkestack/tke/commit/cb69ab790542d5b7a75023e6302e11679945ca5c))
* **auth,platform,installer:** support rbac ([#1254](https://github.com/tkestack/tke/issues/1254)) ([ab38745](https://github.com/tkestack/tke/commit/ab387453407f802eb12cdafe465714f9a65b20b5))
* **ci:** add env info ([#1262](https://github.com/tkestack/tke/issues/1262)) ([ed2f3a4](https://github.com/tkestack/tke/commit/ed2f3a413f04df56e0451a477d0d35a99575c86e))
* **ci:** remove env test ([#1258](https://github.com/tkestack/tke/issues/1258)) ([e41e4a9](https://github.com/tkestack/tke/commit/e41e4a9a71d3cc006f85cf3fe354f94e7bf05ad9))
* **ci:** test env ([#1251](https://github.com/tkestack/tke/issues/1251)) ([d8f37fe](https://github.com/tkestack/tke/commit/d8f37fe08dbcd2d3e39e76f90919bd49f9bfcbf0))
* **ci:** test pull request target ([#1264](https://github.com/tkestack/tke/issues/1264)) ([d2fe71e](https://github.com/tkestack/tke/commit/d2fe71e72684640952a82b5f84b2da8a34fee1e4))
* **ci:** use secret not secrests to get env ([#1260](https://github.com/tkestack/tke/issues/1260)) ([faa1c6d](https://github.com/tkestack/tke/commit/faa1c6dc3b29064eb42d969d20e3456517107d26))
* **cluster:** export health check time to options ([#1371](https://github.com/tkestack/tke/issues/1371)) ([30add40](https://github.com/tkestack/tke/commit/30add40216e0e1c6781dfd61210a5d5ba8cdfe99))
* **console:** add pre commit lint hook ([#1370](https://github.com/tkestack/tke/issues/1370)) ([0032cea](https://github.com/tkestack/tke/commit/0032cead703dd201274453fe17ba2f695bd362c1))
* **console:** set container rutime default value as containerd ([#1551](https://github.com/tkestack/tke/issues/1551)) ([be0e737](https://github.com/tkestack/tke/commit/be0e737147d306e6c640843582622572f77ea048))
* **console:** support cilium ([#1273](https://github.com/tkestack/tke/issues/1273)) ([9c08ffe](https://github.com/tkestack/tke/commit/9c08ffe4e227be2e46e7141ab5636041a73b9eba))
* **console:** support get app from target namespace ([#1507](https://github.com/tkestack/tke/issues/1507)) ([76f6320](https://github.com/tkestack/tke/commit/76f632037a62bd20f83bb6fde3bf979c865e55e2))
* **console:** support select networkMode ([#1306](https://github.com/tkestack/tke/issues/1306)) ([23f7778](https://github.com/tkestack/tke/commit/23f7778c96705559fcd2be96fe3e239d26e22bb4))
* **console:** upgrade build ([#1323](https://github.com/tkestack/tke/issues/1323)) ([2e15aff](https://github.com/tkestack/tke/commit/2e15affb820976b6fe64833b9ca6b27ec7af1234))
* **console:** upgrade clear node sh ([#1563](https://github.com/tkestack/tke/issues/1563)) ([5ffc56c](https://github.com/tkestack/tke/commit/5ffc56c33515a29ec82a68869b9b378c8d1c349c))
* **console:** upgrade tea-component ([#1417](https://github.com/tkestack/tke/issues/1417)) ([38a3797](https://github.com/tkestack/tke/commit/38a3797ddc4034b643455a3e20c233b526308ad9))
* **console:** use nvm control node version ([#1471](https://github.com/tkestack/tke/issues/1471)) ([11164fb](https://github.com/tkestack/tke/commit/11164fb97da333a13922e25e6c73c879810a4276))
* **console:** when cluster is containerd, disabled open logagent ([#1549](https://github.com/tkestack/tke/issues/1549)) ([f6d756f](https://github.com/tkestack/tke/commit/f6d756f5703600f03cdaa6118bea2f3e5666aa24))
* **console:** when create cluster enable select containerRuntime ([#1394](https://github.com/tkestack/tke/issues/1394)) ([23f49a5](https://github.com/tkestack/tke/commit/23f49a5e54bc972b4489ee442d093d7356e2b292))
* **gateway:** support gzip ([#1326](https://github.com/tkestack/tke/issues/1326)) ([6bf151e](https://github.com/tkestack/tke/commit/6bf151ec4e8cf3b96f58ee6b1cd5a2b6d78a9d22))
* **installer,platform:** expansion-framework support ([#1287](https://github.com/tkestack/tke/issues/1287)) ([2107f20](https://github.com/tkestack/tke/commit/2107f202f84d0f520983ab741501770a7e1c08d5))
* **installer,platform:** support installing apps from charts ([#1350](https://github.com/tkestack/tke/issues/1350)) ([126420c](https://github.com/tkestack/tke/commit/126420c5e758b343e891c160b4a3c81b3d9f82c7))
* **installer:** coredns version is fixed to 1.7 ([#1562](https://github.com/tkestack/tke/issues/1562)) ([fe51d7d](https://github.com/tkestack/tke/commit/fe51d7d4363ca4882d53cd657cd00c06366d0f0b))
* **installer:** push charts to diff repo ([#1375](https://github.com/tkestack/tke/issues/1375)) ([be807d7](https://github.com/tkestack/tke/commit/be807d7541a8427ea3608e322b0366a62310f1b1))
* **installer:** schedule tke com to master node ([#1293](https://github.com/tkestack/tke/issues/1293)) ([b5dea8c](https://github.com/tkestack/tke/commit/b5dea8cdef8b349ca625724f952d5628fd8c3ac9))
* **installer:** set check logic outermost layer ([#1304](https://github.com/tkestack/tke/issues/1304)) ([aa6098d](https://github.com/tkestack/tke/commit/aa6098db8ee59ce50cb0eb0310dcc13bf5f32ab1))
* **installer:** set install application store as default ([#1235](https://github.com/tkestack/tke/issues/1235)) ([cd82f2a](https://github.com/tkestack/tke/commit/cd82f2abd2cc1179849424fb345b9d8acdbbd91c))
* **installer:** support containerd installation ([#1404](https://github.com/tkestack/tke/issues/1404)) ([70dd906](https://github.com/tkestack/tke/commit/70dd9061ffea3e8b801de30d9c4d44b5616146a0))
* **installer:** support push custom charts ([#1284](https://github.com/tkestack/tke/issues/1284)) ([d66fb9a](https://github.com/tkestack/tke/commit/d66fb9a7b1e52d0895f21b05b342353044679944))
* **installer:** update need upgrade coms ([#1566](https://github.com/tkestack/tke/issues/1566)) ([5383f57](https://github.com/tkestack/tke/commit/5383f570ad51d14615e240018f9876a04a396d07))
* **platform:**  change parameter from string to int ([#1316](https://github.com/tkestack/tke/issues/1316)) ([5ae3647](https://github.com/tkestack/tke/commit/5ae364716eb905c571ccb372709e238f8751def7))
* **platform:** add api-resources support for the target cluster ([#1457](https://github.com/tkestack/tke/issues/1457)) ([53eb3a1](https://github.com/tkestack/tke/commit/53eb3a196f435b330d9a00b9832d72335e68b0e8))
* **platform:** add lable on master[0] for cilium underlay ([#1313](https://github.com/tkestack/tke/issues/1313)) ([e36636f](https://github.com/tkestack/tke/commit/e36636f98185c6145be75fcd5b7097407ba49550))
* **platform:** add statefulsets/hpa support ([#1488](https://github.com/tkestack/tke/issues/1488)) ([1ae6f2f](https://github.com/tkestack/tke/commit/1ae6f2f0b26a561cb74330d1378be3df352dbd41))
* **platform:** bump k8s to 1.21.4-tke ([#1555](https://github.com/tkestack/tke/issues/1555)) ([8cb8d10](https://github.com/tkestack/tke/commit/8cb8d1000dcf92e3072d857118ee85a1bf61ed0e))
* **platform:** define bootstrap apps in cluster ([#1456](https://github.com/tkestack/tke/issues/1456)) ([3f86e94](https://github.com/tkestack/tke/commit/3f86e9423c2fe36a606c7cef7e70ccda03af509d))
* **platform:** export limiter  options ([#1398](https://github.com/tkestack/tke/issues/1398)) ([7976f7d](https://github.com/tkestack/tke/commit/7976f7db7e80399e41ba249800672d050ed5d06e))
* **platform:** fix eni ipamd yaml format error ([#1314](https://github.com/tkestack/tke/issues/1314)) ([6427656](https://github.com/tkestack/tke/commit/64276568833c75850bdfde1153e33aa0eb624309))
* **platform:** make gen to genarate api ([#1271](https://github.com/tkestack/tke/issues/1271)) ([16cb1bd](https://github.com/tkestack/tke/commit/16cb1bd5085d2abaee91b6edbe3347af5ad0684c))
* **platform:** refine cluster controller ([#1237](https://github.com/tkestack/tke/issues/1237)) ([850ace9](https://github.com/tkestack/tke/commit/850ace9b0d9af09753deea0dcbfb508cefeb8752))
* **platform:** remove containerd volume mount ([#1522](https://github.com/tkestack/tke/issues/1522)) ([07504a7](https://github.com/tkestack/tke/commit/07504a7a5d78e93f573b2114125ff1535b09962e))
* **platform:** set priority k8s version to 1.20.4 ([#1339](https://github.com/tkestack/tke/issues/1339)) ([b6f9b40](https://github.com/tkestack/tke/commit/b6f9b40a00f76476e5e7ccb71f44c037db8b5973))
* **platform:** support cilium overlay underlay network modes ([#1309](https://github.com/tkestack/tke/issues/1309)) ([4a9fee3](https://github.com/tkestack/tke/commit/4a9fee3fa4840a0934ef7884e98c9bcae7969bc7))
* **platform:** support cilium to cluster feature ([#1252](https://github.com/tkestack/tke/issues/1252)) ([3be6879](https://github.com/tkestack/tke/commit/3be68790a6753d910e9ed7ea07ba64e295d29622))
* **platform:** support containerd as runtime ([#1390](https://github.com/tkestack/tke/issues/1390)) ([8d79f1c](https://github.com/tkestack/tke/commit/8d79f1c4ac4e17d8013a0d9e2b3c7c01a0b4c9b0))
* **platform:** support containerd as runtime ([#1390](https://github.com/tkestack/tke/issues/1390)) ([#1470](https://github.com/tkestack/tke/issues/1470)) ([cb97532](https://github.com/tkestack/tke/commit/cb97532d2110165fb6e29eafe9b6a5056fb46c23))
* **platform:** support containerd on installer ([#1530](https://github.com/tkestack/tke/issues/1530)) ([305c080](https://github.com/tkestack/tke/commit/305c0809412297c29395349c90645beccdf28572))
* **platform:** support custom credential getter ([#1401](https://github.com/tkestack/tke/issues/1401)) ([99c0633](https://github.com/tkestack/tke/commit/99c06334449c3f16c3dd186c7ef463755aa6426d))
* **platform:** update api to 1.19.7 ([#1208](https://github.com/tkestack/tke/issues/1208)) ([25722f7](https://github.com/tkestack/tke/commit/25722f75ec544573806c7b46509e6830ec2ec044))
* **platform:** update code generator to 1.19.7 ([#1301](https://github.com/tkestack/tke/issues/1301)) ([894d682](https://github.com/tkestack/tke/commit/894d6829200e34da130f9813cf77f891ebb0ae0d))
* **platform:** upgrade eni ipamd to v3.3.3 ([#1547](https://github.com/tkestack/tke/issues/1547)) ([b1a40af](https://github.com/tkestack/tke/commit/b1a40af7665eff000aa4e0078470824db042b419))
* **platform:** upgrade go version to 1.16.3 ([#1241](https://github.com/tkestack/tke/issues/1241)) ([8103bcc](https://github.com/tkestack/tke/commit/8103bccd711c63c8c9bec05cc7c20ca9e4b69e46))
* **platform:** use kube-apiserver as authz server ([#1513](https://github.com/tkestack/tke/issues/1513)) ([90ebcb5](https://github.com/tkestack/tke/commit/90ebcb568c67916323e21eeb4523bb04fa4e1702))
* **registry:** using etcd storage for chartmuseum ([#1328](https://github.com/tkestack/tke/issues/1328)) ([c70a9cd](https://github.com/tkestack/tke/commit/c70a9cd5ce79df839030c1857b9823179d9bde4f))


### Reverts

* Revert "feat(platform): proxy cluster version api (#1142)" (#1548) ([cfbcf43](https://github.com/tkestack/tke/commit/cfbcf4377784a0687881c603377fc975d19dc6cc)), closes [#1142](https://github.com/tkestack/tke/issues/1142) [#1548](https://github.com/tkestack/tke/issues/1548)
* Revert "ci(makefile): generate asset before build (#1421)" (#1527) ([906a087](https://github.com/tkestack/tke/commit/906a087fc741d9c39bb0645f428fa39e8d8cb2c9)), closes [#1421](https://github.com/tkestack/tke/issues/1421) [#1527](https://github.com/tkestack/tke/issues/1527)
* Revert "Revert "fix(platform): delete machine failed & move machine operation to provider (#1435)" (#1451)" (#1478) ([d528044](https://github.com/tkestack/tke/commit/d528044d65fcf476feea84098f9029044cb1057d)), closes [#1435](https://github.com/tkestack/tke/issues/1435) [#1451](https://github.com/tkestack/tke/issues/1451) [#1478](https://github.com/tkestack/tke/issues/1478)
* Revert "fix(platform): delete machine failed & move machine operation to provider (#1435)" (#1451) ([cad879c](https://github.com/tkestack/tke/commit/cad879c9cf5540e4c89309c8ef95900553760c8a)), closes [#1435](https://github.com/tkestack/tke/issues/1435) [#1451](https://github.com/tkestack/tke/issues/1451)
* Revert "feat(platform): support containerd as runtime (#1390)" (#1449) ([bf971d9](https://github.com/tkestack/tke/commit/bf971d9ceb08036be1997cd06c7d23d3ed9a797a)), closes [#1390](https://github.com/tkestack/tke/issues/1390) [#1449](https://github.com/tkestack/tke/issues/1449)
* Revert "fix(installer): fix yaml format error (#1402)" (#1448) ([1e8fde0](https://github.com/tkestack/tke/commit/1e8fde0256b335a9f4f1bf508247533f9c7f0937)), closes [#1402](https://github.com/tkestack/tke/issues/1402) [#1448](https://github.com/tkestack/tke/issues/1448)
* Revert "feat(installer): support containerd installation (#1404)" (#1447) ([e8001b3](https://github.com/tkestack/tke/commit/e8001b30424b369a2e5de2e1cb038d852150331f)), closes [#1404](https://github.com/tkestack/tke/issues/1404) [#1447](https://github.com/tkestack/tke/issues/1447)
* Revert "fix(platform): mount containerd network namespace into galaxy (#1413)" (#1446) ([84ebcbf](https://github.com/tkestack/tke/commit/84ebcbfff6485b20dd31ade1411f44d6c8abaf4e)), closes [#1413](https://github.com/tkestack/tke/issues/1413) [#1446](https://github.com/tkestack/tke/issues/1446)
* Revert "feat(ci): test pull request target (#1264)" (#1266) ([f0a490d](https://github.com/tkestack/tke/commit/f0a490d6054a13eb94569df5ac838eb1400749ab)), closes [#1264](https://github.com/tkestack/tke/issues/1264) [#1266](https://github.com/tkestack/tke/issues/1266)
* Revert "feat(ci): use secret not secrests to get env (#1260)" (#1261) ([305e99f](https://github.com/tkestack/tke/commit/305e99f94c2b3bcd0743ff09f681f4db1be33298)), closes [#1260](https://github.com/tkestack/tke/issues/1260) [#1261](https://github.com/tkestack/tke/issues/1261)
* rbac related code ([#1512](https://github.com/tkestack/tke/issues/1512)) ([ec17f9e](https://github.com/tkestack/tke/commit/ec17f9e100b43c3709f9570b9a5d1debd1e92f07)), closes [#1254](https://github.com/tkestack/tke/issues/1254) [#1145](https://github.com/tkestack/tke/issues/1145) [#1089](https://github.com/tkestack/tke/issues/1089)
