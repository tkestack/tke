## [1.9.0](https://github.com/tkestack/tke/compare/v1.8.0...v1.9.0) (2022-03-30)


### Bug Fixes

* **application:** exposed UpdateStatusFunc add Pre\PostUninstall repo ([#1633](https://github.com/tkestack/tke/issues/1633)) ([e030f1b](https://github.com/tkestack/tke/commit/e030f1b373394b243be4e69a640145f57210babd))
* **application:** fix failed  and sync failed check ([#1773](https://github.com/tkestack/tke/issues/1773)) ([54d1a51](https://github.com/tkestack/tke/commit/54d1a517ceb7927158f97a039a255382d296a90c))
* **application:** health check use informer get app ([#1764](https://github.com/tkestack/tke/issues/1764)) ([2419eb3](https://github.com/tkestack/tke/commit/2419eb3aa371f30666fde32fc45e0fa44a9947e0))
* **application:** more specific in not found case ([#1735](https://github.com/tkestack/tke/issues/1735)) ([e927b92](https://github.com/tkestack/tke/commit/e927b9247774a1aca751ea75e33b570e5e6d7618))
* **application:** rm app phase chart fetched ([#1763](https://github.com/tkestack/tke/issues/1763)) ([97c8d80](https://github.com/tkestack/tke/commit/97c8d80ea7ca8fc899733271e4e833e665c9aa07))
* **application:** set helm client timeout ([#1639](https://github.com/tkestack/tke/issues/1639)) ([fac4877](https://github.com/tkestack/tke/commit/fac48775a0c7ab362f06ea7b1febdf52e5a44467))
* **application:** syncAppFromRelease panic when helm list failed ([#1702](https://github.com/tkestack/tke/issues/1702)) ([b9e45bd](https://github.com/tkestack/tke/commit/b9e45bd302e56fba8e5f1d102b534731d6f875d3))
* **application:** update app spec set status upgrading ([#1781](https://github.com/tkestack/tke/issues/1781)) ([f1e7e70](https://github.com/tkestack/tke/commit/f1e7e7095f45c4a38770f482efcf07d652cc5a74))
* **auth:** delete user is blocked in controller ([#1720](https://github.com/tkestack/tke/issues/1720)) ([7e1f45d](https://github.com/tkestack/tke/commit/7e1f45d3bb3cec30c94f19c9b47fba325d6d493b))
* **busniss:** admin checker for ldap case ([#1731](https://github.com/tkestack/tke/issues/1731)) ([be9b946](https://github.com/tkestack/tke/commit/be9b9469bf10faeabb9ba60a8591aad2b5f73f41))
* **console:** create strategy endless loop ([#1724](https://github.com/tkestack/tke/issues/1724)) ([1fb2e73](https://github.com/tkestack/tke/commit/1fb2e733118d4b568910f71dcfbb0b4b9e7a654e))
* **console:** project page get undefined error ([#1727](https://github.com/tkestack/tke/issues/1727)) ([a351a50](https://github.com/tkestack/tke/commit/a351a500f288e7eb4f8f5a1dfcabe96cb4149603))
* **console:** update prometheuses resourceinfo ([#1669](https://github.com/tkestack/tke/issues/1669)) ([6dc5b3a](https://github.com/tkestack/tke/commit/6dc5b3a149ba6dfdbe74b91ea677cba766679364))
* **console:** when query value is empty ,url is wrong ([#1641](https://github.com/tkestack/tke/issues/1641)) ([c298c9e](https://github.com/tkestack/tke/commit/c298c9e134e5647718bb844a4463be3228deddde))
* fix unit test ci ([#1620](https://github.com/tkestack/tke/issues/1620)) ([df4d5ac](https://github.com/tkestack/tke/commit/df4d5acd9b776a8705d732df962faa00c9573dc0))
* install application module ([#1621](https://github.com/tkestack/tke/issues/1621)) ([dff53c7](https://github.com/tkestack/tke/commit/dff53c7cfd267729f9231928713ef5e8f445c477))
* **installer:** add length validation on username ([#1640](https://github.com/tkestack/tke/issues/1640)) ([d96db69](https://github.com/tkestack/tke/commit/d96db691bb9fb3e85bb1cbb9a803e889486cd542))
* **installer:** add request and limit resources for cilium workload ([#1602](https://github.com/tkestack/tke/issues/1602)) ([6e8f177](https://github.com/tkestack/tke/commit/6e8f177564b851c039710bda28fe350b6adfa2cf))
* **installer:** client is nil in preparation ([#1686](https://github.com/tkestack/tke/issues/1686)) ([91bf13e](https://github.com/tkestack/tke/commit/91bf13e77f98e59bde59b049305c4809d28aa403))
* **installer:** cover nil credential case ([#1673](https://github.com/tkestack/tke/issues/1673)) ([1888e23](https://github.com/tkestack/tke/commit/1888e23104f70929a116fc0923008c415a3b4a4e))
* **installer:** deploy registry earlier ([#1753](https://github.com/tkestack/tke/issues/1753)) ([66b2563](https://github.com/tkestack/tke/commit/66b25639326f1b3a3c9b214a2e91b45a1d4b0f40))
* **installer:** fix provider res docker config wrong place ([#1794](https://github.com/tkestack/tke/issues/1794)) ([531ecf2](https://github.com/tkestack/tke/commit/531ecf2821c7cfbb4b098bf7639759c700294826))
* **installer:** helm uninstall chart after helm install chart wrong ([#1793](https://github.com/tkestack/tke/issues/1793)) ([8c7a53b](https://github.com/tkestack/tke/commit/8c7a53b824d9219b1ce9ecb9d1ee47e9974af892))
* **installer:** installer restconfig always nil ([#1675](https://github.com/tkestack/tke/issues/1675)) ([d639abb](https://github.com/tkestack/tke/commit/d639abbcd73903373ba802968a00b7a3ffa419b7))
* **installer:** modify the thanos components replicas and volume mounts ([#1291](https://github.com/tkestack/tke/issues/1291)) ([24f26a6](https://github.com/tkestack/tke/commit/24f26a6fac9693b1ad61908f16437612b65dc932))
* **installer:** set fewer chans for docker push ([#1775](https://github.com/tkestack/tke/issues/1775)) ([a77aefd](https://github.com/tkestack/tke/commit/a77aefd8de888107539e5f1a4631787bdd2c433c))
* **monitor:** cluster dynamic client is nil ([#1685](https://github.com/tkestack/tke/issues/1685)) ([c03474e](https://github.com/tkestack/tke/commit/c03474e2658d1d628e2e0d39cb0ee5598730884d))
* **monitor:** dynamic clientset is nil ([#1679](https://github.com/tkestack/tke/issues/1679)) ([027e078](https://github.com/tkestack/tke/commit/027e07832aabba078824db153bc7cb0f32246f5d))
* **monitor:** status locked may be nil ([#1677](https://github.com/tkestack/tke/issues/1677)) ([55cdb50](https://github.com/tkestack/tke/commit/55cdb50b33282ce406b41b589200eaf1cc57c5b3))
* **platform:** add edge base cluster baremetal ([#1758](https://github.com/tkestack/tke/issues/1758)) ([ee46a9e](https://github.com/tkestack/tke/commit/ee46a9e0c8536d103a3fb41c8a9112f80c084233))
* **platform:** api-resources failed group error ([#1701](https://github.com/tkestack/tke/issues/1701)) ([310e18e](https://github.com/tkestack/tke/commit/310e18e0d696ee0aa57dfe38655b99726eab9f5c))
* **platform:** apply endpoints failed ([#1622](https://github.com/tkestack/tke/issues/1622)) ([22040a7](https://github.com/tkestack/tke/commit/22040a7e2f96e869113029b7619fd2c73996c300))
* **platform:** block in tke-xx controller ([#1729](https://github.com/tkestack/tke/issues/1729)) ([79e2aba](https://github.com/tkestack/tke/commit/79e2aba9ee82afd89da2d39d41c641660923e722))
* **platform:** can't get http.Flusher error ([#1653](https://github.com/tkestack/tke/issues/1653)) ([a3c2fc6](https://github.com/tkestack/tke/commit/a3c2fc69db54d525b96d8b64b8e68cd5b93843d8))
* **platform:** currect the worng name passed to helpCommand() ([#1656](https://github.com/tkestack/tke/issues/1656)) ([a2b31ab](https://github.com/tkestack/tke/commit/a2b31ab4445636ded7b4fe97f49f045a1576e56c))
* **platform:** don't set user in header when proxy ([#1770](https://github.com/tkestack/tke/issues/1770)) ([dbeb1f1](https://github.com/tkestack/tke/commit/dbeb1f1e146e703bb2d7b741d20d8c2a5d8f5642))
* **platform:** get mode from flags ([#1618](https://github.com/tkestack/tke/issues/1618)) ([9e47f63](https://github.com/tkestack/tke/commit/9e47f6337921cfcd1f2e5b9ef2ab3d4d6a18e021))
* **platform:** healcheck resync internal not work ([#1706](https://github.com/tkestack/tke/issues/1706)) ([4647d5d](https://github.com/tkestack/tke/commit/4647d5d385de41efcc24a5bf2315d1a944bffaba))
* **platform:** ignore ca when set env ([#1759](https://github.com/tkestack/tke/issues/1759)) ([ea1d1d0](https://github.com/tkestack/tke/commit/ea1d1d0088076111add4483619734d8da88c1dc1))
* **platform:** log failed for user impersonation ([#1662](https://github.com/tkestack/tke/issues/1662)) ([fa659cb](https://github.com/tkestack/tke/commit/fa659cbb85a086631def75586cb2e1abf906082e))
* **platform:** more info when get cluster ([#1690](https://github.com/tkestack/tke/issues/1690)) ([784381b](https://github.com/tkestack/tke/commit/784381b58c05a22d0a2f2a6bdd6d7af15d9fe56a))
* **platform:** provider ([#1644](https://github.com/tkestack/tke/issues/1644)) ([502e272](https://github.com/tkestack/tke/commit/502e27291eed4b5a2ed6b0c0c127f5799d829265))
* **platform:** provider platform client nil when upgarde ([#1812](https://github.com/tkestack/tke/issues/1812)) ([f53bee5](https://github.com/tkestack/tke/commit/f53bee5ce994ae4eadf4661ba8ac0f17ee3bb0ae))
* **platform:** remove schema of host ([#1687](https://github.com/tkestack/tke/issues/1687)) ([b13686b](https://github.com/tkestack/tke/commit/b13686bf9e1991ae638c492d0a3873e345f8e174))
* **platform:** rm get cc form labelselector ([#1777](https://github.com/tkestack/tke/issues/1777)) ([60d3d54](https://github.com/tkestack/tke/commit/60d3d54b9083af4d7650785525cc9a411e8a13f9))
* **platform:** support bridge in galaxy cni ([#1795](https://github.com/tkestack/tke/issues/1795)) ([32fe9a9](https://github.com/tkestack/tke/commit/32fe9a91987f48e5991cfdfa337d26978f00a71e))
* **platform:** support impersonation request ([#1742](https://github.com/tkestack/tke/issues/1742)) ([ede0e48](https://github.com/tkestack/tke/commit/ede0e4885e748811703e3525d0211d8c5fc6961f))
* **platform:** support sudo with non-root user ([#1714](https://github.com/tkestack/tke/issues/1714)) ([a563b78](https://github.com/tkestack/tke/commit/a563b78f37e12d56dc86d806a3ae2e07e4860a01))
* **platform:** trim prefix in build director ([#1697](https://github.com/tkestack/tke/issues/1697)) ([b614049](https://github.com/tkestack/tke/commit/b614049481aea6811b0c928b7a7a27cc24eeec0f))
* **platform:** trim prefix in make url ([#1695](https://github.com/tkestack/tke/issues/1695)) ([f17fd6a](https://github.com/tkestack/tke/commit/f17fd6a283b2b36eb0018521c518d6e4ff07f0be))
* **platform:** trim prefix in not found proxy ([#1696](https://github.com/tkestack/tke/issues/1696)) ([3d9251f](https://github.com/tkestack/tke/commit/3d9251f493d278833316db470083922111422fbc))
* **platform:** typo in platform types ([#1734](https://github.com/tkestack/tke/issues/1734)) ([74592a3](https://github.com/tkestack/tke/commit/74592a3bceb5bebca602bea21aaebf78007a3bb2))
* stop using rbac v1beta1 ([#1761](https://github.com/tkestack/tke/issues/1761)) ([61fef6a](https://github.com/tkestack/tke/commit/61fef6ac355f3119a9acd4ef06cfbdf71ca76652))
* **tke-installer:** fix wrong chart yaml files ([#1778](https://github.com/tkestack/tke/issues/1778)) ([1cdf116](https://github.com/tkestack/tke/commit/1cdf11673c0691c51ddb27d914d43129f66fd402))


### Features

* add case and ut workflow ([#1615](https://github.com/tkestack/tke/issues/1615)) ([876710f](https://github.com/tkestack/tke/commit/876710fde7e687aea12c9e9f6f325b3c3c45bdfe))
* **application:** add hooks for application ([#1616](https://github.com/tkestack/tke/issues/1616)) ([e126e4d](https://github.com/tkestack/tke/commit/e126e4d1f3e281ae34d9146805e15346dbc6c353))
* **application:** get credential by clusterCredentialRef ([#1760](https://github.com/tkestack/tke/issues/1760)) ([939f14e](https://github.com/tkestack/tke/commit/939f14e43b9756907a6375dc9b15be41f74674e1))
* **application:** set syncPeriod and concurrentSyncs by config file ([#1762](https://github.com/tkestack/tke/issues/1762)) ([be8d413](https://github.com/tkestack/tke/commit/be8d41390e01782458159a3eaa10c277d1e20822))
* **console:**  add params for import cluster by kubeconfig ([#1647](https://github.com/tkestack/tke/issues/1647)) ([c5b7870](https://github.com/tkestack/tke/commit/c5b787006bda748a7a6f9e4cbcb98dd105a6babc))
* **console:** enable edit username ([#1711](https://github.com/tkestack/tke/issues/1711)) ([a4aabf8](https://github.com/tkestack/tke/commit/a4aabf811cdb28b9f2606fc8125d2bd4c9a1b11b))
* **console:** use platform info to get version ([#1737](https://github.com/tkestack/tke/issues/1737)) ([7478517](https://github.com/tkestack/tke/commit/7478517a928127e13470662f37ededb852b77db2))
* create apiextensions-apiserver resource with file ([#1776](https://github.com/tkestack/tke/issues/1776)) ([7dbb653](https://github.com/tkestack/tke/commit/7dbb65326ffb67c518c744aa78685f2490fe0166))
* **gateway:** add platform info api ([#1736](https://github.com/tkestack/tke/issues/1736)) ([9345fd1](https://github.com/tkestack/tke/commit/9345fd17ebc963a7c71af962a5427bde7b2dc6c3))
* **gateway:** support proxy websocket request ([#1792](https://github.com/tkestack/tke/issues/1792)) ([db367bc](https://github.com/tkestack/tke/commit/db367bccfae18325915f8019c14c379589e6addc))
* **installer:** add tke-auth, tke-platform, tke-gateway chart ([#1771](https://github.com/tkestack/tke/issues/1771)) ([0690b9d](https://github.com/tkestack/tke/commit/0690b9d744bda09d58141be743e771dda992c083))
* **installer:** install auth, platform, gateway through charts ([#1788](https://github.com/tkestack/tke/issues/1788)) ([0f45722](https://github.com/tkestack/tke/commit/0f4572205372ac3e58362b16de44b61b9044e508))
* **installer:** push fewer imgs to local registry ([#1745](https://github.com/tkestack/tke/issues/1745)) ([06a556e](https://github.com/tkestack/tke/commit/06a556e395a11b1ecb4bfdc9ad76b1ce09802f17))
* **installer:** push images parallelly ([#1749](https://github.com/tkestack/tke/issues/1749)) ([ff4ee33](https://github.com/tkestack/tke/commit/ff4ee33b0cae1310482a88f4856e19a504698d63))
* **installer:** rm third_party zip ([#1768](https://github.com/tkestack/tke/issues/1768)) ([bc48bed](https://github.com/tkestack/tke/commit/bc48bed59bff2022d87db5e1484481715357ee7c))
* **platform:** add application provider ([#1691](https://github.com/tkestack/tke/issues/1691)) ([28271c3](https://github.com/tkestack/tke/commit/28271c32660f2318bb583fb9552b3eb1bcd13d80))
* **platform:** add k8s rest config provider ([#1666](https://github.com/tkestack/tke/issues/1666)) ([2f033cf](https://github.com/tkestack/tke/commit/2f033cfd48c9ecd3bc34789aae6b7f558eb310e0))
* **platform:** add not found proxy ([#1692](https://github.com/tkestack/tke/issues/1692)) ([1425d11](https://github.com/tkestack/tke/commit/1425d11a208d2312415fc3ade05db2d08113792b))
* **platform:** add username in cluster credential ([#1643](https://github.com/tkestack/tke/issues/1643)) ([18be410](https://github.com/tkestack/tke/commit/18be41052a2796143391220c2bc2812797842832))
* **platform:** bump k8s to 1.21.4-tke.2 ([#1790](https://github.com/tkestack/tke/issues/1790)) ([ad2c07f](https://github.com/tkestack/tke/commit/ad2c07f0f7f26dd45f16fe76106167aba323addb))
* **platform:** bump k8s to 1.21.4-tke.3 ([#1810](https://github.com/tkestack/tke/issues/1810)) ([70aab77](https://github.com/tkestack/tke/commit/70aab77676497b16d7ac2ebb07dcb12928a197c2))
* **platform:** impl restconfig provider ([#1672](https://github.com/tkestack/tke/issues/1672)) ([066ddaa](https://github.com/tkestack/tke/commit/066ddaa125d5baf230798333dd7475d259c3ca52))
* **platform:** random time for health check ([#1665](https://github.com/tkestack/tke/issues/1665)) ([6ec215d](https://github.com/tkestack/tke/commit/6ec215da75228bd81a70fc41e00b165b5495bfdf))
* **platform:** remove register cluster provider ([#1659](https://github.com/tkestack/tke/issues/1659)) ([a5e246c](https://github.com/tkestack/tke/commit/a5e246c567789a0044a0fd46d374bdbb2780a161))
* **platform:** set 30 year for generate self-signed certificate ([#1789](https://github.com/tkestack/tke/issues/1789)) ([0174617](https://github.com/tkestack/tke/commit/01746170708faa599113b027772802bcbb594ee8))
* **platform:** support exec with impersonation ([#1717](https://github.com/tkestack/tke/issues/1717)) ([c919c90](https://github.com/tkestack/tke/commit/c919c9065c28f59105916d44a3d1eb9a0788cc7d))
* **platform:** support impersonation config ([#1631](https://github.com/tkestack/tke/issues/1631)) ([1e01258](https://github.com/tkestack/tke/commit/1e012581c66dad37023e528629a56713ce7afb69))
* **platform:** support proxy CR through websocket ([#1791](https://github.com/tkestack/tke/issues/1791)) ([1392241](https://github.com/tkestack/tke/commit/13922415a711431961951706ea2f4aab135772e1))
* **platform:** update api to 1.22.3 ([#1650](https://github.com/tkestack/tke/issues/1650)) ([bc9ff67](https://github.com/tkestack/tke/commit/bc9ff67c5e8c81883036eb1d3dccc3b8cbbd8b4b))
* **platform:** update code generator ([#1648](https://github.com/tkestack/tke/issues/1648)) ([39efd9e](https://github.com/tkestack/tke/commit/39efd9e8e7da823598f6bbc6be24998e083ed0de))
* **platform:** update support golang version ([#1646](https://github.com/tkestack/tke/issues/1646)) ([8da43f2](https://github.com/tkestack/tke/commit/8da43f29a67d4eb4547dc3e286f7e7452e2e2ed6))
* **platform:** update support k8s versions ([#1645](https://github.com/tkestack/tke/issues/1645)) ([595daec](https://github.com/tkestack/tke/commit/595daecfa0fb8cca35253bfa7a0ee33e90ba587c))
* **registry:** label registry-chart with helm-chart keywords ([#1600](https://github.com/tkestack/tke/issues/1600)) ([830cf5b](https://github.com/tkestack/tke/commit/830cf5bfbf6134328fc749ed88a46af7c5a0d6ba))


### Reverts

* Revert "fix(platform): support bridge in galaxy cni (#1795)" (#1796) ([c2cfc95](https://github.com/tkestack/tke/commit/c2cfc9592ba222c41790841b57fadb9fa72b6d0c)), closes [#1795](https://github.com/tkestack/tke/issues/1795) [#1796](https://github.com/tkestack/tke/issues/1796)



